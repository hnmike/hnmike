/* Everforest Custom Background with Enhanced Blur */

body {
    --ef-background-image: url("https://raw.githubusercontent.com/azurkytheturkey/i3-everforest/main/wallpaper2.png");
    --ef-custom-bg-brightness: 0.7;
    --ef-custom-bg-blur: 8px;
    --ef-custom-bg-opacity: 0.65;
    --ef-accent-color: rgba(137, 156, 64, 0.5);
    --ef-surface-color: rgba(26, 35, 33, 0.55);
    --ef-glass-effect: rgba(255, 255, 255, 0.05);
}

/* Main container background */
.app-container {
    background: var(--ef-background-image) !important;
    background-size: cover !important;
    background-position: center !important;
    background-repeat: no-repeat !important;
    background-attachment: fixed !important;
}

/* Enhanced glass effect for main content */
.horizontal-main-container {
    backdrop-filter: brightness(var(--ef-custom-bg-brightness))
                    blur(var(--ef-custom-bg-blur))
                    saturate(1.2) !important;
    background: linear-gradient(135deg, 
                rgba(26, 35, 33, 0.5),
                rgba(34, 48, 41, 0.4)) !important;
    border: 1px solid rgba(255, 255, 255, 0.05) !important;
    box-shadow: 0 8px 32px 0 rgba(0, 0, 0, 0.15) !important;
}

/* Clean transparent workspace */
.workspace {
    background: transparent !important;
}

/* Glass effect for UI elements */
.workspace-split.mod-root,
.workspace-tabs,
.workspace-ribbon,
.status-bar {
    background: var(--ef-surface-color) !important;
    backdrop-filter: blur(4px) !important;
    border: 1px solid var(--ef-glass-effect) !important;
}

/* Refined content areas */
.view-content {
    background: linear-gradient(160deg, 
                rgba(26, 35, 33, 0.4),
                rgba(34, 48, 41, 0.3)) !important;
    backdrop-filter: blur(6px) !important;
}

/* Enhanced sidebar styling */
.workspace-ribbon.mod-left {
    background: linear-gradient(180deg,
                rgba(20, 28, 25, 0.7),
                rgba(20, 28, 25, 0.5)) !important;
    backdrop-filter: blur(5px) !important;
    border-right: 1px solid var(--ef-glass-effect) !important;
}

/* Improved active elements */
.workspace-leaf.mod-active .view-header {
    background: linear-gradient(90deg,
                rgba(34, 48, 41, 0.75),
                rgba(34, 48, 41, 0.6)) !important;
    backdrop-filter: blur(4px) !important;
    border-bottom: 1px solid var(--ef-accent-color) !important;
}

/* Enhanced code blocks */
pre[class*="language-"],
code[class*="language-"] {
    background: linear-gradient(120deg,
                rgba(20, 28, 25, 0.85),
                rgba(20, 28, 25, 0.75)) !important;
    backdrop-filter: blur(3px) !important;
    border: 1px solid rgba(255, 255, 255, 0.03) !important;
}

/* Refined inline code */
.cm-inline-code {
    background: rgba(20, 28, 25, 0.7) !important;
    backdrop-filter: blur(2px) !important;
    border: 1px solid rgba(255, 255, 255, 0.02) !important;
}

/* Enhanced theme integration */
.theme-dark {
    --background-primary: transparent;
    --background-primary-alt: rgba(20, 28, 25, 0.6);
    --background-secondary: rgba(26, 35, 33, 0.5);
    --background-secondary-alt: rgba(34, 48, 41, 0.7);
}

/* Additional glass effects */
.nav-folder-title:hover,
.nav-file-title:hover {
    background: var(--ef-glass-effect) !important;
    backdrop-filter: blur(4px) !important;
    transition: all 0.2s ease-in-out;
}

.markdown-preview-view {
    background: transparent !important;
}

/* Smooth transitions */
.workspace-leaf,
.nav-file-title,
.nav-folder-title,
.workspace-tab-header {
    transition: all 0.2s ease-in-out !important;
}