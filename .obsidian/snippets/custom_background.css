/* Everforest Custom Background */

:root {
    --ef-background-image: url("https://raw.githubusercontent.com/azurkytheturkey/i3-everforest/main/wallpaper2.png");
    --ef-custom-bg-brightness: 0.75;  /* Increased brightness */
    --ef-custom-bg-blur: 12px;
    --ef-custom-bg-opacity: 0.6;  /* Reduced opacity for better visibility */
    --ef-accent-color: rgba(137, 156, 64, 0.4);
    --ef-surface-color: rgba(18, 22, 24, 0.65);  /* Lighter surface */
    --ef-glass-effect: rgba(255, 255, 255, 0.05);  /* Slightly more visible glass effect */
    --ef-panel-bg: rgba(18, 22, 24, 0.7);  /* Lighter panels */
    --ef-sidebar-bg: rgba(16, 20, 22, 0.75);  /* Lighter sidebar */
    --ef-settings-bg: rgba(18, 22, 24, 0.95); /* New solid background for settings */
}

/* Main background */
body.theme-dark {
    background: var(--ef-background-image) !important;
    background-size: cover !important;
    background-position: center !important;
    background-repeat: no-repeat !important;
    background-attachment: fixed !important;
}

/* App container - ensure transparency */
.app-container {
    background-color: transparent !important;
}

/* Workspace layout adjustments */
.workspace {
    background: transparent !important;
    padding: 0 !important; /* Remove padding */
}

.workspace-split {
    margin: 0 !important; /* Remove margins */
}

/* Main content area */
.workspace-split.mod-vertical {
    background-color: rgba(26, 35, 33, 0.5) !important;
    backdrop-filter: brightness(var(--ef-custom-bg-brightness)) 
                    blur(var(--ef-custom-bg-blur)) 
                    saturate(1.2) !important;
    -webkit-backdrop-filter: brightness(var(--ef-custom-bg-brightness)) 
                           blur(var(--ef-custom-bg-blur)) 
                           saturate(1.2) !important;
}

/* Remove borders and adjust resize handles */
.workspace-split.mod-root .workspace-leaf-resize-handle,
.workspace-split.mod-vertical .workspace-leaf-resize-handle {
    background-color: transparent !important;
    border: none !important;
}

/* Hover effect for resize handles */
.workspace-leaf-resize-handle:hover {
    background-color: var(--ef-accent-color) !important;
    transition: background-color 0.2s ease;
}

/* Settings modal and dialog adjustments */
.modal-container,
.prompt-container {
    background-color: var(--ef-settings-bg) !important;
    backdrop-filter: none !important;
    -webkit-backdrop-filter: none !important;
}

.modal,
.prompt {
    background-color: var(--ef-settings-bg) !important;
    border: none !important;
    box-shadow: 0 4px 24px rgba(0, 0, 0, 0.2) !important;
}

/* Settings panels */
.vertical-tab-header,
.vertical-tab-content-container {
    background-color: var(--ef-settings-bg) !important;
    border: none !important;
}

/* Workspace tabs and ribbon */
.workspace-tab-header-container {
    padding: 0 !important;
    border: none !important;
}

.workspace-tab-container {
    position: relative !important;
    padding: 0 !important;
}

.workspace-tabs {
    padding: 0 !important;
    margin: 0 !important;
    background: var(--ef-panel-bg) !important;
    backdrop-filter: blur(8px) brightness(1.1) !important;
    -webkit-backdrop-filter: blur(8px) brightness(1.1) !important;
    border: none !important;
}

/* Sidebar adjustments */
.workspace-ribbon {
    background: var(--ef-sidebar-bg) !important;
    backdrop-filter: blur(8px) brightness(1.1) !important;
    -webkit-backdrop-filter: blur(8px) brightness(1.1) !important;
    border: none !important;
    padding: 0 !important;
}

/* Status bar */
.status-bar {
    background: var(--ef-panel-bg) !important;
    backdrop-filter: blur(8px) brightness(1.1) !important;
    -webkit-backdrop-filter: blur(8px) brightness(1.1) !important;
    border: none !important;
    padding: 0 4px !important;
}

/* File explorer and navigation */
.nav-folder {
    margin: 0 !important;
    padding: 0 !important;
}

.nav-file-title,
.nav-folder-title {
    margin: 0 !important;
    padding: 4px 8px !important;
}

/* Active leaf and tabs */
.workspace-leaf.mod-active {
    border: none !important;
}

.workspace-tab-header.is-active {
    border-bottom: 2px solid var(--ef-accent-color) !important;
}

/* Leaf content */
.workspace-leaf-content {
    background: transparent !important;
    padding: 0 !important;
}

/* Settings specific styles */
.setting-item {
    border: none !important;
    padding: 12px !important;
}

.setting-item:hover {
    background-color: rgba(255, 255, 255, 0.03) !important;
}

/* Plugin browser and theme browser */
.community-modal-details {
    background-color: var(--ef-settings-bg) !important;
}

/* Search and suggestion containers */
.suggestion-container {
    border: none !important;
    background-color: var(--ef-settings-bg) !important;
}

/* Scrollbars */
::-webkit-scrollbar {
    width: 8px !important;
}

::-webkit-scrollbar-thumb {
    background: var(--ef-accent-color) !important;
    border-radius: 4px !important;
}

::-webkit-scrollbar-track {
    background: transparent !important;
}

/* Remove split padding */
.workspace-split.mod-left-split,
.workspace-split.mod-right-split {
    margin: 0 !important;
}

/* Adjust leaf spacing */
.workspace-leaf {
    padding: 0 !important;
}

/* Enhanced glass effect for main content */
.workspace-split.mod-root {
    background: transparent !important;
}

/* Theme integration */
.theme-dark {
    --background-primary: transparent !important;
    --background-primary-alt: rgba(18, 22, 24, 0.7) !important;  /* Lighter backgrounds */
    --background-secondary: rgba(16, 20, 22, 0.75) !important;
    --background-secondary-alt: rgba(26, 35, 33, 0.6) !important;
}

/* Editor styling */
.cm-editor {
    background: transparent !important;
}

/* Markdown preview */
.markdown-preview-view {
    background: transparent !important;
    padding: 0 1em !important;
}

/* Smooth transitions */
.workspace-leaf,
.nav-file-title,
.nav-folder-title,
.workspace-tab-header {
    transition: all 0.2s ease-in-out !important;
}