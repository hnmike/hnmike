/* Everforest Custom Background with Enhanced Blur */

body {
    --ef-background-image: url("https://raw.githubusercontent.com/azurkytheturkey/i3-everforest/main/wallpaper2.png");
    --ef-custom-bg-brightness: 0.5;
    --ef-custom-bg-blur: 12px;
    --ef-custom-bg-opacity: 0.8;
    --ef-accent-color: rgba(137, 156, 64, 0.3);
    --ef-surface-color: rgba(18, 22, 24, 0.75);
    --ef-glass-effect: rgba(255, 255, 255, 0.03);
    --ef-panel-bg: rgba(18, 22, 24, 0.85);
    --ef-sidebar-bg: rgba(16, 20, 22, 0.9);
}

/* Main container background */
.app-container {
    background: var(--ef-background-image) !important;
    background-size: cover !important;
    background-position: center !important;
    background-repeat: no-repeat !important;
    background-attachment: fixed !important;
}

/* Enhanced glass effect for main content */
.horizontal-main-container {
    backdrop-filter: brightness(var(--ef-custom-bg-brightness))
                    blur(var(--ef-custom-bg-blur))
                    saturate(1.1) !important;
    background: var(--ef-panel-bg) !important;
    border: 1px solid var(--ef-glass-effect) !important;
    box-shadow: 0 4px 24px 0 rgba(0, 0, 0, 0.25) !important;
}

/* Clean transparent workspace */
.workspace {
    background: transparent !important;
}

/* Glass effect for UI elements */
.workspace-split.mod-root {
    background: transparent !important;
}

.workspace-tabs {
    background: var(--ef-panel-bg) !important;
    border-bottom: 1px solid var(--ef-glass-effect) !important;
}

.workspace-ribbon {
    background: var(--ef-sidebar-bg) !important;
    border-right: 1px solid var(--ef-glass-effect) !important;
}

.status-bar {
    background: var(--ef-panel-bg) !important;
    border-top: 1px solid var(--ef-glass-effect) !important;
}

/* Refined content areas */
.view-content {
    background: transparent !important;
}

/* Enhanced sidebar styling */
.workspace-ribbon.mod-left {
    background: var(--ef-sidebar-bg) !important;
    backdrop-filter: blur(8px) !important;
}

/* File explorer styling */
.nav-folder {
    background: transparent !important;
}

.nav-file-title,
.nav-folder-title {
    background: transparent !important;
}

.nav-file-title:hover,
.nav-folder-title:hover {
    background: var(--ef-glass-effect) !important;
    backdrop-filter: blur(4px) !important;
}

/* Improved active elements */
.workspace-leaf.mod-active .view-header {
    background: var(--ef-panel-bg) !important;
    border-bottom: 1px solid var(--ef-accent-color) !important;
}

.workspace-tab-header.is-active {
    background: var(--ef-panel-bg) !important;
    border-bottom: 2px solid var(--ef-accent-color) !important;
}

/* Enhanced code blocks */
pre[class*="language-"],
code[class*="language-"] {
    background: var(--ef-sidebar-bg) !important;
    border: 1px solid rgba(255, 255, 255, 0.03) !important;
}

/* Refined inline code */
.cm-inline-code {
    background: var(--ef-sidebar-bg) !important;
    padding: 0.2em 0.4em !important;
    border-radius: 3px !important;
}

/* Enhanced theme integration */
.theme-dark {
    --background-primary: transparent;
    --background-primary-alt: var(--ef-panel-bg);
    --background-secondary: var(--ef-sidebar-bg);
    --background-secondary-alt: var(--ef-panel-bg);
}

/* Editor styling */
.cm-editor {
    background: transparent !important;
}

.cm-line {
    background: transparent !important;
}

/* Graph view adjustments */
.graph-view.color-fill {
    background: var(--ef-panel-bg) !important;
}

/* Markdown preview */
.markdown-preview-view {
    background: transparent !important;
    padding: 0 1em !important;
}

/* Modal styling */
.modal {
    background: var(--ef-panel-bg) !important;
    backdrop-filter: blur(12px) !important;
    border: 1px solid var(--ef-glass-effect) !important;
}

/* Smooth transitions */
.workspace-leaf,
.nav-file-title,
.nav-folder-title,
.workspace-tab-header {
    transition: all 0.2s ease-in-out !important;
}

/* Scrollbar styling */
::-webkit-scrollbar {
    width: 8px !important;
}

::-webkit-scrollbar-track {
    background: transparent !important;
}

::-webkit-scrollbar-thumb {
    background: var(--ef-accent-color) !important;
    border-radius: 4px !important;
}