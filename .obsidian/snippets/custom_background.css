/* Everforest Custom Background with Soft Color Scheme */

:root {
    --ef-background-image: url("https://raw.githubusercontent.com/azurkytheturkey/i3-everforest/main/wallpaper2.png");
    
    /* Core colors from Soft Everforest */
    --accent-color: rgb(167, 192, 128);
    --link-color: rgb(127, 187, 179);
    --mention-color: rgb(230, 152, 117);
    --text-color: rgb(211, 198, 170);
    
    /* Background colors */
    --bg-accent: rgb(61, 72, 77);
    --bg-primary: rgb(52, 63, 68);
    --bg-secondary: rgb(45, 53, 59);
    --bg-floating: rgb(52, 63, 68);
    
    /* Custom background variables */
    --ef-custom-bg-brightness: 0.75;
    --ef-custom-bg-blur: 12px;
    --ef-custom-bg-opacity: 0.6;
    --ef-accent-color: rgba(167, 192, 128, 0.4);
    --ef-surface-color: rgba(52, 63, 68, 0.65);
    --ef-glass-effect: rgba(211, 198, 170, 0.05);
    --ef-panel-bg: rgba(45, 53, 59, 0.7);
    --ef-sidebar-bg: rgba(45, 53, 59, 0.85);
}

/* Main background */
body.theme-dark {
    background: var(--ef-background-image) !important;
    background-size: cover !important;
    background-position: center !important;
    background-repeat: no-repeat !important;
    background-attachment: fixed !important;
    font-family: 'Ubuntu Sans', sans-serif !important;
}

/* App container */
.app-container {
    background-color: transparent !important;
}

/* Workspace styling */
.workspace {
    background: transparent !important;
    gap: 8px !important;
    padding: 8px !important;
}

.workspace-split {
    gap: 8px !important;
}

/* Workspace cards */
.workspace-leaf {
    border-radius: 8px !important;
    overflow: hidden !important;
    background-color: rgba(52, 63, 68, 0.4) !important;
    backdrop-filter: blur(12px) brightness(1.1) !important;
    -webkit-backdrop-filter: blur(12px) brightness(1.1) !important;
}

/* Remove borders */
.workspace-leaf,
.workspace-tabs,
.view-header,
.workspace-leaf-content,
.nav-folder-children {
    border: none !important;
}

/* Tab headers */
.workspace-tab-header-container {
    background: transparent !important;
    border: none !important;
    padding: 4px 8px !important;
}

.workspace-tab-header {
    border-radius: 4px !important;
    padding: 2px 8px !important;
    margin: 0 2px !important;
    color: var(--text-color) !important;
}

.workspace-tab-header.is-active {
    background-color: rgba(167, 192, 128, 0.1) !important;
    color: var(--accent-color) !important;
    border: none !important;
}

/* Sidebar */
.workspace-ribbon.mod-left {
    background: var(--ef-sidebar-bg) !important;
    border: none !important;
    backdrop-filter: blur(12px) !important;
    -webkit-backdrop-filter: blur(12px) !important;
}

/* File explorer */
.nav-folder-children {
    padding-left: 0 !important;
    margin-left: 8px !important;
}

.nav-file-title,
.nav-folder-title {
    border-radius: 4px !important;
    margin: 1px 0 !important;
    padding: 4px 8px !important;
    color: var(--text-color) !important;
}

.nav-file-title:hover,
.nav-folder-title:hover {
    background-color: rgba(167, 192, 128, 0.1) !important;
    color: var(--accent-color) !important;
}

.nav-file-title.is-active {
    background-color: rgba(167, 192, 128, 0.15) !important;
    color: var(--accent-color) !important;
}

/* Links */
a,
.internal-link,
.external-link {
    color: var(--link-color) !important;
    opacity: 0.9;
    transition: all 0.2s ease;
}

a:hover,
.internal-link:hover,
.external-link:hover {
    color: var(--mention-color) !important;
    opacity: 0.95;
}

/* Code blocks */
pre[class*="language-"],
code[class*="language-"] {
    border-radius: 4px !important;
    background: rgba(45, 53, 59, 0.6) !important;
    border: none !important;
    color: var(--text-color) !important;
}

/* Inline code */
.cm-inline-code {
    border-radius: 4px !important;
    padding: 2px 4px !important;
    background: rgba(45, 53, 59, 0.6) !important;
    color: var(--text-color) !important;
}

/* Headers */
.markdown-preview-section h1,
.markdown-preview-section h2,
.markdown-preview-section h3,
.markdown-preview-section h4,
.markdown-preview-section h5,
.markdown-preview-section h6 {
    color: var(--accent-color) !important;
}

/* Theme integration */
.theme-dark {
    --background-primary: transparent !important;
    --background-primary-alt: var(--bg-primary) !important;
    --background-secondary: var(--bg-secondary) !important;
    --background-secondary-alt: var(--bg-secondary) !important;
    --text-normal: var(--text-color) !important;
    --text-muted: rgba(211, 198, 170, 0.8) !important;
    --text-accent: var(--accent-color) !important;
}

/* Scrollbars */
::-webkit-scrollbar {
    width: 6px !important;
}

::-webkit-scrollbar-thumb {
    background: rgba(167, 192, 128, 0.2) !important;
    border-radius: 3px !important;
}

/* Tables */
table {
    border: none !important;
    background: rgba(45, 53, 59, 0.4) !important;
    border-radius: 4px !important;
}

th, td {
    border: none !important;
    border-bottom: 1px solid rgba(211, 198, 170, 0.1) !important;
    color: var(--text-color) !important;
}