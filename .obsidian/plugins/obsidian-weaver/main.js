/* THIS IS A GENERATED/BUNDLED FILE BY ESBUILD */
var zR=Object.create;var cu=Object.defineProperty;var WR=Object.getOwnPropertyDescriptor;var HR=Object.getOwnPropertyNames;var KR=Object.getPrototypeOf,GR=Object.prototype.hasOwnProperty;var Bn=(e,t)=>()=>(t||e((t={exports:{}}).exports,t),t.exports),Gy=(e,t)=>{for(var n in t)cu(e,n,{get:t[n],enumerable:!0})},Xy=(e,t,n,r)=>{if(t&&typeof t=="object"||typeof t=="function")for(let o of HR(t))!GR.call(e,o)&&o!==n&&cu(e,o,{get:()=>t[o],enumerable:!(r=WR(t,o))||r.enumerable});return e};var I=(e,t,n)=>(n=e!=null?zR(KR(e)):{},Xy(t||!e||!e.__esModule?cu(n,"default",{value:e,enumerable:!0}):n,e)),XR=e=>Xy(cu({},"__esModule",{value:!0}),e);var u0=Bn(q=>{"use strict";var ja=Symbol.for("react.element"),JT=Symbol.for("react.portal"),ZT=Symbol.for("react.fragment"),eb=Symbol.for("react.strict_mode"),tb=Symbol.for("react.profiler"),nb=Symbol.for("react.provider"),rb=Symbol.for("react.context"),ob=Symbol.for("react.forward_ref"),ib=Symbol.for("react.suspense"),sb=Symbol.for("react.memo"),ab=Symbol.for("react.lazy"),Jv=Symbol.iterator;function lb(e){return e===null||typeof e!="object"?null:(e=Jv&&e[Jv]||e["@@iterator"],typeof e=="function"?e:null)}var t0={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},n0=Object.assign,r0={};function qi(e,t,n){this.props=e,this.context=t,this.refs=r0,this.updater=n||t0}qi.prototype.isReactComponent={};qi.prototype.setState=function(e,t){if(typeof e!="object"&&typeof e!="function"&&e!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")};qi.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")};function o0(){}o0.prototype=qi.prototype;function op(e,t,n){this.props=e,this.context=t,this.refs=r0,this.updater=n||t0}var ip=op.prototype=new o0;ip.constructor=op;n0(ip,qi.prototype);ip.isPureReactComponent=!0;var Zv=Array.isArray,i0=Object.prototype.hasOwnProperty,sp={current:null},s0={key:!0,ref:!0,__self:!0,__source:!0};function a0(e,t,n){var r,o={},i=null,s=null;if(t!=null)for(r in t.ref!==void 0&&(s=t.ref),t.key!==void 0&&(i=""+t.key),t)i0.call(t,r)&&!s0.hasOwnProperty(r)&&(o[r]=t[r]);var a=arguments.length-2;if(a===1)o.children=n;else if(1<a){for(var l=Array(a),u=0;u<a;u++)l[u]=arguments[u+2];o.children=l}if(e&&e.defaultProps)for(r in a=e.defaultProps,a)o[r]===void 0&&(o[r]=a[r]);return{$$typeof:ja,type:e,key:i,ref:s,props:o,_owner:sp.current}}function ub(e,t){return{$$typeof:ja,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}function ap(e){return typeof e=="object"&&e!==null&&e.$$typeof===ja}function cb(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,function(n){return t[n]})}var e0=/\/+/g;function rp(e,t){return typeof e=="object"&&e!==null&&e.key!=null?cb(""+e.key):t.toString(36)}function Vu(e,t,n,r,o){var i=typeof e;(i==="undefined"||i==="boolean")&&(e=null);var s=!1;if(e===null)s=!0;else switch(i){case"string":case"number":s=!0;break;case"object":switch(e.$$typeof){case ja:case JT:s=!0}}if(s)return s=e,o=o(s),e=r===""?"."+rp(s,0):r,Zv(o)?(n="",e!=null&&(n=e.replace(e0,"$&/")+"/"),Vu(o,t,n,"",function(u){return u})):o!=null&&(ap(o)&&(o=ub(o,n+(!o.key||s&&s.key===o.key?"":(""+o.key).replace(e0,"$&/")+"/")+e)),t.push(o)),1;if(s=0,r=r===""?".":r+":",Zv(e))for(var a=0;a<e.length;a++){i=e[a];var l=r+rp(i,a);s+=Vu(i,t,n,l,o)}else if(l=lb(e),typeof l=="function")for(e=l.call(e),a=0;!(i=e.next()).done;)i=i.value,l=r+rp(i,a++),s+=Vu(i,t,n,l,o);else if(i==="object")throw t=String(e),Error("Objects are not valid as a React child (found: "+(t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return s}function Fu(e,t,n){if(e==null)return e;var r=[],o=0;return Vu(e,r,"","",function(i){return t.call(n,i,o++)}),r}function fb(e){if(e._status===-1){var t=e._result;t=t(),t.then(function(n){(e._status===0||e._status===-1)&&(e._status=1,e._result=n)},function(n){(e._status===0||e._status===-1)&&(e._status=2,e._result=n)}),e._status===-1&&(e._status=0,e._result=t)}if(e._status===1)return e._result.default;throw e._result}var ct={current:null},Bu={transition:null},db={ReactCurrentDispatcher:ct,ReactCurrentBatchConfig:Bu,ReactCurrentOwner:sp};function l0(){throw Error("act(...) is not supported in production builds of React.")}q.Children={map:Fu,forEach:function(e,t,n){Fu(e,function(){t.apply(this,arguments)},n)},count:function(e){var t=0;return Fu(e,function(){t++}),t},toArray:function(e){return Fu(e,function(t){return t})||[]},only:function(e){if(!ap(e))throw Error("React.Children.only expected to receive a single React element child.");return e}};q.Component=qi;q.Fragment=ZT;q.Profiler=tb;q.PureComponent=op;q.StrictMode=eb;q.Suspense=ib;q.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=db;q.act=l0;q.cloneElement=function(e,t,n){if(e==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var r=n0({},e.props),o=e.key,i=e.ref,s=e._owner;if(t!=null){if(t.ref!==void 0&&(i=t.ref,s=sp.current),t.key!==void 0&&(o=""+t.key),e.type&&e.type.defaultProps)var a=e.type.defaultProps;for(l in t)i0.call(t,l)&&!s0.hasOwnProperty(l)&&(r[l]=t[l]===void 0&&a!==void 0?a[l]:t[l])}var l=arguments.length-2;if(l===1)r.children=n;else if(1<l){a=Array(l);for(var u=0;u<l;u++)a[u]=arguments[u+2];r.children=a}return{$$typeof:ja,type:e.type,key:o,ref:i,props:r,_owner:s}};q.createContext=function(e){return e={$$typeof:rb,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},e.Provider={$$typeof:nb,_context:e},e.Consumer=e};q.createElement=a0;q.createFactory=function(e){var t=a0.bind(null,e);return t.type=e,t};q.createRef=function(){return{current:null}};q.forwardRef=function(e){return{$$typeof:ob,render:e}};q.isValidElement=ap;q.lazy=function(e){return{$$typeof:ab,_payload:{_status:-1,_result:e},_init:fb}};q.memo=function(e,t){return{$$typeof:sb,type:e,compare:t===void 0?null:t}};q.startTransition=function(e){var t=Bu.transition;Bu.transition={};try{e()}finally{Bu.transition=t}};q.unstable_act=l0;q.useCallback=function(e,t){return ct.current.useCallback(e,t)};q.useContext=function(e){return ct.current.useContext(e)};q.useDebugValue=function(){};q.useDeferredValue=function(e){return ct.current.useDeferredValue(e)};q.useEffect=function(e,t){return ct.current.useEffect(e,t)};q.useId=function(){return ct.current.useId()};q.useImperativeHandle=function(e,t,n){return ct.current.useImperativeHandle(e,t,n)};q.useInsertionEffect=function(e,t){return ct.current.useInsertionEffect(e,t)};q.useLayoutEffect=function(e,t){return ct.current.useLayoutEffect(e,t)};q.useMemo=function(e,t){return ct.current.useMemo(e,t)};q.useReducer=function(e,t,n){return ct.current.useReducer(e,t,n)};q.useRef=function(e){return ct.current.useRef(e)};q.useState=function(e){return ct.current.useState(e)};q.useSyncExternalStore=function(e,t,n){return ct.current.useSyncExternalStore(e,t,n)};q.useTransition=function(){return ct.current.useTransition()};q.version="18.3.1"});var j=Bn((AD,c0)=>{"use strict";c0.exports=u0()});var x0=Bn(Wu=>{"use strict";var pb=j(),hb=Symbol.for("react.element"),gb=Symbol.for("react.fragment"),yb=Object.prototype.hasOwnProperty,vb=pb.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,wb={key:!0,ref:!0,__self:!0,__source:!0};function w0(e,t,n){var r,o={},i=null,s=null;n!==void 0&&(i=""+n),t.key!==void 0&&(i=""+t.key),t.ref!==void 0&&(s=t.ref);for(r in t)yb.call(t,r)&&!wb.hasOwnProperty(r)&&(o[r]=t[r]);if(e&&e.defaultProps)for(r in t=e.defaultProps,t)o[r]===void 0&&(o[r]=t[r]);return{$$typeof:hb,type:e,key:i,ref:s,props:o,_owner:vb.current}}Wu.Fragment=gb;Wu.jsx=w0;Wu.jsxs=w0});var X=Bn((XD,C0)=>{"use strict";C0.exports=x0()});var ew=Bn(se=>{"use strict";function Cp(e,t){var n=e.length;e.push(t);e:for(;0<n;){var r=n-1>>>1,o=e[r];if(0<tc(o,t))e[r]=t,e[n]=o,n=r;else break e}}function on(e){return e.length===0?null:e[0]}function rc(e){if(e.length===0)return null;var t=e[0],n=e.pop();if(n!==t){e[0]=n;e:for(var r=0,o=e.length,i=o>>>1;r<i;){var s=2*(r+1)-1,a=e[s],l=s+1,u=e[l];if(0>tc(a,n))l<o&&0>tc(u,a)?(e[r]=u,e[l]=n,r=l):(e[r]=a,e[s]=n,r=s);else if(l<o&&0>tc(u,n))e[r]=u,e[l]=n,r=l;else break e}}return t}function tc(e,t){var n=e.sortIndex-t.sortIndex;return n!==0?n:e.id-t.id}typeof performance=="object"&&typeof performance.now=="function"?(H0=performance,se.unstable_now=function(){return H0.now()}):(vp=Date,K0=vp.now(),se.unstable_now=function(){return vp.now()-K0});var H0,vp,K0,Tn=[],Vr=[],Wb=1,Gt=null,Je=3,oc=!1,oi=!1,Qa=!1,q0=typeof setTimeout=="function"?setTimeout:null,Y0=typeof clearTimeout=="function"?clearTimeout:null,G0=typeof setImmediate!="undefined"?setImmediate:null;typeof navigator!="undefined"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function Sp(e){for(var t=on(Vr);t!==null;){if(t.callback===null)rc(Vr);else if(t.startTime<=e)rc(Vr),t.sortIndex=t.expirationTime,Cp(Tn,t);else break;t=on(Vr)}}function Pp(e){if(Qa=!1,Sp(e),!oi)if(on(Tn)!==null)oi=!0,Rp(Ep);else{var t=on(Vr);t!==null&&Tp(Pp,t.startTime-e)}}function Ep(e,t){oi=!1,Qa&&(Qa=!1,Y0(Ja),Ja=-1),oc=!0;var n=Je;try{for(Sp(t),Gt=on(Tn);Gt!==null&&(!(Gt.expirationTime>t)||e&&!Z0());){var r=Gt.callback;if(typeof r=="function"){Gt.callback=null,Je=Gt.priorityLevel;var o=r(Gt.expirationTime<=t);t=se.unstable_now(),typeof o=="function"?Gt.callback=o:Gt===on(Tn)&&rc(Tn),Sp(t)}else rc(Tn);Gt=on(Tn)}if(Gt!==null)var i=!0;else{var s=on(Vr);s!==null&&Tp(Pp,s.startTime-t),i=!1}return i}finally{Gt=null,Je=n,oc=!1}}var ic=!1,nc=null,Ja=-1,Q0=5,J0=-1;function Z0(){return!(se.unstable_now()-J0<Q0)}function wp(){if(nc!==null){var e=se.unstable_now();J0=e;var t=!0;try{t=nc(!0,e)}finally{t?Ya():(ic=!1,nc=null)}}else ic=!1}var Ya;typeof G0=="function"?Ya=function(){G0(wp)}:typeof MessageChannel!="undefined"?(xp=new MessageChannel,X0=xp.port2,xp.port1.onmessage=wp,Ya=function(){X0.postMessage(null)}):Ya=function(){q0(wp,0)};var xp,X0;function Rp(e){nc=e,ic||(ic=!0,Ya())}function Tp(e,t){Ja=q0(function(){e(se.unstable_now())},t)}se.unstable_IdlePriority=5;se.unstable_ImmediatePriority=1;se.unstable_LowPriority=4;se.unstable_NormalPriority=3;se.unstable_Profiling=null;se.unstable_UserBlockingPriority=2;se.unstable_cancelCallback=function(e){e.callback=null};se.unstable_continueExecution=function(){oi||oc||(oi=!0,Rp(Ep))};se.unstable_forceFrameRate=function(e){0>e||125<e?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):Q0=0<e?Math.floor(1e3/e):5};se.unstable_getCurrentPriorityLevel=function(){return Je};se.unstable_getFirstCallbackNode=function(){return on(Tn)};se.unstable_next=function(e){switch(Je){case 1:case 2:case 3:var t=3;break;default:t=Je}var n=Je;Je=t;try{return e()}finally{Je=n}};se.unstable_pauseExecution=function(){};se.unstable_requestPaint=function(){};se.unstable_runWithPriority=function(e,t){switch(e){case 1:case 2:case 3:case 4:case 5:break;default:e=3}var n=Je;Je=e;try{return t()}finally{Je=n}};se.unstable_scheduleCallback=function(e,t,n){var r=se.unstable_now();switch(typeof n=="object"&&n!==null?(n=n.delay,n=typeof n=="number"&&0<n?r+n:r):n=r,e){case 1:var o=-1;break;case 2:o=250;break;case 5:o=1073741823;break;case 4:o=1e4;break;default:o=5e3}return o=n+o,e={id:Wb++,callback:t,priorityLevel:e,startTime:n,expirationTime:o,sortIndex:-1},n>r?(e.sortIndex=n,Cp(Vr,e),on(Tn)===null&&e===on(Vr)&&(Qa?(Y0(Ja),Ja=-1):Qa=!0,Tp(Pp,n-r))):(e.sortIndex=o,Cp(Tn,e),oi||oc||(oi=!0,Rp(Ep))),e};se.unstable_shouldYield=Z0;se.unstable_wrapCallback=function(e){var t=Je;return function(){var n=Je;Je=t;try{return e.apply(this,arguments)}finally{Je=n}}}});var nw=Bn((rL,tw)=>{"use strict";tw.exports=ew()});var sC=Bn(Vt=>{"use strict";var Hb=j(),Lt=nw();function _(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var ux=new Set,xl={};function yi(e,t){Cs(e,t),Cs(e+"Capture",t)}function Cs(e,t){for(xl[e]=t,e=0;e<t.length;e++)ux.add(t[e])}var er=!(typeof window=="undefined"||typeof window.document=="undefined"||typeof window.document.createElement=="undefined"),qp=Object.prototype.hasOwnProperty,Kb=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,rw={},ow={};function Gb(e){return qp.call(ow,e)?!0:qp.call(rw,e)?!1:Kb.test(e)?ow[e]=!0:(rw[e]=!0,!1)}function Xb(e,t,n,r){if(n!==null&&n.type===0)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return r?!1:n!==null?!n.acceptsBooleans:(e=e.toLowerCase().slice(0,5),e!=="data-"&&e!=="aria-");default:return!1}}function qb(e,t,n,r){if(t===null||typeof t=="undefined"||Xb(e,t,n,r))return!0;if(r)return!1;if(n!==null)switch(n.type){case 3:return!t;case 4:return t===!1;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}function pt(e,t,n,r,o,i,s){this.acceptsBooleans=t===2||t===3||t===4,this.attributeName=r,this.attributeNamespace=o,this.mustUseProperty=n,this.propertyName=e,this.type=t,this.sanitizeURL=i,this.removeEmptyString=s}var Xe={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){Xe[e]=new pt(e,0,!1,e,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var t=e[0];Xe[t]=new pt(t,1,!1,e[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(e){Xe[e]=new pt(e,2,!1,e.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){Xe[e]=new pt(e,2,!1,e,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){Xe[e]=new pt(e,3,!1,e.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(e){Xe[e]=new pt(e,3,!0,e,null,!1,!1)});["capture","download"].forEach(function(e){Xe[e]=new pt(e,4,!1,e,null,!1,!1)});["cols","rows","size","span"].forEach(function(e){Xe[e]=new pt(e,6,!1,e,null,!1,!1)});["rowSpan","start"].forEach(function(e){Xe[e]=new pt(e,5,!1,e.toLowerCase(),null,!1,!1)});var Uh=/[\-:]([a-z])/g;function $h(e){return e[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var t=e.replace(Uh,$h);Xe[t]=new pt(t,1,!1,e,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var t=e.replace(Uh,$h);Xe[t]=new pt(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(e){var t=e.replace(Uh,$h);Xe[t]=new pt(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(e){Xe[e]=new pt(e,1,!1,e.toLowerCase(),null,!1,!1)});Xe.xlinkHref=new pt("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(e){Xe[e]=new pt(e,1,!1,e.toLowerCase(),null,!0,!0)});function zh(e,t,n,r){var o=Xe.hasOwnProperty(t)?Xe[t]:null;(o!==null?o.type!==0:r||!(2<t.length)||t[0]!=="o"&&t[0]!=="O"||t[1]!=="n"&&t[1]!=="N")&&(qb(t,n,o,r)&&(n=null),r||o===null?Gb(t)&&(n===null?e.removeAttribute(t):e.setAttribute(t,""+n)):o.mustUseProperty?e[o.propertyName]=n===null?o.type===3?!1:"":n:(t=o.attributeName,r=o.attributeNamespace,n===null?e.removeAttribute(t):(o=o.type,n=o===3||o===4&&n===!0?"":""+n,r?e.setAttributeNS(r,t,n):e.setAttribute(t,n))))}var or=Hb.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,sc=Symbol.for("react.element"),rs=Symbol.for("react.portal"),os=Symbol.for("react.fragment"),Wh=Symbol.for("react.strict_mode"),Yp=Symbol.for("react.profiler"),cx=Symbol.for("react.provider"),fx=Symbol.for("react.context"),Hh=Symbol.for("react.forward_ref"),Qp=Symbol.for("react.suspense"),Jp=Symbol.for("react.suspense_list"),Kh=Symbol.for("react.memo"),jr=Symbol.for("react.lazy");Symbol.for("react.scope");Symbol.for("react.debug_trace_mode");var dx=Symbol.for("react.offscreen");Symbol.for("react.legacy_hidden");Symbol.for("react.cache");Symbol.for("react.tracing_marker");var iw=Symbol.iterator;function Za(e){return e===null||typeof e!="object"?null:(e=iw&&e[iw]||e["@@iterator"],typeof e=="function"?e:null)}var we=Object.assign,bp;function al(e){if(bp===void 0)try{throw Error()}catch(n){var t=n.stack.trim().match(/\n( *(at )?)/);bp=t&&t[1]||""}return`
`+bp+e}var Ap=!1;function _p(e,t){if(!e||Ap)return"";Ap=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(t,[])}catch(u){var r=u}Reflect.construct(e,[],t)}else{try{t.call()}catch(u){r=u}e.call(t.prototype)}else{try{throw Error()}catch(u){r=u}e()}}catch(u){if(u&&r&&typeof u.stack=="string"){for(var o=u.stack.split(`
`),i=r.stack.split(`
`),s=o.length-1,a=i.length-1;1<=s&&0<=a&&o[s]!==i[a];)a--;for(;1<=s&&0<=a;s--,a--)if(o[s]!==i[a]){if(s!==1||a!==1)do if(s--,a--,0>a||o[s]!==i[a]){var l=`
`+o[s].replace(" at new "," at ");return e.displayName&&l.includes("<anonymous>")&&(l=l.replace("<anonymous>",e.displayName)),l}while(1<=s&&0<=a);break}}}finally{Ap=!1,Error.prepareStackTrace=n}return(e=e?e.displayName||e.name:"")?al(e):""}function Yb(e){switch(e.tag){case 5:return al(e.type);case 16:return al("Lazy");case 13:return al("Suspense");case 19:return al("SuspenseList");case 0:case 2:case 15:return e=_p(e.type,!1),e;case 11:return e=_p(e.type.render,!1),e;case 1:return e=_p(e.type,!0),e;default:return""}}function Zp(e){if(e==null)return null;if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case os:return"Fragment";case rs:return"Portal";case Yp:return"Profiler";case Wh:return"StrictMode";case Qp:return"Suspense";case Jp:return"SuspenseList"}if(typeof e=="object")switch(e.$$typeof){case fx:return(e.displayName||"Context")+".Consumer";case cx:return(e._context.displayName||"Context")+".Provider";case Hh:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case Kh:return t=e.displayName||null,t!==null?t:Zp(e.type)||"Memo";case jr:t=e._payload,e=e._init;try{return Zp(e(t))}catch(n){}}return null}function Qb(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=t.render,e=e.displayName||e.name||"",t.displayName||(e!==""?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return Zp(t);case 8:return t===Wh?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t}return null}function eo(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function mx(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function Jb(e){var t=mx(e)?"checked":"value",n=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),r=""+e[t];if(!e.hasOwnProperty(t)&&typeof n!="undefined"&&typeof n.get=="function"&&typeof n.set=="function"){var o=n.get,i=n.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return o.call(this)},set:function(s){r=""+s,i.call(this,s)}}),Object.defineProperty(e,t,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(s){r=""+s},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function ac(e){e._valueTracker||(e._valueTracker=Jb(e))}function px(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),r="";return e&&(r=mx(e)?e.checked?"true":"false":e.value),e=r,e!==n?(t.setValue(e),!0):!1}function Dc(e){if(e=e||(typeof document!="undefined"?document:void 0),typeof e=="undefined")return null;try{return e.activeElement||e.body}catch(t){return e.body}}function eh(e,t){var n=t.checked;return we({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n!=null?n:e._wrapperState.initialChecked})}function sw(e,t){var n=t.defaultValue==null?"":t.defaultValue,r=t.checked!=null?t.checked:t.defaultChecked;n=eo(t.value!=null?t.value:n),e._wrapperState={initialChecked:r,initialValue:n,controlled:t.type==="checkbox"||t.type==="radio"?t.checked!=null:t.value!=null}}function hx(e,t){t=t.checked,t!=null&&zh(e,"checked",t,!1)}function th(e,t){hx(e,t);var n=eo(t.value),r=t.type;if(n!=null)r==="number"?(n===0&&e.value===""||e.value!=n)&&(e.value=""+n):e.value!==""+n&&(e.value=""+n);else if(r==="submit"||r==="reset"){e.removeAttribute("value");return}t.hasOwnProperty("value")?nh(e,t.type,n):t.hasOwnProperty("defaultValue")&&nh(e,t.type,eo(t.defaultValue)),t.checked==null&&t.defaultChecked!=null&&(e.defaultChecked=!!t.defaultChecked)}function aw(e,t,n){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var r=t.type;if(!(r!=="submit"&&r!=="reset"||t.value!==void 0&&t.value!==null))return;t=""+e._wrapperState.initialValue,n||t===e.value||(e.value=t),e.defaultValue=t}n=e.name,n!==""&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,n!==""&&(e.name=n)}function nh(e,t,n){(t!=="number"||Dc(e.ownerDocument)!==e)&&(n==null?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+n&&(e.defaultValue=""+n))}var ll=Array.isArray;function hs(e,t,n,r){if(e=e.options,t){t={};for(var o=0;o<n.length;o++)t["$"+n[o]]=!0;for(n=0;n<e.length;n++)o=t.hasOwnProperty("$"+e[n].value),e[n].selected!==o&&(e[n].selected=o),o&&r&&(e[n].defaultSelected=!0)}else{for(n=""+eo(n),t=null,o=0;o<e.length;o++){if(e[o].value===n){e[o].selected=!0,r&&(e[o].defaultSelected=!0);return}t!==null||e[o].disabled||(t=e[o])}t!==null&&(t.selected=!0)}}function rh(e,t){if(t.dangerouslySetInnerHTML!=null)throw Error(_(91));return we({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function lw(e,t){var n=t.value;if(n==null){if(n=t.children,t=t.defaultValue,n!=null){if(t!=null)throw Error(_(92));if(ll(n)){if(1<n.length)throw Error(_(93));n=n[0]}t=n}t==null&&(t=""),n=t}e._wrapperState={initialValue:eo(n)}}function gx(e,t){var n=eo(t.value),r=eo(t.defaultValue);n!=null&&(n=""+n,n!==e.value&&(e.value=n),t.defaultValue==null&&e.defaultValue!==n&&(e.defaultValue=n)),r!=null&&(e.defaultValue=""+r)}function uw(e){var t=e.textContent;t===e._wrapperState.initialValue&&t!==""&&t!==null&&(e.value=t)}function yx(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function oh(e,t){return e==null||e==="http://www.w3.org/1999/xhtml"?yx(t):e==="http://www.w3.org/2000/svg"&&t==="foreignObject"?"http://www.w3.org/1999/xhtml":e}var lc,vx=function(e){return typeof MSApp!="undefined"&&MSApp.execUnsafeLocalFunction?function(t,n,r,o){MSApp.execUnsafeLocalFunction(function(){return e(t,n,r,o)})}:e}(function(e,t){if(e.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in e)e.innerHTML=t;else{for(lc=lc||document.createElement("div"),lc.innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=lc.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}});function Cl(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&n.nodeType===3){n.nodeValue=t;return}}e.textContent=t}var fl={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},Zb=["Webkit","ms","Moz","O"];Object.keys(fl).forEach(function(e){Zb.forEach(function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),fl[t]=fl[e]})});function wx(e,t,n){return t==null||typeof t=="boolean"||t===""?"":n||typeof t!="number"||t===0||fl.hasOwnProperty(e)&&fl[e]?(""+t).trim():t+"px"}function xx(e,t){e=e.style;for(var n in t)if(t.hasOwnProperty(n)){var r=n.indexOf("--")===0,o=wx(n,t[n],r);n==="float"&&(n="cssFloat"),r?e.setProperty(n,o):e[n]=o}}var eA=we({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function ih(e,t){if(t){if(eA[e]&&(t.children!=null||t.dangerouslySetInnerHTML!=null))throw Error(_(137,e));if(t.dangerouslySetInnerHTML!=null){if(t.children!=null)throw Error(_(60));if(typeof t.dangerouslySetInnerHTML!="object"||!("__html"in t.dangerouslySetInnerHTML))throw Error(_(61))}if(t.style!=null&&typeof t.style!="object")throw Error(_(62))}}function sh(e,t){if(e.indexOf("-")===-1)return typeof t.is=="string";switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var ah=null;function Gh(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var lh=null,gs=null,ys=null;function cw(e){if(e=Bl(e)){if(typeof lh!="function")throw Error(_(280));var t=e.stateNode;t&&(t=cf(t),lh(e.stateNode,e.type,t))}}function Cx(e){gs?ys?ys.push(e):ys=[e]:gs=e}function Sx(){if(gs){var e=gs,t=ys;if(ys=gs=null,cw(e),t)for(e=0;e<t.length;e++)cw(t[e])}}function Px(e,t){return e(t)}function Ex(){}var Ip=!1;function Rx(e,t,n){if(Ip)return e(t,n);Ip=!0;try{return Px(e,t,n)}finally{Ip=!1,(gs!==null||ys!==null)&&(Ex(),Sx())}}function Sl(e,t){var n=e.stateNode;if(n===null)return null;var r=cf(n);if(r===null)return null;n=r[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(e=e.type,r=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!r;break e;default:e=!1}if(e)return null;if(n&&typeof n!="function")throw Error(_(231,t,typeof n));return n}var uh=!1;if(er)try{ts={},Object.defineProperty(ts,"passive",{get:function(){uh=!0}}),window.addEventListener("test",ts,ts),window.removeEventListener("test",ts,ts)}catch(e){uh=!1}var ts;function tA(e,t,n,r,o,i,s,a,l){var u=Array.prototype.slice.call(arguments,3);try{t.apply(n,u)}catch(c){this.onError(c)}}var dl=!1,Lc=null,Fc=!1,ch=null,nA={onError:function(e){dl=!0,Lc=e}};function rA(e,t,n,r,o,i,s,a,l){dl=!1,Lc=null,tA.apply(nA,arguments)}function oA(e,t,n,r,o,i,s,a,l){if(rA.apply(this,arguments),dl){if(dl){var u=Lc;dl=!1,Lc=null}else throw Error(_(198));Fc||(Fc=!0,ch=u)}}function vi(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,t.flags&4098&&(n=t.return),e=t.return;while(e)}return t.tag===3?n:null}function Tx(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function fw(e){if(vi(e)!==e)throw Error(_(188))}function iA(e){var t=e.alternate;if(!t){if(t=vi(e),t===null)throw Error(_(188));return t!==e?null:e}for(var n=e,r=t;;){var o=n.return;if(o===null)break;var i=o.alternate;if(i===null){if(r=o.return,r!==null){n=r;continue}break}if(o.child===i.child){for(i=o.child;i;){if(i===n)return fw(o),e;if(i===r)return fw(o),t;i=i.sibling}throw Error(_(188))}if(n.return!==r.return)n=o,r=i;else{for(var s=!1,a=o.child;a;){if(a===n){s=!0,n=o,r=i;break}if(a===r){s=!0,r=o,n=i;break}a=a.sibling}if(!s){for(a=i.child;a;){if(a===n){s=!0,n=i,r=o;break}if(a===r){s=!0,r=i,n=o;break}a=a.sibling}if(!s)throw Error(_(189))}}if(n.alternate!==r)throw Error(_(190))}if(n.tag!==3)throw Error(_(188));return n.stateNode.current===n?e:t}function bx(e){return e=iA(e),e!==null?Ax(e):null}function Ax(e){if(e.tag===5||e.tag===6)return e;for(e=e.child;e!==null;){var t=Ax(e);if(t!==null)return t;e=e.sibling}return null}var _x=Lt.unstable_scheduleCallback,dw=Lt.unstable_cancelCallback,sA=Lt.unstable_shouldYield,aA=Lt.unstable_requestPaint,Pe=Lt.unstable_now,lA=Lt.unstable_getCurrentPriorityLevel,Xh=Lt.unstable_ImmediatePriority,Ix=Lt.unstable_UserBlockingPriority,Vc=Lt.unstable_NormalPriority,uA=Lt.unstable_LowPriority,kx=Lt.unstable_IdlePriority,sf=null,In=null;function cA(e){if(In&&typeof In.onCommitFiberRoot=="function")try{In.onCommitFiberRoot(sf,e,void 0,(e.current.flags&128)===128)}catch(t){}}var cn=Math.clz32?Math.clz32:mA,fA=Math.log,dA=Math.LN2;function mA(e){return e>>>=0,e===0?32:31-(fA(e)/dA|0)|0}var uc=64,cc=4194304;function ul(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return e&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function Bc(e,t){var n=e.pendingLanes;if(n===0)return 0;var r=0,o=e.suspendedLanes,i=e.pingedLanes,s=n&268435455;if(s!==0){var a=s&~o;a!==0?r=ul(a):(i&=s,i!==0&&(r=ul(i)))}else s=n&~o,s!==0?r=ul(s):i!==0&&(r=ul(i));if(r===0)return 0;if(t!==0&&t!==r&&!(t&o)&&(o=r&-r,i=t&-t,o>=i||o===16&&(i&4194240)!==0))return t;if(r&4&&(r|=n&16),t=e.entangledLanes,t!==0)for(e=e.entanglements,t&=r;0<t;)n=31-cn(t),o=1<<n,r|=e[n],t&=~o;return r}function pA(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function hA(e,t){for(var n=e.suspendedLanes,r=e.pingedLanes,o=e.expirationTimes,i=e.pendingLanes;0<i;){var s=31-cn(i),a=1<<s,l=o[s];l===-1?(!(a&n)||a&r)&&(o[s]=pA(a,t)):l<=t&&(e.expiredLanes|=a),i&=~a}}function fh(e){return e=e.pendingLanes&-1073741825,e!==0?e:e&1073741824?1073741824:0}function Mx(){var e=uc;return uc<<=1,!(uc&4194240)&&(uc=64),e}function kp(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function Fl(e,t,n){e.pendingLanes|=t,t!==536870912&&(e.suspendedLanes=0,e.pingedLanes=0),e=e.eventTimes,t=31-cn(t),e[t]=n}function gA(e,t){var n=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var r=e.eventTimes;for(e=e.expirationTimes;0<n;){var o=31-cn(n),i=1<<o;t[o]=0,r[o]=-1,e[o]=-1,n&=~i}}function qh(e,t){var n=e.entangledLanes|=t;for(e=e.entanglements;n;){var r=31-cn(n),o=1<<r;o&t|e[r]&t&&(e[r]|=t),n&=~o}}var ee=0;function Ox(e){return e&=-e,1<e?4<e?e&268435455?16:536870912:4:1}var Nx,Yh,Dx,Lx,Fx,dh=!1,fc=[],Kr=null,Gr=null,Xr=null,Pl=new Map,El=new Map,$r=[],yA="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function mw(e,t){switch(e){case"focusin":case"focusout":Kr=null;break;case"dragenter":case"dragleave":Gr=null;break;case"mouseover":case"mouseout":Xr=null;break;case"pointerover":case"pointerout":Pl.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":El.delete(t.pointerId)}}function el(e,t,n,r,o,i){return e===null||e.nativeEvent!==i?(e={blockedOn:t,domEventName:n,eventSystemFlags:r,nativeEvent:i,targetContainers:[o]},t!==null&&(t=Bl(t),t!==null&&Yh(t)),e):(e.eventSystemFlags|=r,t=e.targetContainers,o!==null&&t.indexOf(o)===-1&&t.push(o),e)}function vA(e,t,n,r,o){switch(t){case"focusin":return Kr=el(Kr,e,t,n,r,o),!0;case"dragenter":return Gr=el(Gr,e,t,n,r,o),!0;case"mouseover":return Xr=el(Xr,e,t,n,r,o),!0;case"pointerover":var i=o.pointerId;return Pl.set(i,el(Pl.get(i)||null,e,t,n,r,o)),!0;case"gotpointercapture":return i=o.pointerId,El.set(i,el(El.get(i)||null,e,t,n,r,o)),!0}return!1}function Vx(e){var t=ai(e.target);if(t!==null){var n=vi(t);if(n!==null){if(t=n.tag,t===13){if(t=Tx(n),t!==null){e.blockedOn=t,Fx(e.priority,function(){Dx(n)});return}}else if(t===3&&n.stateNode.current.memoizedState.isDehydrated){e.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}e.blockedOn=null}function Rc(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var n=mh(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(n===null){n=e.nativeEvent;var r=new n.constructor(n.type,n);ah=r,n.target.dispatchEvent(r),ah=null}else return t=Bl(n),t!==null&&Yh(t),e.blockedOn=n,!1;t.shift()}return!0}function pw(e,t,n){Rc(e)&&n.delete(t)}function wA(){dh=!1,Kr!==null&&Rc(Kr)&&(Kr=null),Gr!==null&&Rc(Gr)&&(Gr=null),Xr!==null&&Rc(Xr)&&(Xr=null),Pl.forEach(pw),El.forEach(pw)}function tl(e,t){e.blockedOn===t&&(e.blockedOn=null,dh||(dh=!0,Lt.unstable_scheduleCallback(Lt.unstable_NormalPriority,wA)))}function Rl(e){function t(o){return tl(o,e)}if(0<fc.length){tl(fc[0],e);for(var n=1;n<fc.length;n++){var r=fc[n];r.blockedOn===e&&(r.blockedOn=null)}}for(Kr!==null&&tl(Kr,e),Gr!==null&&tl(Gr,e),Xr!==null&&tl(Xr,e),Pl.forEach(t),El.forEach(t),n=0;n<$r.length;n++)r=$r[n],r.blockedOn===e&&(r.blockedOn=null);for(;0<$r.length&&(n=$r[0],n.blockedOn===null);)Vx(n),n.blockedOn===null&&$r.shift()}var vs=or.ReactCurrentBatchConfig,jc=!0;function xA(e,t,n,r){var o=ee,i=vs.transition;vs.transition=null;try{ee=1,Qh(e,t,n,r)}finally{ee=o,vs.transition=i}}function CA(e,t,n,r){var o=ee,i=vs.transition;vs.transition=null;try{ee=4,Qh(e,t,n,r)}finally{ee=o,vs.transition=i}}function Qh(e,t,n,r){if(jc){var o=mh(e,t,n,r);if(o===null)Vp(e,t,r,Uc,n),mw(e,r);else if(vA(o,e,t,n,r))r.stopPropagation();else if(mw(e,r),t&4&&-1<yA.indexOf(e)){for(;o!==null;){var i=Bl(o);if(i!==null&&Nx(i),i=mh(e,t,n,r),i===null&&Vp(e,t,r,Uc,n),i===o)break;o=i}o!==null&&r.stopPropagation()}else Vp(e,t,r,null,n)}}var Uc=null;function mh(e,t,n,r){if(Uc=null,e=Gh(r),e=ai(e),e!==null)if(t=vi(e),t===null)e=null;else if(n=t.tag,n===13){if(e=Tx(t),e!==null)return e;e=null}else if(n===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return Uc=e,null}function Bx(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(lA()){case Xh:return 1;case Ix:return 4;case Vc:case uA:return 16;case kx:return 536870912;default:return 16}default:return 16}}var Wr=null,Jh=null,Tc=null;function jx(){if(Tc)return Tc;var e,t=Jh,n=t.length,r,o="value"in Wr?Wr.value:Wr.textContent,i=o.length;for(e=0;e<n&&t[e]===o[e];e++);var s=n-e;for(r=1;r<=s&&t[n-r]===o[i-r];r++);return Tc=o.slice(e,1<r?1-r:void 0)}function bc(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function dc(){return!0}function hw(){return!1}function Ft(e){function t(n,r,o,i,s){this._reactName=n,this._targetInst=o,this.type=r,this.nativeEvent=i,this.target=s,this.currentTarget=null;for(var a in e)e.hasOwnProperty(a)&&(n=e[a],this[a]=n?n(i):i[a]);return this.isDefaultPrevented=(i.defaultPrevented!=null?i.defaultPrevented:i.returnValue===!1)?dc:hw,this.isPropagationStopped=hw,this}return we(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=dc)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=dc)},persist:function(){},isPersistent:dc}),t}var As={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Zh=Ft(As),Vl=we({},As,{view:0,detail:0}),SA=Ft(Vl),Mp,Op,nl,af=we({},Vl,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:eg,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==nl&&(nl&&e.type==="mousemove"?(Mp=e.screenX-nl.screenX,Op=e.screenY-nl.screenY):Op=Mp=0,nl=e),Mp)},movementY:function(e){return"movementY"in e?e.movementY:Op}}),gw=Ft(af),PA=we({},af,{dataTransfer:0}),EA=Ft(PA),RA=we({},Vl,{relatedTarget:0}),Np=Ft(RA),TA=we({},As,{animationName:0,elapsedTime:0,pseudoElement:0}),bA=Ft(TA),AA=we({},As,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),_A=Ft(AA),IA=we({},As,{data:0}),yw=Ft(IA),kA={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},MA={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},OA={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function NA(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=OA[e])?!!t[e]:!1}function eg(){return NA}var DA=we({},Vl,{key:function(e){if(e.key){var t=kA[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=bc(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?MA[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:eg,charCode:function(e){return e.type==="keypress"?bc(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?bc(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),LA=Ft(DA),FA=we({},af,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),vw=Ft(FA),VA=we({},Vl,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:eg}),BA=Ft(VA),jA=we({},As,{propertyName:0,elapsedTime:0,pseudoElement:0}),UA=Ft(jA),$A=we({},af,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),zA=Ft($A),WA=[9,13,27,32],tg=er&&"CompositionEvent"in window,ml=null;er&&"documentMode"in document&&(ml=document.documentMode);var HA=er&&"TextEvent"in window&&!ml,Ux=er&&(!tg||ml&&8<ml&&11>=ml),ww=" ",xw=!1;function $x(e,t){switch(e){case"keyup":return WA.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function zx(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var is=!1;function KA(e,t){switch(e){case"compositionend":return zx(t);case"keypress":return t.which!==32?null:(xw=!0,ww);case"textInput":return e=t.data,e===ww&&xw?null:e;default:return null}}function GA(e,t){if(is)return e==="compositionend"||!tg&&$x(e,t)?(e=jx(),Tc=Jh=Wr=null,is=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return Ux&&t.locale!=="ko"?null:t.data;default:return null}}var XA={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Cw(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!XA[e.type]:t==="textarea"}function Wx(e,t,n,r){Cx(r),t=$c(t,"onChange"),0<t.length&&(n=new Zh("onChange","change",null,n,r),e.push({event:n,listeners:t}))}var pl=null,Tl=null;function qA(e){t1(e,0)}function lf(e){var t=ls(e);if(px(t))return e}function YA(e,t){if(e==="change")return t}var Hx=!1;er&&(er?(pc="oninput"in document,pc||(Dp=document.createElement("div"),Dp.setAttribute("oninput","return;"),pc=typeof Dp.oninput=="function"),mc=pc):mc=!1,Hx=mc&&(!document.documentMode||9<document.documentMode));var mc,pc,Dp;function Sw(){pl&&(pl.detachEvent("onpropertychange",Kx),Tl=pl=null)}function Kx(e){if(e.propertyName==="value"&&lf(Tl)){var t=[];Wx(t,Tl,e,Gh(e)),Rx(qA,t)}}function QA(e,t,n){e==="focusin"?(Sw(),pl=t,Tl=n,pl.attachEvent("onpropertychange",Kx)):e==="focusout"&&Sw()}function JA(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return lf(Tl)}function ZA(e,t){if(e==="click")return lf(t)}function e_(e,t){if(e==="input"||e==="change")return lf(t)}function t_(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var dn=typeof Object.is=="function"?Object.is:t_;function bl(e,t){if(dn(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var o=n[r];if(!qp.call(t,o)||!dn(e[o],t[o]))return!1}return!0}function Pw(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function Ew(e,t){var n=Pw(e);e=0;for(var r;n;){if(n.nodeType===3){if(r=e+n.textContent.length,e<=t&&r>=t)return{node:n,offset:t-e};e=r}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=Pw(n)}}function Gx(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?Gx(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function Xx(){for(var e=window,t=Dc();t instanceof e.HTMLIFrameElement;){try{var n=typeof t.contentWindow.location.href=="string"}catch(r){n=!1}if(n)e=t.contentWindow;else break;t=Dc(e.document)}return t}function ng(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}function n_(e){var t=Xx(),n=e.focusedElem,r=e.selectionRange;if(t!==n&&n&&n.ownerDocument&&Gx(n.ownerDocument.documentElement,n)){if(r!==null&&ng(n)){if(t=r.start,e=r.end,e===void 0&&(e=t),"selectionStart"in n)n.selectionStart=t,n.selectionEnd=Math.min(e,n.value.length);else if(e=(t=n.ownerDocument||document)&&t.defaultView||window,e.getSelection){e=e.getSelection();var o=n.textContent.length,i=Math.min(r.start,o);r=r.end===void 0?i:Math.min(r.end,o),!e.extend&&i>r&&(o=r,r=i,i=o),o=Ew(n,i);var s=Ew(n,r);o&&s&&(e.rangeCount!==1||e.anchorNode!==o.node||e.anchorOffset!==o.offset||e.focusNode!==s.node||e.focusOffset!==s.offset)&&(t=t.createRange(),t.setStart(o.node,o.offset),e.removeAllRanges(),i>r?(e.addRange(t),e.extend(s.node,s.offset)):(t.setEnd(s.node,s.offset),e.addRange(t)))}}for(t=[],e=n;e=e.parentNode;)e.nodeType===1&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<t.length;n++)e=t[n],e.element.scrollLeft=e.left,e.element.scrollTop=e.top}}var r_=er&&"documentMode"in document&&11>=document.documentMode,ss=null,ph=null,hl=null,hh=!1;function Rw(e,t,n){var r=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;hh||ss==null||ss!==Dc(r)||(r=ss,"selectionStart"in r&&ng(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),hl&&bl(hl,r)||(hl=r,r=$c(ph,"onSelect"),0<r.length&&(t=new Zh("onSelect","select",null,t,n),e.push({event:t,listeners:r}),t.target=ss)))}function hc(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var as={animationend:hc("Animation","AnimationEnd"),animationiteration:hc("Animation","AnimationIteration"),animationstart:hc("Animation","AnimationStart"),transitionend:hc("Transition","TransitionEnd")},Lp={},qx={};er&&(qx=document.createElement("div").style,"AnimationEvent"in window||(delete as.animationend.animation,delete as.animationiteration.animation,delete as.animationstart.animation),"TransitionEvent"in window||delete as.transitionend.transition);function uf(e){if(Lp[e])return Lp[e];if(!as[e])return e;var t=as[e],n;for(n in t)if(t.hasOwnProperty(n)&&n in qx)return Lp[e]=t[n];return e}var Yx=uf("animationend"),Qx=uf("animationiteration"),Jx=uf("animationstart"),Zx=uf("transitionend"),e1=new Map,Tw="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function no(e,t){e1.set(e,t),yi(t,[e])}for(gc=0;gc<Tw.length;gc++)yc=Tw[gc],bw=yc.toLowerCase(),Aw=yc[0].toUpperCase()+yc.slice(1),no(bw,"on"+Aw);var yc,bw,Aw,gc;no(Yx,"onAnimationEnd");no(Qx,"onAnimationIteration");no(Jx,"onAnimationStart");no("dblclick","onDoubleClick");no("focusin","onFocus");no("focusout","onBlur");no(Zx,"onTransitionEnd");Cs("onMouseEnter",["mouseout","mouseover"]);Cs("onMouseLeave",["mouseout","mouseover"]);Cs("onPointerEnter",["pointerout","pointerover"]);Cs("onPointerLeave",["pointerout","pointerover"]);yi("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));yi("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));yi("onBeforeInput",["compositionend","keypress","textInput","paste"]);yi("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));yi("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));yi("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var cl="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),o_=new Set("cancel close invalid load scroll toggle".split(" ").concat(cl));function _w(e,t,n){var r=e.type||"unknown-event";e.currentTarget=n,oA(r,t,void 0,e),e.currentTarget=null}function t1(e,t){t=(t&4)!==0;for(var n=0;n<e.length;n++){var r=e[n],o=r.event;r=r.listeners;e:{var i=void 0;if(t)for(var s=r.length-1;0<=s;s--){var a=r[s],l=a.instance,u=a.currentTarget;if(a=a.listener,l!==i&&o.isPropagationStopped())break e;_w(o,a,u),i=l}else for(s=0;s<r.length;s++){if(a=r[s],l=a.instance,u=a.currentTarget,a=a.listener,l!==i&&o.isPropagationStopped())break e;_w(o,a,u),i=l}}}if(Fc)throw e=ch,Fc=!1,ch=null,e}function ue(e,t){var n=t[xh];n===void 0&&(n=t[xh]=new Set);var r=e+"__bubble";n.has(r)||(n1(t,e,2,!1),n.add(r))}function Fp(e,t,n){var r=0;t&&(r|=4),n1(n,e,r,t)}var vc="_reactListening"+Math.random().toString(36).slice(2);function Al(e){if(!e[vc]){e[vc]=!0,ux.forEach(function(n){n!=="selectionchange"&&(o_.has(n)||Fp(n,!1,e),Fp(n,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[vc]||(t[vc]=!0,Fp("selectionchange",!1,t))}}function n1(e,t,n,r){switch(Bx(t)){case 1:var o=xA;break;case 4:o=CA;break;default:o=Qh}n=o.bind(null,t,n,e),o=void 0,!uh||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(o=!0),r?o!==void 0?e.addEventListener(t,n,{capture:!0,passive:o}):e.addEventListener(t,n,!0):o!==void 0?e.addEventListener(t,n,{passive:o}):e.addEventListener(t,n,!1)}function Vp(e,t,n,r,o){var i=r;if(!(t&1)&&!(t&2)&&r!==null)e:for(;;){if(r===null)return;var s=r.tag;if(s===3||s===4){var a=r.stateNode.containerInfo;if(a===o||a.nodeType===8&&a.parentNode===o)break;if(s===4)for(s=r.return;s!==null;){var l=s.tag;if((l===3||l===4)&&(l=s.stateNode.containerInfo,l===o||l.nodeType===8&&l.parentNode===o))return;s=s.return}for(;a!==null;){if(s=ai(a),s===null)return;if(l=s.tag,l===5||l===6){r=i=s;continue e}a=a.parentNode}}r=r.return}Rx(function(){var u=i,c=Gh(n),f=[];e:{var d=e1.get(e);if(d!==void 0){var h=Zh,y=e;switch(e){case"keypress":if(bc(n)===0)break e;case"keydown":case"keyup":h=LA;break;case"focusin":y="focus",h=Np;break;case"focusout":y="blur",h=Np;break;case"beforeblur":case"afterblur":h=Np;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":h=gw;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":h=EA;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":h=BA;break;case Yx:case Qx:case Jx:h=bA;break;case Zx:h=UA;break;case"scroll":h=SA;break;case"wheel":h=zA;break;case"copy":case"cut":case"paste":h=_A;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":h=vw}var v=(t&4)!==0,x=!v&&e==="scroll",g=v?d!==null?d+"Capture":null:d;v=[];for(var m=u,p;m!==null;){p=m;var w=p.stateNode;if(p.tag===5&&w!==null&&(p=w,g!==null&&(w=Sl(m,g),w!=null&&v.push(_l(m,w,p)))),x)break;m=m.return}0<v.length&&(d=new h(d,y,null,n,c),f.push({event:d,listeners:v}))}}if(!(t&7)){e:{if(d=e==="mouseover"||e==="pointerover",h=e==="mouseout"||e==="pointerout",d&&n!==ah&&(y=n.relatedTarget||n.fromElement)&&(ai(y)||y[tr]))break e;if((h||d)&&(d=c.window===c?c:(d=c.ownerDocument)?d.defaultView||d.parentWindow:window,h?(y=n.relatedTarget||n.toElement,h=u,y=y?ai(y):null,y!==null&&(x=vi(y),y!==x||y.tag!==5&&y.tag!==6)&&(y=null)):(h=null,y=u),h!==y)){if(v=gw,w="onMouseLeave",g="onMouseEnter",m="mouse",(e==="pointerout"||e==="pointerover")&&(v=vw,w="onPointerLeave",g="onPointerEnter",m="pointer"),x=h==null?d:ls(h),p=y==null?d:ls(y),d=new v(w,m+"leave",h,n,c),d.target=x,d.relatedTarget=p,w=null,ai(c)===u&&(v=new v(g,m+"enter",y,n,c),v.target=p,v.relatedTarget=x,w=v),x=w,h&&y)t:{for(v=h,g=y,m=0,p=v;p;p=ns(p))m++;for(p=0,w=g;w;w=ns(w))p++;for(;0<m-p;)v=ns(v),m--;for(;0<p-m;)g=ns(g),p--;for(;m--;){if(v===g||g!==null&&v===g.alternate)break t;v=ns(v),g=ns(g)}v=null}else v=null;h!==null&&Iw(f,d,h,v,!1),y!==null&&x!==null&&Iw(f,x,y,v,!0)}}e:{if(d=u?ls(u):window,h=d.nodeName&&d.nodeName.toLowerCase(),h==="select"||h==="input"&&d.type==="file")var C=YA;else if(Cw(d))if(Hx)C=e_;else{C=JA;var P=QA}else(h=d.nodeName)&&h.toLowerCase()==="input"&&(d.type==="checkbox"||d.type==="radio")&&(C=ZA);if(C&&(C=C(e,u))){Wx(f,C,n,c);break e}P&&P(e,d,u),e==="focusout"&&(P=d._wrapperState)&&P.controlled&&d.type==="number"&&nh(d,"number",d.value)}switch(P=u?ls(u):window,e){case"focusin":(Cw(P)||P.contentEditable==="true")&&(ss=P,ph=u,hl=null);break;case"focusout":hl=ph=ss=null;break;case"mousedown":hh=!0;break;case"contextmenu":case"mouseup":case"dragend":hh=!1,Rw(f,n,c);break;case"selectionchange":if(r_)break;case"keydown":case"keyup":Rw(f,n,c)}var S;if(tg)e:{switch(e){case"compositionstart":var E="onCompositionStart";break e;case"compositionend":E="onCompositionEnd";break e;case"compositionupdate":E="onCompositionUpdate";break e}E=void 0}else is?$x(e,n)&&(E="onCompositionEnd"):e==="keydown"&&n.keyCode===229&&(E="onCompositionStart");E&&(Ux&&n.locale!=="ko"&&(is||E!=="onCompositionStart"?E==="onCompositionEnd"&&is&&(S=jx()):(Wr=c,Jh="value"in Wr?Wr.value:Wr.textContent,is=!0)),P=$c(u,E),0<P.length&&(E=new yw(E,e,null,n,c),f.push({event:E,listeners:P}),S?E.data=S:(S=zx(n),S!==null&&(E.data=S)))),(S=HA?KA(e,n):GA(e,n))&&(u=$c(u,"onBeforeInput"),0<u.length&&(c=new yw("onBeforeInput","beforeinput",null,n,c),f.push({event:c,listeners:u}),c.data=S))}t1(f,t)})}function _l(e,t,n){return{instance:e,listener:t,currentTarget:n}}function $c(e,t){for(var n=t+"Capture",r=[];e!==null;){var o=e,i=o.stateNode;o.tag===5&&i!==null&&(o=i,i=Sl(e,n),i!=null&&r.unshift(_l(e,i,o)),i=Sl(e,t),i!=null&&r.push(_l(e,i,o))),e=e.return}return r}function ns(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5);return e||null}function Iw(e,t,n,r,o){for(var i=t._reactName,s=[];n!==null&&n!==r;){var a=n,l=a.alternate,u=a.stateNode;if(l!==null&&l===r)break;a.tag===5&&u!==null&&(a=u,o?(l=Sl(n,i),l!=null&&s.unshift(_l(n,l,a))):o||(l=Sl(n,i),l!=null&&s.push(_l(n,l,a)))),n=n.return}s.length!==0&&e.push({event:t,listeners:s})}var i_=/\r\n?/g,s_=/\u0000|\uFFFD/g;function kw(e){return(typeof e=="string"?e:""+e).replace(i_,`
`).replace(s_,"")}function wc(e,t,n){if(t=kw(t),kw(e)!==t&&n)throw Error(_(425))}function zc(){}var gh=null,yh=null;function vh(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var wh=typeof setTimeout=="function"?setTimeout:void 0,a_=typeof clearTimeout=="function"?clearTimeout:void 0,Mw=typeof Promise=="function"?Promise:void 0,l_=typeof queueMicrotask=="function"?queueMicrotask:typeof Mw!="undefined"?function(e){return Mw.resolve(null).then(e).catch(u_)}:wh;function u_(e){setTimeout(function(){throw e})}function Bp(e,t){var n=t,r=0;do{var o=n.nextSibling;if(e.removeChild(n),o&&o.nodeType===8)if(n=o.data,n==="/$"){if(r===0){e.removeChild(o),Rl(t);return}r--}else n!=="$"&&n!=="$?"&&n!=="$!"||r++;n=o}while(n);Rl(t)}function qr(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?")break;if(t==="/$")return null}}return e}function Ow(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="$"||n==="$!"||n==="$?"){if(t===0)return e;t--}else n==="/$"&&t++}e=e.previousSibling}return null}var _s=Math.random().toString(36).slice(2),_n="__reactFiber$"+_s,Il="__reactProps$"+_s,tr="__reactContainer$"+_s,xh="__reactEvents$"+_s,c_="__reactListeners$"+_s,f_="__reactHandles$"+_s;function ai(e){var t=e[_n];if(t)return t;for(var n=e.parentNode;n;){if(t=n[tr]||n[_n]){if(n=t.alternate,t.child!==null||n!==null&&n.child!==null)for(e=Ow(e);e!==null;){if(n=e[_n])return n;e=Ow(e)}return t}e=n,n=e.parentNode}return null}function Bl(e){return e=e[_n]||e[tr],!e||e.tag!==5&&e.tag!==6&&e.tag!==13&&e.tag!==3?null:e}function ls(e){if(e.tag===5||e.tag===6)return e.stateNode;throw Error(_(33))}function cf(e){return e[Il]||null}var Ch=[],us=-1;function ro(e){return{current:e}}function ce(e){0>us||(e.current=Ch[us],Ch[us]=null,us--)}function ae(e,t){us++,Ch[us]=e.current,e.current=t}var to={},nt=ro(to),Ct=ro(!1),di=to;function Ss(e,t){var n=e.type.contextTypes;if(!n)return to;var r=e.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===t)return r.__reactInternalMemoizedMaskedChildContext;var o={},i;for(i in n)o[i]=t[i];return r&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=o),o}function St(e){return e=e.childContextTypes,e!=null}function Wc(){ce(Ct),ce(nt)}function Nw(e,t,n){if(nt.current!==to)throw Error(_(168));ae(nt,t),ae(Ct,n)}function r1(e,t,n){var r=e.stateNode;if(t=t.childContextTypes,typeof r.getChildContext!="function")return n;r=r.getChildContext();for(var o in r)if(!(o in t))throw Error(_(108,Qb(e)||"Unknown",o));return we({},n,r)}function Hc(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||to,di=nt.current,ae(nt,e),ae(Ct,Ct.current),!0}function Dw(e,t,n){var r=e.stateNode;if(!r)throw Error(_(169));n?(e=r1(e,t,di),r.__reactInternalMemoizedMergedChildContext=e,ce(Ct),ce(nt),ae(nt,e)):ce(Ct),ae(Ct,n)}var Yn=null,ff=!1,jp=!1;function o1(e){Yn===null?Yn=[e]:Yn.push(e)}function d_(e){ff=!0,o1(e)}function oo(){if(!jp&&Yn!==null){jp=!0;var e=0,t=ee;try{var n=Yn;for(ee=1;e<n.length;e++){var r=n[e];do r=r(!0);while(r!==null)}Yn=null,ff=!1}catch(o){throw Yn!==null&&(Yn=Yn.slice(e+1)),_x(Xh,oo),o}finally{ee=t,jp=!1}}return null}var cs=[],fs=0,Kc=null,Gc=0,Xt=[],qt=0,mi=null,Qn=1,Jn="";function ii(e,t){cs[fs++]=Gc,cs[fs++]=Kc,Kc=e,Gc=t}function i1(e,t,n){Xt[qt++]=Qn,Xt[qt++]=Jn,Xt[qt++]=mi,mi=e;var r=Qn;e=Jn;var o=32-cn(r)-1;r&=~(1<<o),n+=1;var i=32-cn(t)+o;if(30<i){var s=o-o%5;i=(r&(1<<s)-1).toString(32),r>>=s,o-=s,Qn=1<<32-cn(t)+o|n<<o|r,Jn=i+e}else Qn=1<<i|n<<o|r,Jn=e}function rg(e){e.return!==null&&(ii(e,1),i1(e,1,0))}function og(e){for(;e===Kc;)Kc=cs[--fs],cs[fs]=null,Gc=cs[--fs],cs[fs]=null;for(;e===mi;)mi=Xt[--qt],Xt[qt]=null,Jn=Xt[--qt],Xt[qt]=null,Qn=Xt[--qt],Xt[qt]=null}var Dt=null,Nt=null,me=!1,un=null;function s1(e,t){var n=Yt(5,null,null,0);n.elementType="DELETED",n.stateNode=t,n.return=e,t=e.deletions,t===null?(e.deletions=[n],e.flags|=16):t.push(n)}function Lw(e,t){switch(e.tag){case 5:var n=e.type;return t=t.nodeType!==1||n.toLowerCase()!==t.nodeName.toLowerCase()?null:t,t!==null?(e.stateNode=t,Dt=e,Nt=qr(t.firstChild),!0):!1;case 6:return t=e.pendingProps===""||t.nodeType!==3?null:t,t!==null?(e.stateNode=t,Dt=e,Nt=null,!0):!1;case 13:return t=t.nodeType!==8?null:t,t!==null?(n=mi!==null?{id:Qn,overflow:Jn}:null,e.memoizedState={dehydrated:t,treeContext:n,retryLane:1073741824},n=Yt(18,null,null,0),n.stateNode=t,n.return=e,e.child=n,Dt=e,Nt=null,!0):!1;default:return!1}}function Sh(e){return(e.mode&1)!==0&&(e.flags&128)===0}function Ph(e){if(me){var t=Nt;if(t){var n=t;if(!Lw(e,t)){if(Sh(e))throw Error(_(418));t=qr(n.nextSibling);var r=Dt;t&&Lw(e,t)?s1(r,n):(e.flags=e.flags&-4097|2,me=!1,Dt=e)}}else{if(Sh(e))throw Error(_(418));e.flags=e.flags&-4097|2,me=!1,Dt=e}}}function Fw(e){for(e=e.return;e!==null&&e.tag!==5&&e.tag!==3&&e.tag!==13;)e=e.return;Dt=e}function xc(e){if(e!==Dt)return!1;if(!me)return Fw(e),me=!0,!1;var t;if((t=e.tag!==3)&&!(t=e.tag!==5)&&(t=e.type,t=t!=="head"&&t!=="body"&&!vh(e.type,e.memoizedProps)),t&&(t=Nt)){if(Sh(e))throw a1(),Error(_(418));for(;t;)s1(e,t),t=qr(t.nextSibling)}if(Fw(e),e.tag===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(_(317));e:{for(e=e.nextSibling,t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="/$"){if(t===0){Nt=qr(e.nextSibling);break e}t--}else n!=="$"&&n!=="$!"&&n!=="$?"||t++}e=e.nextSibling}Nt=null}}else Nt=Dt?qr(e.stateNode.nextSibling):null;return!0}function a1(){for(var e=Nt;e;)e=qr(e.nextSibling)}function Ps(){Nt=Dt=null,me=!1}function ig(e){un===null?un=[e]:un.push(e)}var m_=or.ReactCurrentBatchConfig;function rl(e,t,n){if(e=n.ref,e!==null&&typeof e!="function"&&typeof e!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(_(309));var r=n.stateNode}if(!r)throw Error(_(147,e));var o=r,i=""+e;return t!==null&&t.ref!==null&&typeof t.ref=="function"&&t.ref._stringRef===i?t.ref:(t=function(s){var a=o.refs;s===null?delete a[i]:a[i]=s},t._stringRef=i,t)}if(typeof e!="string")throw Error(_(284));if(!n._owner)throw Error(_(290,e))}return e}function Cc(e,t){throw e=Object.prototype.toString.call(t),Error(_(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function Vw(e){var t=e._init;return t(e._payload)}function l1(e){function t(g,m){if(e){var p=g.deletions;p===null?(g.deletions=[m],g.flags|=16):p.push(m)}}function n(g,m){if(!e)return null;for(;m!==null;)t(g,m),m=m.sibling;return null}function r(g,m){for(g=new Map;m!==null;)m.key!==null?g.set(m.key,m):g.set(m.index,m),m=m.sibling;return g}function o(g,m){return g=Zr(g,m),g.index=0,g.sibling=null,g}function i(g,m,p){return g.index=p,e?(p=g.alternate,p!==null?(p=p.index,p<m?(g.flags|=2,m):p):(g.flags|=2,m)):(g.flags|=1048576,m)}function s(g){return e&&g.alternate===null&&(g.flags|=2),g}function a(g,m,p,w){return m===null||m.tag!==6?(m=Gp(p,g.mode,w),m.return=g,m):(m=o(m,p),m.return=g,m)}function l(g,m,p,w){var C=p.type;return C===os?c(g,m,p.props.children,w,p.key):m!==null&&(m.elementType===C||typeof C=="object"&&C!==null&&C.$$typeof===jr&&Vw(C)===m.type)?(w=o(m,p.props),w.ref=rl(g,m,p),w.return=g,w):(w=Nc(p.type,p.key,p.props,null,g.mode,w),w.ref=rl(g,m,p),w.return=g,w)}function u(g,m,p,w){return m===null||m.tag!==4||m.stateNode.containerInfo!==p.containerInfo||m.stateNode.implementation!==p.implementation?(m=Xp(p,g.mode,w),m.return=g,m):(m=o(m,p.children||[]),m.return=g,m)}function c(g,m,p,w,C){return m===null||m.tag!==7?(m=fi(p,g.mode,w,C),m.return=g,m):(m=o(m,p),m.return=g,m)}function f(g,m,p){if(typeof m=="string"&&m!==""||typeof m=="number")return m=Gp(""+m,g.mode,p),m.return=g,m;if(typeof m=="object"&&m!==null){switch(m.$$typeof){case sc:return p=Nc(m.type,m.key,m.props,null,g.mode,p),p.ref=rl(g,null,m),p.return=g,p;case rs:return m=Xp(m,g.mode,p),m.return=g,m;case jr:var w=m._init;return f(g,w(m._payload),p)}if(ll(m)||Za(m))return m=fi(m,g.mode,p,null),m.return=g,m;Cc(g,m)}return null}function d(g,m,p,w){var C=m!==null?m.key:null;if(typeof p=="string"&&p!==""||typeof p=="number")return C!==null?null:a(g,m,""+p,w);if(typeof p=="object"&&p!==null){switch(p.$$typeof){case sc:return p.key===C?l(g,m,p,w):null;case rs:return p.key===C?u(g,m,p,w):null;case jr:return C=p._init,d(g,m,C(p._payload),w)}if(ll(p)||Za(p))return C!==null?null:c(g,m,p,w,null);Cc(g,p)}return null}function h(g,m,p,w,C){if(typeof w=="string"&&w!==""||typeof w=="number")return g=g.get(p)||null,a(m,g,""+w,C);if(typeof w=="object"&&w!==null){switch(w.$$typeof){case sc:return g=g.get(w.key===null?p:w.key)||null,l(m,g,w,C);case rs:return g=g.get(w.key===null?p:w.key)||null,u(m,g,w,C);case jr:var P=w._init;return h(g,m,p,P(w._payload),C)}if(ll(w)||Za(w))return g=g.get(p)||null,c(m,g,w,C,null);Cc(m,w)}return null}function y(g,m,p,w){for(var C=null,P=null,S=m,E=m=0,T=null;S!==null&&E<p.length;E++){S.index>E?(T=S,S=null):T=S.sibling;var R=d(g,S,p[E],w);if(R===null){S===null&&(S=T);break}e&&S&&R.alternate===null&&t(g,S),m=i(R,m,E),P===null?C=R:P.sibling=R,P=R,S=T}if(E===p.length)return n(g,S),me&&ii(g,E),C;if(S===null){for(;E<p.length;E++)S=f(g,p[E],w),S!==null&&(m=i(S,m,E),P===null?C=S:P.sibling=S,P=S);return me&&ii(g,E),C}for(S=r(g,S);E<p.length;E++)T=h(S,g,E,p[E],w),T!==null&&(e&&T.alternate!==null&&S.delete(T.key===null?E:T.key),m=i(T,m,E),P===null?C=T:P.sibling=T,P=T);return e&&S.forEach(function(A){return t(g,A)}),me&&ii(g,E),C}function v(g,m,p,w){var C=Za(p);if(typeof C!="function")throw Error(_(150));if(p=C.call(p),p==null)throw Error(_(151));for(var P=C=null,S=m,E=m=0,T=null,R=p.next();S!==null&&!R.done;E++,R=p.next()){S.index>E?(T=S,S=null):T=S.sibling;var A=d(g,S,R.value,w);if(A===null){S===null&&(S=T);break}e&&S&&A.alternate===null&&t(g,S),m=i(A,m,E),P===null?C=A:P.sibling=A,P=A,S=T}if(R.done)return n(g,S),me&&ii(g,E),C;if(S===null){for(;!R.done;E++,R=p.next())R=f(g,R.value,w),R!==null&&(m=i(R,m,E),P===null?C=R:P.sibling=R,P=R);return me&&ii(g,E),C}for(S=r(g,S);!R.done;E++,R=p.next())R=h(S,g,E,R.value,w),R!==null&&(e&&R.alternate!==null&&S.delete(R.key===null?E:R.key),m=i(R,m,E),P===null?C=R:P.sibling=R,P=R);return e&&S.forEach(function(b){return t(g,b)}),me&&ii(g,E),C}function x(g,m,p,w){if(typeof p=="object"&&p!==null&&p.type===os&&p.key===null&&(p=p.props.children),typeof p=="object"&&p!==null){switch(p.$$typeof){case sc:e:{for(var C=p.key,P=m;P!==null;){if(P.key===C){if(C=p.type,C===os){if(P.tag===7){n(g,P.sibling),m=o(P,p.props.children),m.return=g,g=m;break e}}else if(P.elementType===C||typeof C=="object"&&C!==null&&C.$$typeof===jr&&Vw(C)===P.type){n(g,P.sibling),m=o(P,p.props),m.ref=rl(g,P,p),m.return=g,g=m;break e}n(g,P);break}else t(g,P);P=P.sibling}p.type===os?(m=fi(p.props.children,g.mode,w,p.key),m.return=g,g=m):(w=Nc(p.type,p.key,p.props,null,g.mode,w),w.ref=rl(g,m,p),w.return=g,g=w)}return s(g);case rs:e:{for(P=p.key;m!==null;){if(m.key===P)if(m.tag===4&&m.stateNode.containerInfo===p.containerInfo&&m.stateNode.implementation===p.implementation){n(g,m.sibling),m=o(m,p.children||[]),m.return=g,g=m;break e}else{n(g,m);break}else t(g,m);m=m.sibling}m=Xp(p,g.mode,w),m.return=g,g=m}return s(g);case jr:return P=p._init,x(g,m,P(p._payload),w)}if(ll(p))return y(g,m,p,w);if(Za(p))return v(g,m,p,w);Cc(g,p)}return typeof p=="string"&&p!==""||typeof p=="number"?(p=""+p,m!==null&&m.tag===6?(n(g,m.sibling),m=o(m,p),m.return=g,g=m):(n(g,m),m=Gp(p,g.mode,w),m.return=g,g=m),s(g)):n(g,m)}return x}var Es=l1(!0),u1=l1(!1),Xc=ro(null),qc=null,ds=null,sg=null;function ag(){sg=ds=qc=null}function lg(e){var t=Xc.current;ce(Xc),e._currentValue=t}function Eh(e,t,n){for(;e!==null;){var r=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,r!==null&&(r.childLanes|=t)):r!==null&&(r.childLanes&t)!==t&&(r.childLanes|=t),e===n)break;e=e.return}}function ws(e,t){qc=e,sg=ds=null,e=e.dependencies,e!==null&&e.firstContext!==null&&(e.lanes&t&&(xt=!0),e.firstContext=null)}function Jt(e){var t=e._currentValue;if(sg!==e)if(e={context:e,memoizedValue:t,next:null},ds===null){if(qc===null)throw Error(_(308));ds=e,qc.dependencies={lanes:0,firstContext:e}}else ds=ds.next=e;return t}var li=null;function ug(e){li===null?li=[e]:li.push(e)}function c1(e,t,n,r){var o=t.interleaved;return o===null?(n.next=n,ug(t)):(n.next=o.next,o.next=n),t.interleaved=n,nr(e,r)}function nr(e,t){e.lanes|=t;var n=e.alternate;for(n!==null&&(n.lanes|=t),n=e,e=e.return;e!==null;)e.childLanes|=t,n=e.alternate,n!==null&&(n.childLanes|=t),n=e,e=e.return;return n.tag===3?n.stateNode:null}var Ur=!1;function cg(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function f1(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function Zn(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function Yr(e,t,n){var r=e.updateQueue;if(r===null)return null;if(r=r.shared,J&2){var o=r.pending;return o===null?t.next=t:(t.next=o.next,o.next=t),r.pending=t,nr(e,n)}return o=r.interleaved,o===null?(t.next=t,ug(r)):(t.next=o.next,o.next=t),r.interleaved=t,nr(e,n)}function Ac(e,t,n){if(t=t.updateQueue,t!==null&&(t=t.shared,(n&4194240)!==0)){var r=t.lanes;r&=e.pendingLanes,n|=r,t.lanes=n,qh(e,n)}}function Bw(e,t){var n=e.updateQueue,r=e.alternate;if(r!==null&&(r=r.updateQueue,n===r)){var o=null,i=null;if(n=n.firstBaseUpdate,n!==null){do{var s={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};i===null?o=i=s:i=i.next=s,n=n.next}while(n!==null);i===null?o=i=t:i=i.next=t}else o=i=t;n={baseState:r.baseState,firstBaseUpdate:o,lastBaseUpdate:i,shared:r.shared,effects:r.effects},e.updateQueue=n;return}e=n.lastBaseUpdate,e===null?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}function Yc(e,t,n,r){var o=e.updateQueue;Ur=!1;var i=o.firstBaseUpdate,s=o.lastBaseUpdate,a=o.shared.pending;if(a!==null){o.shared.pending=null;var l=a,u=l.next;l.next=null,s===null?i=u:s.next=u,s=l;var c=e.alternate;c!==null&&(c=c.updateQueue,a=c.lastBaseUpdate,a!==s&&(a===null?c.firstBaseUpdate=u:a.next=u,c.lastBaseUpdate=l))}if(i!==null){var f=o.baseState;s=0,c=u=l=null,a=i;do{var d=a.lane,h=a.eventTime;if((r&d)===d){c!==null&&(c=c.next={eventTime:h,lane:0,tag:a.tag,payload:a.payload,callback:a.callback,next:null});e:{var y=e,v=a;switch(d=t,h=n,v.tag){case 1:if(y=v.payload,typeof y=="function"){f=y.call(h,f,d);break e}f=y;break e;case 3:y.flags=y.flags&-65537|128;case 0:if(y=v.payload,d=typeof y=="function"?y.call(h,f,d):y,d==null)break e;f=we({},f,d);break e;case 2:Ur=!0}}a.callback!==null&&a.lane!==0&&(e.flags|=64,d=o.effects,d===null?o.effects=[a]:d.push(a))}else h={eventTime:h,lane:d,tag:a.tag,payload:a.payload,callback:a.callback,next:null},c===null?(u=c=h,l=f):c=c.next=h,s|=d;if(a=a.next,a===null){if(a=o.shared.pending,a===null)break;d=a,a=d.next,d.next=null,o.lastBaseUpdate=d,o.shared.pending=null}}while(!0);if(c===null&&(l=f),o.baseState=l,o.firstBaseUpdate=u,o.lastBaseUpdate=c,t=o.shared.interleaved,t!==null){o=t;do s|=o.lane,o=o.next;while(o!==t)}else i===null&&(o.shared.lanes=0);hi|=s,e.lanes=s,e.memoizedState=f}}function jw(e,t,n){if(e=t.effects,t.effects=null,e!==null)for(t=0;t<e.length;t++){var r=e[t],o=r.callback;if(o!==null){if(r.callback=null,r=n,typeof o!="function")throw Error(_(191,o));o.call(r)}}}var jl={},kn=ro(jl),kl=ro(jl),Ml=ro(jl);function ui(e){if(e===jl)throw Error(_(174));return e}function fg(e,t){switch(ae(Ml,t),ae(kl,e),ae(kn,jl),e=t.nodeType,e){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:oh(null,"");break;default:e=e===8?t.parentNode:t,t=e.namespaceURI||null,e=e.tagName,t=oh(t,e)}ce(kn),ae(kn,t)}function Rs(){ce(kn),ce(kl),ce(Ml)}function d1(e){ui(Ml.current);var t=ui(kn.current),n=oh(t,e.type);t!==n&&(ae(kl,e),ae(kn,n))}function dg(e){kl.current===e&&(ce(kn),ce(kl))}var ye=ro(0);function Qc(e){for(var t=e;t!==null;){if(t.tag===13){var n=t.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return t}else if(t.tag===19&&t.memoizedProps.revealOrder!==void 0){if(t.flags&128)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var Up=[];function mg(){for(var e=0;e<Up.length;e++)Up[e]._workInProgressVersionPrimary=null;Up.length=0}var _c=or.ReactCurrentDispatcher,$p=or.ReactCurrentBatchConfig,pi=0,ve=null,Le=null,Be=null,Jc=!1,gl=!1,Ol=0,p_=0;function Ze(){throw Error(_(321))}function pg(e,t){if(t===null)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!dn(e[n],t[n]))return!1;return!0}function hg(e,t,n,r,o,i){if(pi=i,ve=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,_c.current=e===null||e.memoizedState===null?v_:w_,e=n(r,o),gl){i=0;do{if(gl=!1,Ol=0,25<=i)throw Error(_(301));i+=1,Be=Le=null,t.updateQueue=null,_c.current=x_,e=n(r,o)}while(gl)}if(_c.current=Zc,t=Le!==null&&Le.next!==null,pi=0,Be=Le=ve=null,Jc=!1,t)throw Error(_(300));return e}function gg(){var e=Ol!==0;return Ol=0,e}function An(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Be===null?ve.memoizedState=Be=e:Be=Be.next=e,Be}function Zt(){if(Le===null){var e=ve.alternate;e=e!==null?e.memoizedState:null}else e=Le.next;var t=Be===null?ve.memoizedState:Be.next;if(t!==null)Be=t,Le=e;else{if(e===null)throw Error(_(310));Le=e,e={memoizedState:Le.memoizedState,baseState:Le.baseState,baseQueue:Le.baseQueue,queue:Le.queue,next:null},Be===null?ve.memoizedState=Be=e:Be=Be.next=e}return Be}function Nl(e,t){return typeof t=="function"?t(e):t}function zp(e){var t=Zt(),n=t.queue;if(n===null)throw Error(_(311));n.lastRenderedReducer=e;var r=Le,o=r.baseQueue,i=n.pending;if(i!==null){if(o!==null){var s=o.next;o.next=i.next,i.next=s}r.baseQueue=o=i,n.pending=null}if(o!==null){i=o.next,r=r.baseState;var a=s=null,l=null,u=i;do{var c=u.lane;if((pi&c)===c)l!==null&&(l=l.next={lane:0,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null}),r=u.hasEagerState?u.eagerState:e(r,u.action);else{var f={lane:c,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null};l===null?(a=l=f,s=r):l=l.next=f,ve.lanes|=c,hi|=c}u=u.next}while(u!==null&&u!==i);l===null?s=r:l.next=a,dn(r,t.memoizedState)||(xt=!0),t.memoizedState=r,t.baseState=s,t.baseQueue=l,n.lastRenderedState=r}if(e=n.interleaved,e!==null){o=e;do i=o.lane,ve.lanes|=i,hi|=i,o=o.next;while(o!==e)}else o===null&&(n.lanes=0);return[t.memoizedState,n.dispatch]}function Wp(e){var t=Zt(),n=t.queue;if(n===null)throw Error(_(311));n.lastRenderedReducer=e;var r=n.dispatch,o=n.pending,i=t.memoizedState;if(o!==null){n.pending=null;var s=o=o.next;do i=e(i,s.action),s=s.next;while(s!==o);dn(i,t.memoizedState)||(xt=!0),t.memoizedState=i,t.baseQueue===null&&(t.baseState=i),n.lastRenderedState=i}return[i,r]}function m1(){}function p1(e,t){var n=ve,r=Zt(),o=t(),i=!dn(r.memoizedState,o);if(i&&(r.memoizedState=o,xt=!0),r=r.queue,yg(y1.bind(null,n,r,e),[e]),r.getSnapshot!==t||i||Be!==null&&Be.memoizedState.tag&1){if(n.flags|=2048,Dl(9,g1.bind(null,n,r,o,t),void 0,null),je===null)throw Error(_(349));pi&30||h1(n,t,o)}return o}function h1(e,t,n){e.flags|=16384,e={getSnapshot:t,value:n},t=ve.updateQueue,t===null?(t={lastEffect:null,stores:null},ve.updateQueue=t,t.stores=[e]):(n=t.stores,n===null?t.stores=[e]:n.push(e))}function g1(e,t,n,r){t.value=n,t.getSnapshot=r,v1(t)&&w1(e)}function y1(e,t,n){return n(function(){v1(t)&&w1(e)})}function v1(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!dn(e,n)}catch(r){return!0}}function w1(e){var t=nr(e,1);t!==null&&fn(t,e,1,-1)}function Uw(e){var t=An();return typeof e=="function"&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Nl,lastRenderedState:e},t.queue=e,e=e.dispatch=y_.bind(null,ve,e),[t.memoizedState,e]}function Dl(e,t,n,r){return e={tag:e,create:t,destroy:n,deps:r,next:null},t=ve.updateQueue,t===null?(t={lastEffect:null,stores:null},ve.updateQueue=t,t.lastEffect=e.next=e):(n=t.lastEffect,n===null?t.lastEffect=e.next=e:(r=n.next,n.next=e,e.next=r,t.lastEffect=e)),e}function x1(){return Zt().memoizedState}function Ic(e,t,n,r){var o=An();ve.flags|=e,o.memoizedState=Dl(1|t,n,void 0,r===void 0?null:r)}function df(e,t,n,r){var o=Zt();r=r===void 0?null:r;var i=void 0;if(Le!==null){var s=Le.memoizedState;if(i=s.destroy,r!==null&&pg(r,s.deps)){o.memoizedState=Dl(t,n,i,r);return}}ve.flags|=e,o.memoizedState=Dl(1|t,n,i,r)}function $w(e,t){return Ic(8390656,8,e,t)}function yg(e,t){return df(2048,8,e,t)}function C1(e,t){return df(4,2,e,t)}function S1(e,t){return df(4,4,e,t)}function P1(e,t){if(typeof t=="function")return e=e(),t(e),function(){t(null)};if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function E1(e,t,n){return n=n!=null?n.concat([e]):null,df(4,4,P1.bind(null,t,e),n)}function vg(){}function R1(e,t){var n=Zt();t=t===void 0?null:t;var r=n.memoizedState;return r!==null&&t!==null&&pg(t,r[1])?r[0]:(n.memoizedState=[e,t],e)}function T1(e,t){var n=Zt();t=t===void 0?null:t;var r=n.memoizedState;return r!==null&&t!==null&&pg(t,r[1])?r[0]:(e=e(),n.memoizedState=[e,t],e)}function b1(e,t,n){return pi&21?(dn(n,t)||(n=Mx(),ve.lanes|=n,hi|=n,e.baseState=!0),t):(e.baseState&&(e.baseState=!1,xt=!0),e.memoizedState=n)}function h_(e,t){var n=ee;ee=n!==0&&4>n?n:4,e(!0);var r=$p.transition;$p.transition={};try{e(!1),t()}finally{ee=n,$p.transition=r}}function A1(){return Zt().memoizedState}function g_(e,t,n){var r=Jr(e);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},_1(e))I1(t,n);else if(n=c1(e,t,n,r),n!==null){var o=mt();fn(n,e,r,o),k1(n,t,r)}}function y_(e,t,n){var r=Jr(e),o={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(_1(e))I1(t,o);else{var i=e.alternate;if(e.lanes===0&&(i===null||i.lanes===0)&&(i=t.lastRenderedReducer,i!==null))try{var s=t.lastRenderedState,a=i(s,n);if(o.hasEagerState=!0,o.eagerState=a,dn(a,s)){var l=t.interleaved;l===null?(o.next=o,ug(t)):(o.next=l.next,l.next=o),t.interleaved=o;return}}catch(u){}finally{}n=c1(e,t,o,r),n!==null&&(o=mt(),fn(n,e,r,o),k1(n,t,r))}}function _1(e){var t=e.alternate;return e===ve||t!==null&&t===ve}function I1(e,t){gl=Jc=!0;var n=e.pending;n===null?t.next=t:(t.next=n.next,n.next=t),e.pending=t}function k1(e,t,n){if(n&4194240){var r=t.lanes;r&=e.pendingLanes,n|=r,t.lanes=n,qh(e,n)}}var Zc={readContext:Jt,useCallback:Ze,useContext:Ze,useEffect:Ze,useImperativeHandle:Ze,useInsertionEffect:Ze,useLayoutEffect:Ze,useMemo:Ze,useReducer:Ze,useRef:Ze,useState:Ze,useDebugValue:Ze,useDeferredValue:Ze,useTransition:Ze,useMutableSource:Ze,useSyncExternalStore:Ze,useId:Ze,unstable_isNewReconciler:!1},v_={readContext:Jt,useCallback:function(e,t){return An().memoizedState=[e,t===void 0?null:t],e},useContext:Jt,useEffect:$w,useImperativeHandle:function(e,t,n){return n=n!=null?n.concat([e]):null,Ic(4194308,4,P1.bind(null,t,e),n)},useLayoutEffect:function(e,t){return Ic(4194308,4,e,t)},useInsertionEffect:function(e,t){return Ic(4,2,e,t)},useMemo:function(e,t){var n=An();return t=t===void 0?null:t,e=e(),n.memoizedState=[e,t],e},useReducer:function(e,t,n){var r=An();return t=n!==void 0?n(t):t,r.memoizedState=r.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},r.queue=e,e=e.dispatch=g_.bind(null,ve,e),[r.memoizedState,e]},useRef:function(e){var t=An();return e={current:e},t.memoizedState=e},useState:Uw,useDebugValue:vg,useDeferredValue:function(e){return An().memoizedState=e},useTransition:function(){var e=Uw(!1),t=e[0];return e=h_.bind(null,e[1]),An().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,n){var r=ve,o=An();if(me){if(n===void 0)throw Error(_(407));n=n()}else{if(n=t(),je===null)throw Error(_(349));pi&30||h1(r,t,n)}o.memoizedState=n;var i={value:n,getSnapshot:t};return o.queue=i,$w(y1.bind(null,r,i,e),[e]),r.flags|=2048,Dl(9,g1.bind(null,r,i,n,t),void 0,null),n},useId:function(){var e=An(),t=je.identifierPrefix;if(me){var n=Jn,r=Qn;n=(r&~(1<<32-cn(r)-1)).toString(32)+n,t=":"+t+"R"+n,n=Ol++,0<n&&(t+="H"+n.toString(32)),t+=":"}else n=p_++,t=":"+t+"r"+n.toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},w_={readContext:Jt,useCallback:R1,useContext:Jt,useEffect:yg,useImperativeHandle:E1,useInsertionEffect:C1,useLayoutEffect:S1,useMemo:T1,useReducer:zp,useRef:x1,useState:function(){return zp(Nl)},useDebugValue:vg,useDeferredValue:function(e){var t=Zt();return b1(t,Le.memoizedState,e)},useTransition:function(){var e=zp(Nl)[0],t=Zt().memoizedState;return[e,t]},useMutableSource:m1,useSyncExternalStore:p1,useId:A1,unstable_isNewReconciler:!1},x_={readContext:Jt,useCallback:R1,useContext:Jt,useEffect:yg,useImperativeHandle:E1,useInsertionEffect:C1,useLayoutEffect:S1,useMemo:T1,useReducer:Wp,useRef:x1,useState:function(){return Wp(Nl)},useDebugValue:vg,useDeferredValue:function(e){var t=Zt();return Le===null?t.memoizedState=e:b1(t,Le.memoizedState,e)},useTransition:function(){var e=Wp(Nl)[0],t=Zt().memoizedState;return[e,t]},useMutableSource:m1,useSyncExternalStore:p1,useId:A1,unstable_isNewReconciler:!1};function an(e,t){if(e&&e.defaultProps){t=we({},t),e=e.defaultProps;for(var n in e)t[n]===void 0&&(t[n]=e[n]);return t}return t}function Rh(e,t,n,r){t=e.memoizedState,n=n(r,t),n=n==null?t:we({},t,n),e.memoizedState=n,e.lanes===0&&(e.updateQueue.baseState=n)}var mf={isMounted:function(e){return(e=e._reactInternals)?vi(e)===e:!1},enqueueSetState:function(e,t,n){e=e._reactInternals;var r=mt(),o=Jr(e),i=Zn(r,o);i.payload=t,n!=null&&(i.callback=n),t=Yr(e,i,o),t!==null&&(fn(t,e,o,r),Ac(t,e,o))},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var r=mt(),o=Jr(e),i=Zn(r,o);i.tag=1,i.payload=t,n!=null&&(i.callback=n),t=Yr(e,i,o),t!==null&&(fn(t,e,o,r),Ac(t,e,o))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=mt(),r=Jr(e),o=Zn(n,r);o.tag=2,t!=null&&(o.callback=t),t=Yr(e,o,r),t!==null&&(fn(t,e,r,n),Ac(t,e,r))}};function zw(e,t,n,r,o,i,s){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(r,i,s):t.prototype&&t.prototype.isPureReactComponent?!bl(n,r)||!bl(o,i):!0}function M1(e,t,n){var r=!1,o=to,i=t.contextType;return typeof i=="object"&&i!==null?i=Jt(i):(o=St(t)?di:nt.current,r=t.contextTypes,i=(r=r!=null)?Ss(e,o):to),t=new t(n,i),e.memoizedState=t.state!==null&&t.state!==void 0?t.state:null,t.updater=mf,e.stateNode=t,t._reactInternals=e,r&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=o,e.__reactInternalMemoizedMaskedChildContext=i),t}function Ww(e,t,n,r){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(n,r),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(n,r),t.state!==e&&mf.enqueueReplaceState(t,t.state,null)}function Th(e,t,n,r){var o=e.stateNode;o.props=n,o.state=e.memoizedState,o.refs={},cg(e);var i=t.contextType;typeof i=="object"&&i!==null?o.context=Jt(i):(i=St(t)?di:nt.current,o.context=Ss(e,i)),o.state=e.memoizedState,i=t.getDerivedStateFromProps,typeof i=="function"&&(Rh(e,t,i,n),o.state=e.memoizedState),typeof t.getDerivedStateFromProps=="function"||typeof o.getSnapshotBeforeUpdate=="function"||typeof o.UNSAFE_componentWillMount!="function"&&typeof o.componentWillMount!="function"||(t=o.state,typeof o.componentWillMount=="function"&&o.componentWillMount(),typeof o.UNSAFE_componentWillMount=="function"&&o.UNSAFE_componentWillMount(),t!==o.state&&mf.enqueueReplaceState(o,o.state,null),Yc(e,n,o,r),o.state=e.memoizedState),typeof o.componentDidMount=="function"&&(e.flags|=4194308)}function Ts(e,t){try{var n="",r=t;do n+=Yb(r),r=r.return;while(r);var o=n}catch(i){o=`
Error generating stack: `+i.message+`
`+i.stack}return{value:e,source:t,stack:o,digest:null}}function Hp(e,t,n){return{value:e,source:null,stack:n!=null?n:null,digest:t!=null?t:null}}function bh(e,t){try{console.error(t.value)}catch(n){setTimeout(function(){throw n})}}var C_=typeof WeakMap=="function"?WeakMap:Map;function O1(e,t,n){n=Zn(-1,n),n.tag=3,n.payload={element:null};var r=t.value;return n.callback=function(){tf||(tf=!0,Fh=r),bh(e,t)},n}function N1(e,t,n){n=Zn(-1,n),n.tag=3;var r=e.type.getDerivedStateFromError;if(typeof r=="function"){var o=t.value;n.payload=function(){return r(o)},n.callback=function(){bh(e,t)}}var i=e.stateNode;return i!==null&&typeof i.componentDidCatch=="function"&&(n.callback=function(){bh(e,t),typeof r!="function"&&(Qr===null?Qr=new Set([this]):Qr.add(this));var s=t.stack;this.componentDidCatch(t.value,{componentStack:s!==null?s:""})}),n}function Hw(e,t,n){var r=e.pingCache;if(r===null){r=e.pingCache=new C_;var o=new Set;r.set(t,o)}else o=r.get(t),o===void 0&&(o=new Set,r.set(t,o));o.has(n)||(o.add(n),e=D_.bind(null,e,t,n),t.then(e,e))}function Kw(e){do{var t;if((t=e.tag===13)&&(t=e.memoizedState,t=t!==null?t.dehydrated!==null:!0),t)return e;e=e.return}while(e!==null);return null}function Gw(e,t,n,r,o){return e.mode&1?(e.flags|=65536,e.lanes=o,e):(e===t?e.flags|=65536:(e.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(t=Zn(-1,1),t.tag=2,Yr(n,t,1))),n.lanes|=1),e)}var S_=or.ReactCurrentOwner,xt=!1;function dt(e,t,n,r){t.child=e===null?u1(t,null,n,r):Es(t,e.child,n,r)}function Xw(e,t,n,r,o){n=n.render;var i=t.ref;return ws(t,o),r=hg(e,t,n,r,i,o),n=gg(),e!==null&&!xt?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~o,rr(e,t,o)):(me&&n&&rg(t),t.flags|=1,dt(e,t,r,o),t.child)}function qw(e,t,n,r,o){if(e===null){var i=n.type;return typeof i=="function"&&!Tg(i)&&i.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(t.tag=15,t.type=i,D1(e,t,i,r,o)):(e=Nc(n.type,null,r,t,t.mode,o),e.ref=t.ref,e.return=t,t.child=e)}if(i=e.child,!(e.lanes&o)){var s=i.memoizedProps;if(n=n.compare,n=n!==null?n:bl,n(s,r)&&e.ref===t.ref)return rr(e,t,o)}return t.flags|=1,e=Zr(i,r),e.ref=t.ref,e.return=t,t.child=e}function D1(e,t,n,r,o){if(e!==null){var i=e.memoizedProps;if(bl(i,r)&&e.ref===t.ref)if(xt=!1,t.pendingProps=r=i,(e.lanes&o)!==0)e.flags&131072&&(xt=!0);else return t.lanes=e.lanes,rr(e,t,o)}return Ah(e,t,n,r,o)}function L1(e,t,n){var r=t.pendingProps,o=r.children,i=e!==null?e.memoizedState:null;if(r.mode==="hidden")if(!(t.mode&1))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},ae(ps,Ot),Ot|=n;else{if(!(n&1073741824))return e=i!==null?i.baseLanes|n:n,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,ae(ps,Ot),Ot|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=i!==null?i.baseLanes:n,ae(ps,Ot),Ot|=r}else i!==null?(r=i.baseLanes|n,t.memoizedState=null):r=n,ae(ps,Ot),Ot|=r;return dt(e,t,o,n),t.child}function F1(e,t){var n=t.ref;(e===null&&n!==null||e!==null&&e.ref!==n)&&(t.flags|=512,t.flags|=2097152)}function Ah(e,t,n,r,o){var i=St(n)?di:nt.current;return i=Ss(t,i),ws(t,o),n=hg(e,t,n,r,i,o),r=gg(),e!==null&&!xt?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~o,rr(e,t,o)):(me&&r&&rg(t),t.flags|=1,dt(e,t,n,o),t.child)}function Yw(e,t,n,r,o){if(St(n)){var i=!0;Hc(t)}else i=!1;if(ws(t,o),t.stateNode===null)kc(e,t),M1(t,n,r),Th(t,n,r,o),r=!0;else if(e===null){var s=t.stateNode,a=t.memoizedProps;s.props=a;var l=s.context,u=n.contextType;typeof u=="object"&&u!==null?u=Jt(u):(u=St(n)?di:nt.current,u=Ss(t,u));var c=n.getDerivedStateFromProps,f=typeof c=="function"||typeof s.getSnapshotBeforeUpdate=="function";f||typeof s.UNSAFE_componentWillReceiveProps!="function"&&typeof s.componentWillReceiveProps!="function"||(a!==r||l!==u)&&Ww(t,s,r,u),Ur=!1;var d=t.memoizedState;s.state=d,Yc(t,r,s,o),l=t.memoizedState,a!==r||d!==l||Ct.current||Ur?(typeof c=="function"&&(Rh(t,n,c,r),l=t.memoizedState),(a=Ur||zw(t,n,a,r,d,l,u))?(f||typeof s.UNSAFE_componentWillMount!="function"&&typeof s.componentWillMount!="function"||(typeof s.componentWillMount=="function"&&s.componentWillMount(),typeof s.UNSAFE_componentWillMount=="function"&&s.UNSAFE_componentWillMount()),typeof s.componentDidMount=="function"&&(t.flags|=4194308)):(typeof s.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=r,t.memoizedState=l),s.props=r,s.state=l,s.context=u,r=a):(typeof s.componentDidMount=="function"&&(t.flags|=4194308),r=!1)}else{s=t.stateNode,f1(e,t),a=t.memoizedProps,u=t.type===t.elementType?a:an(t.type,a),s.props=u,f=t.pendingProps,d=s.context,l=n.contextType,typeof l=="object"&&l!==null?l=Jt(l):(l=St(n)?di:nt.current,l=Ss(t,l));var h=n.getDerivedStateFromProps;(c=typeof h=="function"||typeof s.getSnapshotBeforeUpdate=="function")||typeof s.UNSAFE_componentWillReceiveProps!="function"&&typeof s.componentWillReceiveProps!="function"||(a!==f||d!==l)&&Ww(t,s,r,l),Ur=!1,d=t.memoizedState,s.state=d,Yc(t,r,s,o);var y=t.memoizedState;a!==f||d!==y||Ct.current||Ur?(typeof h=="function"&&(Rh(t,n,h,r),y=t.memoizedState),(u=Ur||zw(t,n,u,r,d,y,l)||!1)?(c||typeof s.UNSAFE_componentWillUpdate!="function"&&typeof s.componentWillUpdate!="function"||(typeof s.componentWillUpdate=="function"&&s.componentWillUpdate(r,y,l),typeof s.UNSAFE_componentWillUpdate=="function"&&s.UNSAFE_componentWillUpdate(r,y,l)),typeof s.componentDidUpdate=="function"&&(t.flags|=4),typeof s.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof s.componentDidUpdate!="function"||a===e.memoizedProps&&d===e.memoizedState||(t.flags|=4),typeof s.getSnapshotBeforeUpdate!="function"||a===e.memoizedProps&&d===e.memoizedState||(t.flags|=1024),t.memoizedProps=r,t.memoizedState=y),s.props=r,s.state=y,s.context=l,r=u):(typeof s.componentDidUpdate!="function"||a===e.memoizedProps&&d===e.memoizedState||(t.flags|=4),typeof s.getSnapshotBeforeUpdate!="function"||a===e.memoizedProps&&d===e.memoizedState||(t.flags|=1024),r=!1)}return _h(e,t,n,r,i,o)}function _h(e,t,n,r,o,i){F1(e,t);var s=(t.flags&128)!==0;if(!r&&!s)return o&&Dw(t,n,!1),rr(e,t,i);r=t.stateNode,S_.current=t;var a=s&&typeof n.getDerivedStateFromError!="function"?null:r.render();return t.flags|=1,e!==null&&s?(t.child=Es(t,e.child,null,i),t.child=Es(t,null,a,i)):dt(e,t,a,i),t.memoizedState=r.state,o&&Dw(t,n,!0),t.child}function V1(e){var t=e.stateNode;t.pendingContext?Nw(e,t.pendingContext,t.pendingContext!==t.context):t.context&&Nw(e,t.context,!1),fg(e,t.containerInfo)}function Qw(e,t,n,r,o){return Ps(),ig(o),t.flags|=256,dt(e,t,n,r),t.child}var Ih={dehydrated:null,treeContext:null,retryLane:0};function kh(e){return{baseLanes:e,cachePool:null,transitions:null}}function B1(e,t,n){var r=t.pendingProps,o=ye.current,i=!1,s=(t.flags&128)!==0,a;if((a=s)||(a=e!==null&&e.memoizedState===null?!1:(o&2)!==0),a?(i=!0,t.flags&=-129):(e===null||e.memoizedState!==null)&&(o|=1),ae(ye,o&1),e===null)return Ph(t),e=t.memoizedState,e!==null&&(e=e.dehydrated,e!==null)?(t.mode&1?e.data==="$!"?t.lanes=8:t.lanes=1073741824:t.lanes=1,null):(s=r.children,e=r.fallback,i?(r=t.mode,i=t.child,s={mode:"hidden",children:s},!(r&1)&&i!==null?(i.childLanes=0,i.pendingProps=s):i=gf(s,r,0,null),e=fi(e,r,n,null),i.return=t,e.return=t,i.sibling=e,t.child=i,t.child.memoizedState=kh(n),t.memoizedState=Ih,e):wg(t,s));if(o=e.memoizedState,o!==null&&(a=o.dehydrated,a!==null))return P_(e,t,s,r,a,o,n);if(i){i=r.fallback,s=t.mode,o=e.child,a=o.sibling;var l={mode:"hidden",children:r.children};return!(s&1)&&t.child!==o?(r=t.child,r.childLanes=0,r.pendingProps=l,t.deletions=null):(r=Zr(o,l),r.subtreeFlags=o.subtreeFlags&14680064),a!==null?i=Zr(a,i):(i=fi(i,s,n,null),i.flags|=2),i.return=t,r.return=t,r.sibling=i,t.child=r,r=i,i=t.child,s=e.child.memoizedState,s=s===null?kh(n):{baseLanes:s.baseLanes|n,cachePool:null,transitions:s.transitions},i.memoizedState=s,i.childLanes=e.childLanes&~n,t.memoizedState=Ih,r}return i=e.child,e=i.sibling,r=Zr(i,{mode:"visible",children:r.children}),!(t.mode&1)&&(r.lanes=n),r.return=t,r.sibling=null,e!==null&&(n=t.deletions,n===null?(t.deletions=[e],t.flags|=16):n.push(e)),t.child=r,t.memoizedState=null,r}function wg(e,t){return t=gf({mode:"visible",children:t},e.mode,0,null),t.return=e,e.child=t}function Sc(e,t,n,r){return r!==null&&ig(r),Es(t,e.child,null,n),e=wg(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function P_(e,t,n,r,o,i,s){if(n)return t.flags&256?(t.flags&=-257,r=Hp(Error(_(422))),Sc(e,t,s,r)):t.memoizedState!==null?(t.child=e.child,t.flags|=128,null):(i=r.fallback,o=t.mode,r=gf({mode:"visible",children:r.children},o,0,null),i=fi(i,o,s,null),i.flags|=2,r.return=t,i.return=t,r.sibling=i,t.child=r,t.mode&1&&Es(t,e.child,null,s),t.child.memoizedState=kh(s),t.memoizedState=Ih,i);if(!(t.mode&1))return Sc(e,t,s,null);if(o.data==="$!"){if(r=o.nextSibling&&o.nextSibling.dataset,r)var a=r.dgst;return r=a,i=Error(_(419)),r=Hp(i,r,void 0),Sc(e,t,s,r)}if(a=(s&e.childLanes)!==0,xt||a){if(r=je,r!==null){switch(s&-s){case 4:o=2;break;case 16:o=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:o=32;break;case 536870912:o=268435456;break;default:o=0}o=o&(r.suspendedLanes|s)?0:o,o!==0&&o!==i.retryLane&&(i.retryLane=o,nr(e,o),fn(r,e,o,-1))}return Rg(),r=Hp(Error(_(421))),Sc(e,t,s,r)}return o.data==="$?"?(t.flags|=128,t.child=e.child,t=L_.bind(null,e),o._reactRetry=t,null):(e=i.treeContext,Nt=qr(o.nextSibling),Dt=t,me=!0,un=null,e!==null&&(Xt[qt++]=Qn,Xt[qt++]=Jn,Xt[qt++]=mi,Qn=e.id,Jn=e.overflow,mi=t),t=wg(t,r.children),t.flags|=4096,t)}function Jw(e,t,n){e.lanes|=t;var r=e.alternate;r!==null&&(r.lanes|=t),Eh(e.return,t,n)}function Kp(e,t,n,r,o){var i=e.memoizedState;i===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:o}:(i.isBackwards=t,i.rendering=null,i.renderingStartTime=0,i.last=r,i.tail=n,i.tailMode=o)}function j1(e,t,n){var r=t.pendingProps,o=r.revealOrder,i=r.tail;if(dt(e,t,r.children,n),r=ye.current,r&2)r=r&1|2,t.flags|=128;else{if(e!==null&&e.flags&128)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&Jw(e,n,t);else if(e.tag===19)Jw(e,n,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}r&=1}if(ae(ye,r),!(t.mode&1))t.memoizedState=null;else switch(o){case"forwards":for(n=t.child,o=null;n!==null;)e=n.alternate,e!==null&&Qc(e)===null&&(o=n),n=n.sibling;n=o,n===null?(o=t.child,t.child=null):(o=n.sibling,n.sibling=null),Kp(t,!1,o,n,i);break;case"backwards":for(n=null,o=t.child,t.child=null;o!==null;){if(e=o.alternate,e!==null&&Qc(e)===null){t.child=o;break}e=o.sibling,o.sibling=n,n=o,o=e}Kp(t,!0,n,null,i);break;case"together":Kp(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function kc(e,t){!(t.mode&1)&&e!==null&&(e.alternate=null,t.alternate=null,t.flags|=2)}function rr(e,t,n){if(e!==null&&(t.dependencies=e.dependencies),hi|=t.lanes,!(n&t.childLanes))return null;if(e!==null&&t.child!==e.child)throw Error(_(153));if(t.child!==null){for(e=t.child,n=Zr(e,e.pendingProps),t.child=n,n.return=t;e.sibling!==null;)e=e.sibling,n=n.sibling=Zr(e,e.pendingProps),n.return=t;n.sibling=null}return t.child}function E_(e,t,n){switch(t.tag){case 3:V1(t),Ps();break;case 5:d1(t);break;case 1:St(t.type)&&Hc(t);break;case 4:fg(t,t.stateNode.containerInfo);break;case 10:var r=t.type._context,o=t.memoizedProps.value;ae(Xc,r._currentValue),r._currentValue=o;break;case 13:if(r=t.memoizedState,r!==null)return r.dehydrated!==null?(ae(ye,ye.current&1),t.flags|=128,null):n&t.child.childLanes?B1(e,t,n):(ae(ye,ye.current&1),e=rr(e,t,n),e!==null?e.sibling:null);ae(ye,ye.current&1);break;case 19:if(r=(n&t.childLanes)!==0,e.flags&128){if(r)return j1(e,t,n);t.flags|=128}if(o=t.memoizedState,o!==null&&(o.rendering=null,o.tail=null,o.lastEffect=null),ae(ye,ye.current),r)break;return null;case 22:case 23:return t.lanes=0,L1(e,t,n)}return rr(e,t,n)}var U1,Mh,$1,z1;U1=function(e,t){for(var n=t.child;n!==null;){if(n.tag===5||n.tag===6)e.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===t)break;for(;n.sibling===null;){if(n.return===null||n.return===t)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};Mh=function(){};$1=function(e,t,n,r){var o=e.memoizedProps;if(o!==r){e=t.stateNode,ui(kn.current);var i=null;switch(n){case"input":o=eh(e,o),r=eh(e,r),i=[];break;case"select":o=we({},o,{value:void 0}),r=we({},r,{value:void 0}),i=[];break;case"textarea":o=rh(e,o),r=rh(e,r),i=[];break;default:typeof o.onClick!="function"&&typeof r.onClick=="function"&&(e.onclick=zc)}ih(n,r);var s;n=null;for(u in o)if(!r.hasOwnProperty(u)&&o.hasOwnProperty(u)&&o[u]!=null)if(u==="style"){var a=o[u];for(s in a)a.hasOwnProperty(s)&&(n||(n={}),n[s]="")}else u!=="dangerouslySetInnerHTML"&&u!=="children"&&u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&u!=="autoFocus"&&(xl.hasOwnProperty(u)?i||(i=[]):(i=i||[]).push(u,null));for(u in r){var l=r[u];if(a=o!=null?o[u]:void 0,r.hasOwnProperty(u)&&l!==a&&(l!=null||a!=null))if(u==="style")if(a){for(s in a)!a.hasOwnProperty(s)||l&&l.hasOwnProperty(s)||(n||(n={}),n[s]="");for(s in l)l.hasOwnProperty(s)&&a[s]!==l[s]&&(n||(n={}),n[s]=l[s])}else n||(i||(i=[]),i.push(u,n)),n=l;else u==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,a=a?a.__html:void 0,l!=null&&a!==l&&(i=i||[]).push(u,l)):u==="children"?typeof l!="string"&&typeof l!="number"||(i=i||[]).push(u,""+l):u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&(xl.hasOwnProperty(u)?(l!=null&&u==="onScroll"&&ue("scroll",e),i||a===l||(i=[])):(i=i||[]).push(u,l))}n&&(i=i||[]).push("style",n);var u=i;(t.updateQueue=u)&&(t.flags|=4)}};z1=function(e,t,n,r){n!==r&&(t.flags|=4)};function ol(e,t){if(!me)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;t!==null;)t.alternate!==null&&(n=t),t=t.sibling;n===null?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:r.sibling=null}}function et(e){var t=e.alternate!==null&&e.alternate.child===e.child,n=0,r=0;if(t)for(var o=e.child;o!==null;)n|=o.lanes|o.childLanes,r|=o.subtreeFlags&14680064,r|=o.flags&14680064,o.return=e,o=o.sibling;else for(o=e.child;o!==null;)n|=o.lanes|o.childLanes,r|=o.subtreeFlags,r|=o.flags,o.return=e,o=o.sibling;return e.subtreeFlags|=r,e.childLanes=n,t}function R_(e,t,n){var r=t.pendingProps;switch(og(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return et(t),null;case 1:return St(t.type)&&Wc(),et(t),null;case 3:return r=t.stateNode,Rs(),ce(Ct),ce(nt),mg(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(e===null||e.child===null)&&(xc(t)?t.flags|=4:e===null||e.memoizedState.isDehydrated&&!(t.flags&256)||(t.flags|=1024,un!==null&&(jh(un),un=null))),Mh(e,t),et(t),null;case 5:dg(t);var o=ui(Ml.current);if(n=t.type,e!==null&&t.stateNode!=null)$1(e,t,n,r,o),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!r){if(t.stateNode===null)throw Error(_(166));return et(t),null}if(e=ui(kn.current),xc(t)){r=t.stateNode,n=t.type;var i=t.memoizedProps;switch(r[_n]=t,r[Il]=i,e=(t.mode&1)!==0,n){case"dialog":ue("cancel",r),ue("close",r);break;case"iframe":case"object":case"embed":ue("load",r);break;case"video":case"audio":for(o=0;o<cl.length;o++)ue(cl[o],r);break;case"source":ue("error",r);break;case"img":case"image":case"link":ue("error",r),ue("load",r);break;case"details":ue("toggle",r);break;case"input":sw(r,i),ue("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!i.multiple},ue("invalid",r);break;case"textarea":lw(r,i),ue("invalid",r)}ih(n,i),o=null;for(var s in i)if(i.hasOwnProperty(s)){var a=i[s];s==="children"?typeof a=="string"?r.textContent!==a&&(i.suppressHydrationWarning!==!0&&wc(r.textContent,a,e),o=["children",a]):typeof a=="number"&&r.textContent!==""+a&&(i.suppressHydrationWarning!==!0&&wc(r.textContent,a,e),o=["children",""+a]):xl.hasOwnProperty(s)&&a!=null&&s==="onScroll"&&ue("scroll",r)}switch(n){case"input":ac(r),aw(r,i,!0);break;case"textarea":ac(r),uw(r);break;case"select":case"option":break;default:typeof i.onClick=="function"&&(r.onclick=zc)}r=o,t.updateQueue=r,r!==null&&(t.flags|=4)}else{s=o.nodeType===9?o:o.ownerDocument,e==="http://www.w3.org/1999/xhtml"&&(e=yx(n)),e==="http://www.w3.org/1999/xhtml"?n==="script"?(e=s.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):typeof r.is=="string"?e=s.createElement(n,{is:r.is}):(e=s.createElement(n),n==="select"&&(s=e,r.multiple?s.multiple=!0:r.size&&(s.size=r.size))):e=s.createElementNS(e,n),e[_n]=t,e[Il]=r,U1(e,t,!1,!1),t.stateNode=e;e:{switch(s=sh(n,r),n){case"dialog":ue("cancel",e),ue("close",e),o=r;break;case"iframe":case"object":case"embed":ue("load",e),o=r;break;case"video":case"audio":for(o=0;o<cl.length;o++)ue(cl[o],e);o=r;break;case"source":ue("error",e),o=r;break;case"img":case"image":case"link":ue("error",e),ue("load",e),o=r;break;case"details":ue("toggle",e),o=r;break;case"input":sw(e,r),o=eh(e,r),ue("invalid",e);break;case"option":o=r;break;case"select":e._wrapperState={wasMultiple:!!r.multiple},o=we({},r,{value:void 0}),ue("invalid",e);break;case"textarea":lw(e,r),o=rh(e,r),ue("invalid",e);break;default:o=r}ih(n,o),a=o;for(i in a)if(a.hasOwnProperty(i)){var l=a[i];i==="style"?xx(e,l):i==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,l!=null&&vx(e,l)):i==="children"?typeof l=="string"?(n!=="textarea"||l!=="")&&Cl(e,l):typeof l=="number"&&Cl(e,""+l):i!=="suppressContentEditableWarning"&&i!=="suppressHydrationWarning"&&i!=="autoFocus"&&(xl.hasOwnProperty(i)?l!=null&&i==="onScroll"&&ue("scroll",e):l!=null&&zh(e,i,l,s))}switch(n){case"input":ac(e),aw(e,r,!1);break;case"textarea":ac(e),uw(e);break;case"option":r.value!=null&&e.setAttribute("value",""+eo(r.value));break;case"select":e.multiple=!!r.multiple,i=r.value,i!=null?hs(e,!!r.multiple,i,!1):r.defaultValue!=null&&hs(e,!!r.multiple,r.defaultValue,!0);break;default:typeof o.onClick=="function"&&(e.onclick=zc)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(t.flags|=4)}t.ref!==null&&(t.flags|=512,t.flags|=2097152)}return et(t),null;case 6:if(e&&t.stateNode!=null)z1(e,t,e.memoizedProps,r);else{if(typeof r!="string"&&t.stateNode===null)throw Error(_(166));if(n=ui(Ml.current),ui(kn.current),xc(t)){if(r=t.stateNode,n=t.memoizedProps,r[_n]=t,(i=r.nodeValue!==n)&&(e=Dt,e!==null))switch(e.tag){case 3:wc(r.nodeValue,n,(e.mode&1)!==0);break;case 5:e.memoizedProps.suppressHydrationWarning!==!0&&wc(r.nodeValue,n,(e.mode&1)!==0)}i&&(t.flags|=4)}else r=(n.nodeType===9?n:n.ownerDocument).createTextNode(r),r[_n]=t,t.stateNode=r}return et(t),null;case 13:if(ce(ye),r=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(me&&Nt!==null&&t.mode&1&&!(t.flags&128))a1(),Ps(),t.flags|=98560,i=!1;else if(i=xc(t),r!==null&&r.dehydrated!==null){if(e===null){if(!i)throw Error(_(318));if(i=t.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(_(317));i[_n]=t}else Ps(),!(t.flags&128)&&(t.memoizedState=null),t.flags|=4;et(t),i=!1}else un!==null&&(jh(un),un=null),i=!0;if(!i)return t.flags&65536?t:null}return t.flags&128?(t.lanes=n,t):(r=r!==null,r!==(e!==null&&e.memoizedState!==null)&&r&&(t.child.flags|=8192,t.mode&1&&(e===null||ye.current&1?Fe===0&&(Fe=3):Rg())),t.updateQueue!==null&&(t.flags|=4),et(t),null);case 4:return Rs(),Mh(e,t),e===null&&Al(t.stateNode.containerInfo),et(t),null;case 10:return lg(t.type._context),et(t),null;case 17:return St(t.type)&&Wc(),et(t),null;case 19:if(ce(ye),i=t.memoizedState,i===null)return et(t),null;if(r=(t.flags&128)!==0,s=i.rendering,s===null)if(r)ol(i,!1);else{if(Fe!==0||e!==null&&e.flags&128)for(e=t.child;e!==null;){if(s=Qc(e),s!==null){for(t.flags|=128,ol(i,!1),r=s.updateQueue,r!==null&&(t.updateQueue=r,t.flags|=4),t.subtreeFlags=0,r=n,n=t.child;n!==null;)i=n,e=r,i.flags&=14680066,s=i.alternate,s===null?(i.childLanes=0,i.lanes=e,i.child=null,i.subtreeFlags=0,i.memoizedProps=null,i.memoizedState=null,i.updateQueue=null,i.dependencies=null,i.stateNode=null):(i.childLanes=s.childLanes,i.lanes=s.lanes,i.child=s.child,i.subtreeFlags=0,i.deletions=null,i.memoizedProps=s.memoizedProps,i.memoizedState=s.memoizedState,i.updateQueue=s.updateQueue,i.type=s.type,e=s.dependencies,i.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext}),n=n.sibling;return ae(ye,ye.current&1|2),t.child}e=e.sibling}i.tail!==null&&Pe()>bs&&(t.flags|=128,r=!0,ol(i,!1),t.lanes=4194304)}else{if(!r)if(e=Qc(s),e!==null){if(t.flags|=128,r=!0,n=e.updateQueue,n!==null&&(t.updateQueue=n,t.flags|=4),ol(i,!0),i.tail===null&&i.tailMode==="hidden"&&!s.alternate&&!me)return et(t),null}else 2*Pe()-i.renderingStartTime>bs&&n!==1073741824&&(t.flags|=128,r=!0,ol(i,!1),t.lanes=4194304);i.isBackwards?(s.sibling=t.child,t.child=s):(n=i.last,n!==null?n.sibling=s:t.child=s,i.last=s)}return i.tail!==null?(t=i.tail,i.rendering=t,i.tail=t.sibling,i.renderingStartTime=Pe(),t.sibling=null,n=ye.current,ae(ye,r?n&1|2:n&1),t):(et(t),null);case 22:case 23:return Eg(),r=t.memoizedState!==null,e!==null&&e.memoizedState!==null!==r&&(t.flags|=8192),r&&t.mode&1?Ot&1073741824&&(et(t),t.subtreeFlags&6&&(t.flags|=8192)):et(t),null;case 24:return null;case 25:return null}throw Error(_(156,t.tag))}function T_(e,t){switch(og(t),t.tag){case 1:return St(t.type)&&Wc(),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return Rs(),ce(Ct),ce(nt),mg(),e=t.flags,e&65536&&!(e&128)?(t.flags=e&-65537|128,t):null;case 5:return dg(t),null;case 13:if(ce(ye),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(_(340));Ps()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return ce(ye),null;case 4:return Rs(),null;case 10:return lg(t.type._context),null;case 22:case 23:return Eg(),null;case 24:return null;default:return null}}var Pc=!1,tt=!1,b_=typeof WeakSet=="function"?WeakSet:Set,k=null;function ms(e,t){var n=e.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(r){xe(e,t,r)}else n.current=null}function Oh(e,t,n){try{n()}catch(r){xe(e,t,r)}}var Zw=!1;function A_(e,t){if(gh=jc,e=Xx(),ng(e)){if("selectionStart"in e)var n={start:e.selectionStart,end:e.selectionEnd};else e:{n=(n=e.ownerDocument)&&n.defaultView||window;var r=n.getSelection&&n.getSelection();if(r&&r.rangeCount!==0){n=r.anchorNode;var o=r.anchorOffset,i=r.focusNode;r=r.focusOffset;try{n.nodeType,i.nodeType}catch(w){n=null;break e}var s=0,a=-1,l=-1,u=0,c=0,f=e,d=null;t:for(;;){for(var h;f!==n||o!==0&&f.nodeType!==3||(a=s+o),f!==i||r!==0&&f.nodeType!==3||(l=s+r),f.nodeType===3&&(s+=f.nodeValue.length),(h=f.firstChild)!==null;)d=f,f=h;for(;;){if(f===e)break t;if(d===n&&++u===o&&(a=s),d===i&&++c===r&&(l=s),(h=f.nextSibling)!==null)break;f=d,d=f.parentNode}f=h}n=a===-1||l===-1?null:{start:a,end:l}}else n=null}n=n||{start:0,end:0}}else n=null;for(yh={focusedElem:e,selectionRange:n},jc=!1,k=t;k!==null;)if(t=k,e=t.child,(t.subtreeFlags&1028)!==0&&e!==null)e.return=t,k=e;else for(;k!==null;){t=k;try{var y=t.alternate;if(t.flags&1024)switch(t.tag){case 0:case 11:case 15:break;case 1:if(y!==null){var v=y.memoizedProps,x=y.memoizedState,g=t.stateNode,m=g.getSnapshotBeforeUpdate(t.elementType===t.type?v:an(t.type,v),x);g.__reactInternalSnapshotBeforeUpdate=m}break;case 3:var p=t.stateNode.containerInfo;p.nodeType===1?p.textContent="":p.nodeType===9&&p.documentElement&&p.removeChild(p.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(_(163))}}catch(w){xe(t,t.return,w)}if(e=t.sibling,e!==null){e.return=t.return,k=e;break}k=t.return}return y=Zw,Zw=!1,y}function yl(e,t,n){var r=t.updateQueue;if(r=r!==null?r.lastEffect:null,r!==null){var o=r=r.next;do{if((o.tag&e)===e){var i=o.destroy;o.destroy=void 0,i!==void 0&&Oh(t,n,i)}o=o.next}while(o!==r)}}function pf(e,t){if(t=t.updateQueue,t=t!==null?t.lastEffect:null,t!==null){var n=t=t.next;do{if((n.tag&e)===e){var r=n.create;n.destroy=r()}n=n.next}while(n!==t)}}function Nh(e){var t=e.ref;if(t!==null){var n=e.stateNode;switch(e.tag){case 5:e=n;break;default:e=n}typeof t=="function"?t(e):t.current=e}}function W1(e){var t=e.alternate;t!==null&&(e.alternate=null,W1(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&(delete t[_n],delete t[Il],delete t[xh],delete t[c_],delete t[f_])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function H1(e){return e.tag===5||e.tag===3||e.tag===4}function ex(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||H1(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function Dh(e,t,n){var r=e.tag;if(r===5||r===6)e=e.stateNode,t?n.nodeType===8?n.parentNode.insertBefore(e,t):n.insertBefore(e,t):(n.nodeType===8?(t=n.parentNode,t.insertBefore(e,n)):(t=n,t.appendChild(e)),n=n._reactRootContainer,n!=null||t.onclick!==null||(t.onclick=zc));else if(r!==4&&(e=e.child,e!==null))for(Dh(e,t,n),e=e.sibling;e!==null;)Dh(e,t,n),e=e.sibling}function Lh(e,t,n){var r=e.tag;if(r===5||r===6)e=e.stateNode,t?n.insertBefore(e,t):n.appendChild(e);else if(r!==4&&(e=e.child,e!==null))for(Lh(e,t,n),e=e.sibling;e!==null;)Lh(e,t,n),e=e.sibling}var Ke=null,ln=!1;function Br(e,t,n){for(n=n.child;n!==null;)K1(e,t,n),n=n.sibling}function K1(e,t,n){if(In&&typeof In.onCommitFiberUnmount=="function")try{In.onCommitFiberUnmount(sf,n)}catch(a){}switch(n.tag){case 5:tt||ms(n,t);case 6:var r=Ke,o=ln;Ke=null,Br(e,t,n),Ke=r,ln=o,Ke!==null&&(ln?(e=Ke,n=n.stateNode,e.nodeType===8?e.parentNode.removeChild(n):e.removeChild(n)):Ke.removeChild(n.stateNode));break;case 18:Ke!==null&&(ln?(e=Ke,n=n.stateNode,e.nodeType===8?Bp(e.parentNode,n):e.nodeType===1&&Bp(e,n),Rl(e)):Bp(Ke,n.stateNode));break;case 4:r=Ke,o=ln,Ke=n.stateNode.containerInfo,ln=!0,Br(e,t,n),Ke=r,ln=o;break;case 0:case 11:case 14:case 15:if(!tt&&(r=n.updateQueue,r!==null&&(r=r.lastEffect,r!==null))){o=r=r.next;do{var i=o,s=i.destroy;i=i.tag,s!==void 0&&(i&2||i&4)&&Oh(n,t,s),o=o.next}while(o!==r)}Br(e,t,n);break;case 1:if(!tt&&(ms(n,t),r=n.stateNode,typeof r.componentWillUnmount=="function"))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(a){xe(n,t,a)}Br(e,t,n);break;case 21:Br(e,t,n);break;case 22:n.mode&1?(tt=(r=tt)||n.memoizedState!==null,Br(e,t,n),tt=r):Br(e,t,n);break;default:Br(e,t,n)}}function tx(e){var t=e.updateQueue;if(t!==null){e.updateQueue=null;var n=e.stateNode;n===null&&(n=e.stateNode=new b_),t.forEach(function(r){var o=F_.bind(null,e,r);n.has(r)||(n.add(r),r.then(o,o))})}}function sn(e,t){var n=t.deletions;if(n!==null)for(var r=0;r<n.length;r++){var o=n[r];try{var i=e,s=t,a=s;e:for(;a!==null;){switch(a.tag){case 5:Ke=a.stateNode,ln=!1;break e;case 3:Ke=a.stateNode.containerInfo,ln=!0;break e;case 4:Ke=a.stateNode.containerInfo,ln=!0;break e}a=a.return}if(Ke===null)throw Error(_(160));K1(i,s,o),Ke=null,ln=!1;var l=o.alternate;l!==null&&(l.return=null),o.return=null}catch(u){xe(o,t,u)}}if(t.subtreeFlags&12854)for(t=t.child;t!==null;)G1(t,e),t=t.sibling}function G1(e,t){var n=e.alternate,r=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(sn(t,e),bn(e),r&4){try{yl(3,e,e.return),pf(3,e)}catch(v){xe(e,e.return,v)}try{yl(5,e,e.return)}catch(v){xe(e,e.return,v)}}break;case 1:sn(t,e),bn(e),r&512&&n!==null&&ms(n,n.return);break;case 5:if(sn(t,e),bn(e),r&512&&n!==null&&ms(n,n.return),e.flags&32){var o=e.stateNode;try{Cl(o,"")}catch(v){xe(e,e.return,v)}}if(r&4&&(o=e.stateNode,o!=null)){var i=e.memoizedProps,s=n!==null?n.memoizedProps:i,a=e.type,l=e.updateQueue;if(e.updateQueue=null,l!==null)try{a==="input"&&i.type==="radio"&&i.name!=null&&hx(o,i),sh(a,s);var u=sh(a,i);for(s=0;s<l.length;s+=2){var c=l[s],f=l[s+1];c==="style"?xx(o,f):c==="dangerouslySetInnerHTML"?vx(o,f):c==="children"?Cl(o,f):zh(o,c,f,u)}switch(a){case"input":th(o,i);break;case"textarea":gx(o,i);break;case"select":var d=o._wrapperState.wasMultiple;o._wrapperState.wasMultiple=!!i.multiple;var h=i.value;h!=null?hs(o,!!i.multiple,h,!1):d!==!!i.multiple&&(i.defaultValue!=null?hs(o,!!i.multiple,i.defaultValue,!0):hs(o,!!i.multiple,i.multiple?[]:"",!1))}o[Il]=i}catch(v){xe(e,e.return,v)}}break;case 6:if(sn(t,e),bn(e),r&4){if(e.stateNode===null)throw Error(_(162));o=e.stateNode,i=e.memoizedProps;try{o.nodeValue=i}catch(v){xe(e,e.return,v)}}break;case 3:if(sn(t,e),bn(e),r&4&&n!==null&&n.memoizedState.isDehydrated)try{Rl(t.containerInfo)}catch(v){xe(e,e.return,v)}break;case 4:sn(t,e),bn(e);break;case 13:sn(t,e),bn(e),o=e.child,o.flags&8192&&(i=o.memoizedState!==null,o.stateNode.isHidden=i,!i||o.alternate!==null&&o.alternate.memoizedState!==null||(Sg=Pe())),r&4&&tx(e);break;case 22:if(c=n!==null&&n.memoizedState!==null,e.mode&1?(tt=(u=tt)||c,sn(t,e),tt=u):sn(t,e),bn(e),r&8192){if(u=e.memoizedState!==null,(e.stateNode.isHidden=u)&&!c&&e.mode&1)for(k=e,c=e.child;c!==null;){for(f=k=c;k!==null;){switch(d=k,h=d.child,d.tag){case 0:case 11:case 14:case 15:yl(4,d,d.return);break;case 1:ms(d,d.return);var y=d.stateNode;if(typeof y.componentWillUnmount=="function"){r=d,n=d.return;try{t=r,y.props=t.memoizedProps,y.state=t.memoizedState,y.componentWillUnmount()}catch(v){xe(r,n,v)}}break;case 5:ms(d,d.return);break;case 22:if(d.memoizedState!==null){rx(f);continue}}h!==null?(h.return=d,k=h):rx(f)}c=c.sibling}e:for(c=null,f=e;;){if(f.tag===5){if(c===null){c=f;try{o=f.stateNode,u?(i=o.style,typeof i.setProperty=="function"?i.setProperty("display","none","important"):i.display="none"):(a=f.stateNode,l=f.memoizedProps.style,s=l!=null&&l.hasOwnProperty("display")?l.display:null,a.style.display=wx("display",s))}catch(v){xe(e,e.return,v)}}}else if(f.tag===6){if(c===null)try{f.stateNode.nodeValue=u?"":f.memoizedProps}catch(v){xe(e,e.return,v)}}else if((f.tag!==22&&f.tag!==23||f.memoizedState===null||f===e)&&f.child!==null){f.child.return=f,f=f.child;continue}if(f===e)break e;for(;f.sibling===null;){if(f.return===null||f.return===e)break e;c===f&&(c=null),f=f.return}c===f&&(c=null),f.sibling.return=f.return,f=f.sibling}}break;case 19:sn(t,e),bn(e),r&4&&tx(e);break;case 21:break;default:sn(t,e),bn(e)}}function bn(e){var t=e.flags;if(t&2){try{e:{for(var n=e.return;n!==null;){if(H1(n)){var r=n;break e}n=n.return}throw Error(_(160))}switch(r.tag){case 5:var o=r.stateNode;r.flags&32&&(Cl(o,""),r.flags&=-33);var i=ex(e);Lh(e,i,o);break;case 3:case 4:var s=r.stateNode.containerInfo,a=ex(e);Dh(e,a,s);break;default:throw Error(_(161))}}catch(l){xe(e,e.return,l)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function __(e,t,n){k=e,X1(e,t,n)}function X1(e,t,n){for(var r=(e.mode&1)!==0;k!==null;){var o=k,i=o.child;if(o.tag===22&&r){var s=o.memoizedState!==null||Pc;if(!s){var a=o.alternate,l=a!==null&&a.memoizedState!==null||tt;a=Pc;var u=tt;if(Pc=s,(tt=l)&&!u)for(k=o;k!==null;)s=k,l=s.child,s.tag===22&&s.memoizedState!==null?ox(o):l!==null?(l.return=s,k=l):ox(o);for(;i!==null;)k=i,X1(i,t,n),i=i.sibling;k=o,Pc=a,tt=u}nx(e,t,n)}else o.subtreeFlags&8772&&i!==null?(i.return=o,k=i):nx(e,t,n)}}function nx(e){for(;k!==null;){var t=k;if(t.flags&8772){var n=t.alternate;try{if(t.flags&8772)switch(t.tag){case 0:case 11:case 15:tt||pf(5,t);break;case 1:var r=t.stateNode;if(t.flags&4&&!tt)if(n===null)r.componentDidMount();else{var o=t.elementType===t.type?n.memoizedProps:an(t.type,n.memoizedProps);r.componentDidUpdate(o,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var i=t.updateQueue;i!==null&&jw(t,i,r);break;case 3:var s=t.updateQueue;if(s!==null){if(n=null,t.child!==null)switch(t.child.tag){case 5:n=t.child.stateNode;break;case 1:n=t.child.stateNode}jw(t,s,n)}break;case 5:var a=t.stateNode;if(n===null&&t.flags&4){n=a;var l=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":l.autoFocus&&n.focus();break;case"img":l.src&&(n.src=l.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(t.memoizedState===null){var u=t.alternate;if(u!==null){var c=u.memoizedState;if(c!==null){var f=c.dehydrated;f!==null&&Rl(f)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(_(163))}tt||t.flags&512&&Nh(t)}catch(d){xe(t,t.return,d)}}if(t===e){k=null;break}if(n=t.sibling,n!==null){n.return=t.return,k=n;break}k=t.return}}function rx(e){for(;k!==null;){var t=k;if(t===e){k=null;break}var n=t.sibling;if(n!==null){n.return=t.return,k=n;break}k=t.return}}function ox(e){for(;k!==null;){var t=k;try{switch(t.tag){case 0:case 11:case 15:var n=t.return;try{pf(4,t)}catch(l){xe(t,n,l)}break;case 1:var r=t.stateNode;if(typeof r.componentDidMount=="function"){var o=t.return;try{r.componentDidMount()}catch(l){xe(t,o,l)}}var i=t.return;try{Nh(t)}catch(l){xe(t,i,l)}break;case 5:var s=t.return;try{Nh(t)}catch(l){xe(t,s,l)}}}catch(l){xe(t,t.return,l)}if(t===e){k=null;break}var a=t.sibling;if(a!==null){a.return=t.return,k=a;break}k=t.return}}var I_=Math.ceil,ef=or.ReactCurrentDispatcher,xg=or.ReactCurrentOwner,Qt=or.ReactCurrentBatchConfig,J=0,je=null,Ae=null,Ge=0,Ot=0,ps=ro(0),Fe=0,Ll=null,hi=0,hf=0,Cg=0,vl=null,wt=null,Sg=0,bs=1/0,qn=null,tf=!1,Fh=null,Qr=null,Ec=!1,Hr=null,nf=0,wl=0,Vh=null,Mc=-1,Oc=0;function mt(){return J&6?Pe():Mc!==-1?Mc:Mc=Pe()}function Jr(e){return e.mode&1?J&2&&Ge!==0?Ge&-Ge:m_.transition!==null?(Oc===0&&(Oc=Mx()),Oc):(e=ee,e!==0||(e=window.event,e=e===void 0?16:Bx(e.type)),e):1}function fn(e,t,n,r){if(50<wl)throw wl=0,Vh=null,Error(_(185));Fl(e,n,r),(!(J&2)||e!==je)&&(e===je&&(!(J&2)&&(hf|=n),Fe===4&&zr(e,Ge)),Pt(e,r),n===1&&J===0&&!(t.mode&1)&&(bs=Pe()+500,ff&&oo()))}function Pt(e,t){var n=e.callbackNode;hA(e,t);var r=Bc(e,e===je?Ge:0);if(r===0)n!==null&&dw(n),e.callbackNode=null,e.callbackPriority=0;else if(t=r&-r,e.callbackPriority!==t){if(n!=null&&dw(n),t===1)e.tag===0?d_(ix.bind(null,e)):o1(ix.bind(null,e)),l_(function(){!(J&6)&&oo()}),n=null;else{switch(Ox(r)){case 1:n=Xh;break;case 4:n=Ix;break;case 16:n=Vc;break;case 536870912:n=kx;break;default:n=Vc}n=nC(n,q1.bind(null,e))}e.callbackPriority=t,e.callbackNode=n}}function q1(e,t){if(Mc=-1,Oc=0,J&6)throw Error(_(327));var n=e.callbackNode;if(xs()&&e.callbackNode!==n)return null;var r=Bc(e,e===je?Ge:0);if(r===0)return null;if(r&30||r&e.expiredLanes||t)t=rf(e,r);else{t=r;var o=J;J|=2;var i=Q1();(je!==e||Ge!==t)&&(qn=null,bs=Pe()+500,ci(e,t));do try{O_();break}catch(a){Y1(e,a)}while(!0);ag(),ef.current=i,J=o,Ae!==null?t=0:(je=null,Ge=0,t=Fe)}if(t!==0){if(t===2&&(o=fh(e),o!==0&&(r=o,t=Bh(e,o))),t===1)throw n=Ll,ci(e,0),zr(e,r),Pt(e,Pe()),n;if(t===6)zr(e,r);else{if(o=e.current.alternate,!(r&30)&&!k_(o)&&(t=rf(e,r),t===2&&(i=fh(e),i!==0&&(r=i,t=Bh(e,i))),t===1))throw n=Ll,ci(e,0),zr(e,r),Pt(e,Pe()),n;switch(e.finishedWork=o,e.finishedLanes=r,t){case 0:case 1:throw Error(_(345));case 2:si(e,wt,qn);break;case 3:if(zr(e,r),(r&130023424)===r&&(t=Sg+500-Pe(),10<t)){if(Bc(e,0)!==0)break;if(o=e.suspendedLanes,(o&r)!==r){mt(),e.pingedLanes|=e.suspendedLanes&o;break}e.timeoutHandle=wh(si.bind(null,e,wt,qn),t);break}si(e,wt,qn);break;case 4:if(zr(e,r),(r&4194240)===r)break;for(t=e.eventTimes,o=-1;0<r;){var s=31-cn(r);i=1<<s,s=t[s],s>o&&(o=s),r&=~i}if(r=o,r=Pe()-r,r=(120>r?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*I_(r/1960))-r,10<r){e.timeoutHandle=wh(si.bind(null,e,wt,qn),r);break}si(e,wt,qn);break;case 5:si(e,wt,qn);break;default:throw Error(_(329))}}}return Pt(e,Pe()),e.callbackNode===n?q1.bind(null,e):null}function Bh(e,t){var n=vl;return e.current.memoizedState.isDehydrated&&(ci(e,t).flags|=256),e=rf(e,t),e!==2&&(t=wt,wt=n,t!==null&&jh(t)),e}function jh(e){wt===null?wt=e:wt.push.apply(wt,e)}function k_(e){for(var t=e;;){if(t.flags&16384){var n=t.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var r=0;r<n.length;r++){var o=n[r],i=o.getSnapshot;o=o.value;try{if(!dn(i(),o))return!1}catch(s){return!1}}}if(n=t.child,t.subtreeFlags&16384&&n!==null)n.return=t,t=n;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function zr(e,t){for(t&=~Cg,t&=~hf,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var n=31-cn(t),r=1<<n;e[n]=-1,t&=~r}}function ix(e){if(J&6)throw Error(_(327));xs();var t=Bc(e,0);if(!(t&1))return Pt(e,Pe()),null;var n=rf(e,t);if(e.tag!==0&&n===2){var r=fh(e);r!==0&&(t=r,n=Bh(e,r))}if(n===1)throw n=Ll,ci(e,0),zr(e,t),Pt(e,Pe()),n;if(n===6)throw Error(_(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,si(e,wt,qn),Pt(e,Pe()),null}function Pg(e,t){var n=J;J|=1;try{return e(t)}finally{J=n,J===0&&(bs=Pe()+500,ff&&oo())}}function gi(e){Hr!==null&&Hr.tag===0&&!(J&6)&&xs();var t=J;J|=1;var n=Qt.transition,r=ee;try{if(Qt.transition=null,ee=1,e)return e()}finally{ee=r,Qt.transition=n,J=t,!(J&6)&&oo()}}function Eg(){Ot=ps.current,ce(ps)}function ci(e,t){e.finishedWork=null,e.finishedLanes=0;var n=e.timeoutHandle;if(n!==-1&&(e.timeoutHandle=-1,a_(n)),Ae!==null)for(n=Ae.return;n!==null;){var r=n;switch(og(r),r.tag){case 1:r=r.type.childContextTypes,r!=null&&Wc();break;case 3:Rs(),ce(Ct),ce(nt),mg();break;case 5:dg(r);break;case 4:Rs();break;case 13:ce(ye);break;case 19:ce(ye);break;case 10:lg(r.type._context);break;case 22:case 23:Eg()}n=n.return}if(je=e,Ae=e=Zr(e.current,null),Ge=Ot=t,Fe=0,Ll=null,Cg=hf=hi=0,wt=vl=null,li!==null){for(t=0;t<li.length;t++)if(n=li[t],r=n.interleaved,r!==null){n.interleaved=null;var o=r.next,i=n.pending;if(i!==null){var s=i.next;i.next=o,r.next=s}n.pending=r}li=null}return e}function Y1(e,t){do{var n=Ae;try{if(ag(),_c.current=Zc,Jc){for(var r=ve.memoizedState;r!==null;){var o=r.queue;o!==null&&(o.pending=null),r=r.next}Jc=!1}if(pi=0,Be=Le=ve=null,gl=!1,Ol=0,xg.current=null,n===null||n.return===null){Fe=1,Ll=t,Ae=null;break}e:{var i=e,s=n.return,a=n,l=t;if(t=Ge,a.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){var u=l,c=a,f=c.tag;if(!(c.mode&1)&&(f===0||f===11||f===15)){var d=c.alternate;d?(c.updateQueue=d.updateQueue,c.memoizedState=d.memoizedState,c.lanes=d.lanes):(c.updateQueue=null,c.memoizedState=null)}var h=Kw(s);if(h!==null){h.flags&=-257,Gw(h,s,a,i,t),h.mode&1&&Hw(i,u,t),t=h,l=u;var y=t.updateQueue;if(y===null){var v=new Set;v.add(l),t.updateQueue=v}else y.add(l);break e}else{if(!(t&1)){Hw(i,u,t),Rg();break e}l=Error(_(426))}}else if(me&&a.mode&1){var x=Kw(s);if(x!==null){!(x.flags&65536)&&(x.flags|=256),Gw(x,s,a,i,t),ig(Ts(l,a));break e}}i=l=Ts(l,a),Fe!==4&&(Fe=2),vl===null?vl=[i]:vl.push(i),i=s;do{switch(i.tag){case 3:i.flags|=65536,t&=-t,i.lanes|=t;var g=O1(i,l,t);Bw(i,g);break e;case 1:a=l;var m=i.type,p=i.stateNode;if(!(i.flags&128)&&(typeof m.getDerivedStateFromError=="function"||p!==null&&typeof p.componentDidCatch=="function"&&(Qr===null||!Qr.has(p)))){i.flags|=65536,t&=-t,i.lanes|=t;var w=N1(i,a,t);Bw(i,w);break e}}i=i.return}while(i!==null)}Z1(n)}catch(C){t=C,Ae===n&&n!==null&&(Ae=n=n.return);continue}break}while(!0)}function Q1(){var e=ef.current;return ef.current=Zc,e===null?Zc:e}function Rg(){(Fe===0||Fe===3||Fe===2)&&(Fe=4),je===null||!(hi&268435455)&&!(hf&268435455)||zr(je,Ge)}function rf(e,t){var n=J;J|=2;var r=Q1();(je!==e||Ge!==t)&&(qn=null,ci(e,t));do try{M_();break}catch(o){Y1(e,o)}while(!0);if(ag(),J=n,ef.current=r,Ae!==null)throw Error(_(261));return je=null,Ge=0,Fe}function M_(){for(;Ae!==null;)J1(Ae)}function O_(){for(;Ae!==null&&!sA();)J1(Ae)}function J1(e){var t=tC(e.alternate,e,Ot);e.memoizedProps=e.pendingProps,t===null?Z1(e):Ae=t,xg.current=null}function Z1(e){var t=e;do{var n=t.alternate;if(e=t.return,t.flags&32768){if(n=T_(n,t),n!==null){n.flags&=32767,Ae=n;return}if(e!==null)e.flags|=32768,e.subtreeFlags=0,e.deletions=null;else{Fe=6,Ae=null;return}}else if(n=R_(n,t,Ot),n!==null){Ae=n;return}if(t=t.sibling,t!==null){Ae=t;return}Ae=t=e}while(t!==null);Fe===0&&(Fe=5)}function si(e,t,n){var r=ee,o=Qt.transition;try{Qt.transition=null,ee=1,N_(e,t,n,r)}finally{Qt.transition=o,ee=r}return null}function N_(e,t,n,r){do xs();while(Hr!==null);if(J&6)throw Error(_(327));n=e.finishedWork;var o=e.finishedLanes;if(n===null)return null;if(e.finishedWork=null,e.finishedLanes=0,n===e.current)throw Error(_(177));e.callbackNode=null,e.callbackPriority=0;var i=n.lanes|n.childLanes;if(gA(e,i),e===je&&(Ae=je=null,Ge=0),!(n.subtreeFlags&2064)&&!(n.flags&2064)||Ec||(Ec=!0,nC(Vc,function(){return xs(),null})),i=(n.flags&15990)!==0,n.subtreeFlags&15990||i){i=Qt.transition,Qt.transition=null;var s=ee;ee=1;var a=J;J|=4,xg.current=null,A_(e,n),G1(n,e),n_(yh),jc=!!gh,yh=gh=null,e.current=n,__(n,e,o),aA(),J=a,ee=s,Qt.transition=i}else e.current=n;if(Ec&&(Ec=!1,Hr=e,nf=o),i=e.pendingLanes,i===0&&(Qr=null),cA(n.stateNode,r),Pt(e,Pe()),t!==null)for(r=e.onRecoverableError,n=0;n<t.length;n++)o=t[n],r(o.value,{componentStack:o.stack,digest:o.digest});if(tf)throw tf=!1,e=Fh,Fh=null,e;return nf&1&&e.tag!==0&&xs(),i=e.pendingLanes,i&1?e===Vh?wl++:(wl=0,Vh=e):wl=0,oo(),null}function xs(){if(Hr!==null){var e=Ox(nf),t=Qt.transition,n=ee;try{if(Qt.transition=null,ee=16>e?16:e,Hr===null)var r=!1;else{if(e=Hr,Hr=null,nf=0,J&6)throw Error(_(331));var o=J;for(J|=4,k=e.current;k!==null;){var i=k,s=i.child;if(k.flags&16){var a=i.deletions;if(a!==null){for(var l=0;l<a.length;l++){var u=a[l];for(k=u;k!==null;){var c=k;switch(c.tag){case 0:case 11:case 15:yl(8,c,i)}var f=c.child;if(f!==null)f.return=c,k=f;else for(;k!==null;){c=k;var d=c.sibling,h=c.return;if(W1(c),c===u){k=null;break}if(d!==null){d.return=h,k=d;break}k=h}}}var y=i.alternate;if(y!==null){var v=y.child;if(v!==null){y.child=null;do{var x=v.sibling;v.sibling=null,v=x}while(v!==null)}}k=i}}if(i.subtreeFlags&2064&&s!==null)s.return=i,k=s;else e:for(;k!==null;){if(i=k,i.flags&2048)switch(i.tag){case 0:case 11:case 15:yl(9,i,i.return)}var g=i.sibling;if(g!==null){g.return=i.return,k=g;break e}k=i.return}}var m=e.current;for(k=m;k!==null;){s=k;var p=s.child;if(s.subtreeFlags&2064&&p!==null)p.return=s,k=p;else e:for(s=m;k!==null;){if(a=k,a.flags&2048)try{switch(a.tag){case 0:case 11:case 15:pf(9,a)}}catch(C){xe(a,a.return,C)}if(a===s){k=null;break e}var w=a.sibling;if(w!==null){w.return=a.return,k=w;break e}k=a.return}}if(J=o,oo(),In&&typeof In.onPostCommitFiberRoot=="function")try{In.onPostCommitFiberRoot(sf,e)}catch(C){}r=!0}return r}finally{ee=n,Qt.transition=t}}return!1}function sx(e,t,n){t=Ts(n,t),t=O1(e,t,1),e=Yr(e,t,1),t=mt(),e!==null&&(Fl(e,1,t),Pt(e,t))}function xe(e,t,n){if(e.tag===3)sx(e,e,n);else for(;t!==null;){if(t.tag===3){sx(t,e,n);break}else if(t.tag===1){var r=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(Qr===null||!Qr.has(r))){e=Ts(n,e),e=N1(t,e,1),t=Yr(t,e,1),e=mt(),t!==null&&(Fl(t,1,e),Pt(t,e));break}}t=t.return}}function D_(e,t,n){var r=e.pingCache;r!==null&&r.delete(t),t=mt(),e.pingedLanes|=e.suspendedLanes&n,je===e&&(Ge&n)===n&&(Fe===4||Fe===3&&(Ge&130023424)===Ge&&500>Pe()-Sg?ci(e,0):Cg|=n),Pt(e,t)}function eC(e,t){t===0&&(e.mode&1?(t=cc,cc<<=1,!(cc&130023424)&&(cc=4194304)):t=1);var n=mt();e=nr(e,t),e!==null&&(Fl(e,t,n),Pt(e,n))}function L_(e){var t=e.memoizedState,n=0;t!==null&&(n=t.retryLane),eC(e,n)}function F_(e,t){var n=0;switch(e.tag){case 13:var r=e.stateNode,o=e.memoizedState;o!==null&&(n=o.retryLane);break;case 19:r=e.stateNode;break;default:throw Error(_(314))}r!==null&&r.delete(t),eC(e,n)}var tC;tC=function(e,t,n){if(e!==null)if(e.memoizedProps!==t.pendingProps||Ct.current)xt=!0;else{if(!(e.lanes&n)&&!(t.flags&128))return xt=!1,E_(e,t,n);xt=!!(e.flags&131072)}else xt=!1,me&&t.flags&1048576&&i1(t,Gc,t.index);switch(t.lanes=0,t.tag){case 2:var r=t.type;kc(e,t),e=t.pendingProps;var o=Ss(t,nt.current);ws(t,n),o=hg(null,t,r,e,o,n);var i=gg();return t.flags|=1,typeof o=="object"&&o!==null&&typeof o.render=="function"&&o.$$typeof===void 0?(t.tag=1,t.memoizedState=null,t.updateQueue=null,St(r)?(i=!0,Hc(t)):i=!1,t.memoizedState=o.state!==null&&o.state!==void 0?o.state:null,cg(t),o.updater=mf,t.stateNode=o,o._reactInternals=t,Th(t,r,e,n),t=_h(null,t,r,!0,i,n)):(t.tag=0,me&&i&&rg(t),dt(null,t,o,n),t=t.child),t;case 16:r=t.elementType;e:{switch(kc(e,t),e=t.pendingProps,o=r._init,r=o(r._payload),t.type=r,o=t.tag=B_(r),e=an(r,e),o){case 0:t=Ah(null,t,r,e,n);break e;case 1:t=Yw(null,t,r,e,n);break e;case 11:t=Xw(null,t,r,e,n);break e;case 14:t=qw(null,t,r,an(r.type,e),n);break e}throw Error(_(306,r,""))}return t;case 0:return r=t.type,o=t.pendingProps,o=t.elementType===r?o:an(r,o),Ah(e,t,r,o,n);case 1:return r=t.type,o=t.pendingProps,o=t.elementType===r?o:an(r,o),Yw(e,t,r,o,n);case 3:e:{if(V1(t),e===null)throw Error(_(387));r=t.pendingProps,i=t.memoizedState,o=i.element,f1(e,t),Yc(t,r,null,n);var s=t.memoizedState;if(r=s.element,i.isDehydrated)if(i={element:r,isDehydrated:!1,cache:s.cache,pendingSuspenseBoundaries:s.pendingSuspenseBoundaries,transitions:s.transitions},t.updateQueue.baseState=i,t.memoizedState=i,t.flags&256){o=Ts(Error(_(423)),t),t=Qw(e,t,r,n,o);break e}else if(r!==o){o=Ts(Error(_(424)),t),t=Qw(e,t,r,n,o);break e}else for(Nt=qr(t.stateNode.containerInfo.firstChild),Dt=t,me=!0,un=null,n=u1(t,null,r,n),t.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(Ps(),r===o){t=rr(e,t,n);break e}dt(e,t,r,n)}t=t.child}return t;case 5:return d1(t),e===null&&Ph(t),r=t.type,o=t.pendingProps,i=e!==null?e.memoizedProps:null,s=o.children,vh(r,o)?s=null:i!==null&&vh(r,i)&&(t.flags|=32),F1(e,t),dt(e,t,s,n),t.child;case 6:return e===null&&Ph(t),null;case 13:return B1(e,t,n);case 4:return fg(t,t.stateNode.containerInfo),r=t.pendingProps,e===null?t.child=Es(t,null,r,n):dt(e,t,r,n),t.child;case 11:return r=t.type,o=t.pendingProps,o=t.elementType===r?o:an(r,o),Xw(e,t,r,o,n);case 7:return dt(e,t,t.pendingProps,n),t.child;case 8:return dt(e,t,t.pendingProps.children,n),t.child;case 12:return dt(e,t,t.pendingProps.children,n),t.child;case 10:e:{if(r=t.type._context,o=t.pendingProps,i=t.memoizedProps,s=o.value,ae(Xc,r._currentValue),r._currentValue=s,i!==null)if(dn(i.value,s)){if(i.children===o.children&&!Ct.current){t=rr(e,t,n);break e}}else for(i=t.child,i!==null&&(i.return=t);i!==null;){var a=i.dependencies;if(a!==null){s=i.child;for(var l=a.firstContext;l!==null;){if(l.context===r){if(i.tag===1){l=Zn(-1,n&-n),l.tag=2;var u=i.updateQueue;if(u!==null){u=u.shared;var c=u.pending;c===null?l.next=l:(l.next=c.next,c.next=l),u.pending=l}}i.lanes|=n,l=i.alternate,l!==null&&(l.lanes|=n),Eh(i.return,n,t),a.lanes|=n;break}l=l.next}}else if(i.tag===10)s=i.type===t.type?null:i.child;else if(i.tag===18){if(s=i.return,s===null)throw Error(_(341));s.lanes|=n,a=s.alternate,a!==null&&(a.lanes|=n),Eh(s,n,t),s=i.sibling}else s=i.child;if(s!==null)s.return=i;else for(s=i;s!==null;){if(s===t){s=null;break}if(i=s.sibling,i!==null){i.return=s.return,s=i;break}s=s.return}i=s}dt(e,t,o.children,n),t=t.child}return t;case 9:return o=t.type,r=t.pendingProps.children,ws(t,n),o=Jt(o),r=r(o),t.flags|=1,dt(e,t,r,n),t.child;case 14:return r=t.type,o=an(r,t.pendingProps),o=an(r.type,o),qw(e,t,r,o,n);case 15:return D1(e,t,t.type,t.pendingProps,n);case 17:return r=t.type,o=t.pendingProps,o=t.elementType===r?o:an(r,o),kc(e,t),t.tag=1,St(r)?(e=!0,Hc(t)):e=!1,ws(t,n),M1(t,r,o),Th(t,r,o,n),_h(null,t,r,!0,e,n);case 19:return j1(e,t,n);case 22:return L1(e,t,n)}throw Error(_(156,t.tag))};function nC(e,t){return _x(e,t)}function V_(e,t,n,r){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Yt(e,t,n,r){return new V_(e,t,n,r)}function Tg(e){return e=e.prototype,!(!e||!e.isReactComponent)}function B_(e){if(typeof e=="function")return Tg(e)?1:0;if(e!=null){if(e=e.$$typeof,e===Hh)return 11;if(e===Kh)return 14}return 2}function Zr(e,t){var n=e.alternate;return n===null?(n=Yt(e.tag,t,e.key,e.mode),n.elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=e.flags&14680064,n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n}function Nc(e,t,n,r,o,i){var s=2;if(r=e,typeof e=="function")Tg(e)&&(s=1);else if(typeof e=="string")s=5;else e:switch(e){case os:return fi(n.children,o,i,t);case Wh:s=8,o|=8;break;case Yp:return e=Yt(12,n,t,o|2),e.elementType=Yp,e.lanes=i,e;case Qp:return e=Yt(13,n,t,o),e.elementType=Qp,e.lanes=i,e;case Jp:return e=Yt(19,n,t,o),e.elementType=Jp,e.lanes=i,e;case dx:return gf(n,o,i,t);default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case cx:s=10;break e;case fx:s=9;break e;case Hh:s=11;break e;case Kh:s=14;break e;case jr:s=16,r=null;break e}throw Error(_(130,e==null?e:typeof e,""))}return t=Yt(s,n,t,o),t.elementType=e,t.type=r,t.lanes=i,t}function fi(e,t,n,r){return e=Yt(7,e,r,t),e.lanes=n,e}function gf(e,t,n,r){return e=Yt(22,e,r,t),e.elementType=dx,e.lanes=n,e.stateNode={isHidden:!1},e}function Gp(e,t,n){return e=Yt(6,e,null,t),e.lanes=n,e}function Xp(e,t,n){return t=Yt(4,e.children!==null?e.children:[],e.key,t),t.lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function j_(e,t,n,r,o){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=kp(0),this.expirationTimes=kp(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=kp(0),this.identifierPrefix=r,this.onRecoverableError=o,this.mutableSourceEagerHydrationData=null}function bg(e,t,n,r,o,i,s,a,l){return e=new j_(e,t,n,a,l),t===1?(t=1,i===!0&&(t|=8)):t=0,i=Yt(3,null,null,t),e.current=i,i.stateNode=e,i.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},cg(i),e}function U_(e,t,n){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:rs,key:r==null?null:""+r,children:e,containerInfo:t,implementation:n}}function rC(e){if(!e)return to;e=e._reactInternals;e:{if(vi(e)!==e||e.tag!==1)throw Error(_(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(St(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(t!==null);throw Error(_(171))}if(e.tag===1){var n=e.type;if(St(n))return r1(e,n,t)}return t}function oC(e,t,n,r,o,i,s,a,l){return e=bg(n,r,!0,e,o,i,s,a,l),e.context=rC(null),n=e.current,r=mt(),o=Jr(n),i=Zn(r,o),i.callback=t!=null?t:null,Yr(n,i,o),e.current.lanes=o,Fl(e,o,r),Pt(e,r),e}function yf(e,t,n,r){var o=t.current,i=mt(),s=Jr(o);return n=rC(n),t.context===null?t.context=n:t.pendingContext=n,t=Zn(i,s),t.payload={element:e},r=r===void 0?null:r,r!==null&&(t.callback=r),e=Yr(o,t,s),e!==null&&(fn(e,o,s,i),Ac(e,o,s)),s}function of(e){if(e=e.current,!e.child)return null;switch(e.child.tag){case 5:return e.child.stateNode;default:return e.child.stateNode}}function ax(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var n=e.retryLane;e.retryLane=n!==0&&n<t?n:t}}function Ag(e,t){ax(e,t),(e=e.alternate)&&ax(e,t)}function $_(){return null}var iC=typeof reportError=="function"?reportError:function(e){console.error(e)};function _g(e){this._internalRoot=e}vf.prototype.render=_g.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(_(409));yf(e,t,null,null)};vf.prototype.unmount=_g.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;gi(function(){yf(null,e,null,null)}),t[tr]=null}};function vf(e){this._internalRoot=e}vf.prototype.unstable_scheduleHydration=function(e){if(e){var t=Lx();e={blockedOn:null,target:e,priority:t};for(var n=0;n<$r.length&&t!==0&&t<$r[n].priority;n++);$r.splice(n,0,e),n===0&&Vx(e)}};function Ig(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function wf(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11&&(e.nodeType!==8||e.nodeValue!==" react-mount-point-unstable "))}function lx(){}function z_(e,t,n,r,o){if(o){if(typeof r=="function"){var i=r;r=function(){var u=of(s);i.call(u)}}var s=oC(t,r,e,0,null,!1,!1,"",lx);return e._reactRootContainer=s,e[tr]=s.current,Al(e.nodeType===8?e.parentNode:e),gi(),s}for(;o=e.lastChild;)e.removeChild(o);if(typeof r=="function"){var a=r;r=function(){var u=of(l);a.call(u)}}var l=bg(e,0,!1,null,null,!1,!1,"",lx);return e._reactRootContainer=l,e[tr]=l.current,Al(e.nodeType===8?e.parentNode:e),gi(function(){yf(t,l,n,r)}),l}function xf(e,t,n,r,o){var i=n._reactRootContainer;if(i){var s=i;if(typeof o=="function"){var a=o;o=function(){var l=of(s);a.call(l)}}yf(t,s,e,o)}else s=z_(n,t,e,o,r);return of(s)}Nx=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var n=ul(t.pendingLanes);n!==0&&(qh(t,n|1),Pt(t,Pe()),!(J&6)&&(bs=Pe()+500,oo()))}break;case 13:gi(function(){var r=nr(e,1);if(r!==null){var o=mt();fn(r,e,1,o)}}),Ag(e,1)}};Yh=function(e){if(e.tag===13){var t=nr(e,134217728);if(t!==null){var n=mt();fn(t,e,134217728,n)}Ag(e,134217728)}};Dx=function(e){if(e.tag===13){var t=Jr(e),n=nr(e,t);if(n!==null){var r=mt();fn(n,e,t,r)}Ag(e,t)}};Lx=function(){return ee};Fx=function(e,t){var n=ee;try{return ee=e,t()}finally{ee=n}};lh=function(e,t,n){switch(t){case"input":if(th(e,n),t=n.name,n.type==="radio"&&t!=null){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<n.length;t++){var r=n[t];if(r!==e&&r.form===e.form){var o=cf(r);if(!o)throw Error(_(90));px(r),th(r,o)}}}break;case"textarea":gx(e,n);break;case"select":t=n.value,t!=null&&hs(e,!!n.multiple,t,!1)}};Px=Pg;Ex=gi;var W_={usingClientEntryPoint:!1,Events:[Bl,ls,cf,Cx,Sx,Pg]},il={findFiberByHostInstance:ai,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},H_={bundleType:il.bundleType,version:il.version,rendererPackageName:il.rendererPackageName,rendererConfig:il.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:or.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return e=bx(e),e===null?null:e.stateNode},findFiberByHostInstance:il.findFiberByHostInstance||$_,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__!="undefined"&&(sl=__REACT_DEVTOOLS_GLOBAL_HOOK__,!sl.isDisabled&&sl.supportsFiber))try{sf=sl.inject(H_),In=sl}catch(e){}var sl;Vt.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=W_;Vt.createPortal=function(e,t){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!Ig(t))throw Error(_(200));return U_(e,t,null,n)};Vt.createRoot=function(e,t){if(!Ig(e))throw Error(_(299));var n=!1,r="",o=iC;return t!=null&&(t.unstable_strictMode===!0&&(n=!0),t.identifierPrefix!==void 0&&(r=t.identifierPrefix),t.onRecoverableError!==void 0&&(o=t.onRecoverableError)),t=bg(e,1,!1,null,null,n,!1,r,o),e[tr]=t.current,Al(e.nodeType===8?e.parentNode:e),new _g(t)};Vt.findDOMNode=function(e){if(e==null)return null;if(e.nodeType===1)return e;var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(_(188)):(e=Object.keys(e).join(","),Error(_(268,e)));return e=bx(t),e=e===null?null:e.stateNode,e};Vt.flushSync=function(e){return gi(e)};Vt.hydrate=function(e,t,n){if(!wf(t))throw Error(_(200));return xf(null,e,t,!0,n)};Vt.hydrateRoot=function(e,t,n){if(!Ig(e))throw Error(_(405));var r=n!=null&&n.hydratedSources||null,o=!1,i="",s=iC;if(n!=null&&(n.unstable_strictMode===!0&&(o=!0),n.identifierPrefix!==void 0&&(i=n.identifierPrefix),n.onRecoverableError!==void 0&&(s=n.onRecoverableError)),t=oC(t,null,e,1,n!=null?n:null,o,!1,i,s),e[tr]=t.current,Al(e),r)for(e=0;e<r.length;e++)n=r[e],o=n._getVersion,o=o(n._source),t.mutableSourceEagerHydrationData==null?t.mutableSourceEagerHydrationData=[n,o]:t.mutableSourceEagerHydrationData.push(n,o);return new vf(t)};Vt.render=function(e,t,n){if(!wf(t))throw Error(_(200));return xf(null,e,t,!1,n)};Vt.unmountComponentAtNode=function(e){if(!wf(e))throw Error(_(40));return e._reactRootContainer?(gi(function(){xf(null,null,e,!1,function(){e._reactRootContainer=null,e[tr]=null})}),!0):!1};Vt.unstable_batchedUpdates=Pg;Vt.unstable_renderSubtreeIntoContainer=function(e,t,n,r){if(!wf(n))throw Error(_(200));if(e==null||e._reactInternals===void 0)throw Error(_(38));return xf(e,t,n,!1,r)};Vt.version="18.3.1-next-f1338f8080-20240426"});var Cf=Bn((iL,lC)=>{"use strict";function aC(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__=="undefined"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(aC)}catch(e){console.error(e)}}aC(),lC.exports=sC()});var DR=Bn(Hy=>{"use strict";var NR=Cf();Hy.createRoot=NR.createRoot,Hy.hydrateRoot=NR.hydrateRoot;var jH});var e2={};Gy(e2,{default:()=>fm});module.exports=XR(e2);var qy=require("@codemirror/view"),Yy=require("obsidian"),pm=class{constructor(t,n){this.lastSelection=null;this.view=t,this.plugin=n,this.userSelectionEvent=(0,Yy.debounce)(this.handleUserSelection.bind(this),300)}update(){this.userSelectionEvent()}handleUserSelection(){if(this.plugin.settings.sendSelectionToChat){let{state:t}=this.view,{from:n,to:r}=t.selection.main;if(!this.lastSelection||this.lastSelection.from!==n||this.lastSelection.to!==r){if(n!==r){let o=t.doc.sliceString(n,r),i=this.plugin.app.workspace.getActiveFile(),s={text:o,file:i};this.plugin.events.trigger("selection-changed",s)}this.lastSelection={from:n,to:r}}}}destroy(){}};function Qy(e){return qy.ViewPlugin.define(t=>new pm(t,e))}var Am={};Gy(Am,{APIConnectionError:()=>Un,APIConnectionTimeoutError:()=>$n,APIError:()=>Te,APIUserAbortError:()=>Me,AuthenticationError:()=>Di,BadRequestError:()=>Ni,ConflictError:()=>Vi,ContentFilterFinishReasonError:()=>bo,InternalServerError:()=>Ui,LengthFinishReasonError:()=>To,NotFoundError:()=>Fi,OpenAIError:()=>$,PermissionDeniedError:()=>Li,RateLimitError:()=>ji,UnprocessableEntityError:()=>Bi});var So="4.67.3";var Jy=!1,Po,hm,qR,YR,QR,gm,JR,fu,ym,vm,wm,du,xm;function Zy(e,t={auto:!1}){if(Jy)throw new Error(`you must \`import 'openai/shims/${e.kind}'\` before importing anything else from openai`);if(Po)throw new Error(`can't \`import 'openai/shims/${e.kind}'\` after \`import 'openai/shims/${Po}'\``);Jy=t.auto,Po=e.kind,hm=e.fetch,qR=e.Request,YR=e.Response,QR=e.Headers,gm=e.FormData,JR=e.Blob,fu=e.File,ym=e.ReadableStream,vm=e.getMultipartRequestOptions,wm=e.getDefaultAgent,du=e.fileFromPath,xm=e.isFsReadStream}var mu=class{constructor(t){this.body=t}get[Symbol.toStringTag](){return"MultipartBody"}};function ev({manuallyImported:e}={}){let t=e?"You may need to use polyfills":"Add one of these imports before your first `import \u2026 from 'openai'`:\n- `import 'openai/shims/node'` (if you're running on Node)\n- `import 'openai/shims/web'` (otherwise)\n",n,r,o,i;try{n=fetch,r=Request,o=Response,i=Headers}catch(s){throw new Error(`this environment is missing the following Web Fetch API type: ${s.message}. ${t}`)}return{kind:"web",fetch:n,Request:r,Response:o,Headers:i,FormData:typeof FormData!="undefined"?FormData:class{constructor(){throw new Error(`file uploads aren't supported in this environment yet as 'FormData' is undefined. ${t}`)}},Blob:typeof Blob!="undefined"?Blob:class{constructor(){throw new Error(`file uploads aren't supported in this environment yet as 'Blob' is undefined. ${t}`)}},File:typeof File!="undefined"?File:class{constructor(){throw new Error(`file uploads aren't supported in this environment yet as 'File' is undefined. ${t}`)}},ReadableStream:typeof ReadableStream!="undefined"?ReadableStream:class{constructor(){throw new Error(`streaming isn't supported in this environment yet as 'ReadableStream' is undefined. ${t}`)}},getMultipartRequestOptions:async(s,a)=>({...a,body:new mu(s)}),getDefaultAgent:s=>{},fileFromPath:()=>{throw new Error("The `fileFromPath` function is only supported in Node. See the README for more details: https://www.github.com/openai/openai-node#file-uploads")},isFsReadStream:s=>!1}}Po||Zy(ev(),{auto:!0});var Eo=class e{constructor(){this.buffer=[],this.trailingCR=!1}decode(t){let n=this.decodeText(t);if(this.trailingCR&&(n="\r"+n,this.trailingCR=!1),n.endsWith("\r")&&(this.trailingCR=!0,n=n.slice(0,-1)),!n)return[];let r=e.NEWLINE_CHARS.has(n[n.length-1]||""),o=n.split(e.NEWLINE_REGEXP);return r&&o.pop(),o.length===1&&!r?(this.buffer.push(o[0]),[]):(this.buffer.length>0&&(o=[this.buffer.join("")+o[0],...o.slice(1)],this.buffer=[]),r||(this.buffer=[o.pop()||""]),o)}decodeText(t){var n;if(t==null)return"";if(typeof t=="string")return t;if(typeof Buffer!="undefined"){if(t instanceof Buffer)return t.toString();if(t instanceof Uint8Array)return Buffer.from(t).toString();throw new $(`Unexpected: received non-Uint8Array (${t.constructor.name}) stream chunk in an environment with a global "Buffer" defined, which this library assumes to be Node. Please report this error.`)}if(typeof TextDecoder!="undefined"){if(t instanceof Uint8Array||t instanceof ArrayBuffer)return(n=this.textDecoder)!=null||(this.textDecoder=new TextDecoder("utf8")),this.textDecoder.decode(t);throw new $(`Unexpected: received non-Uint8Array/ArrayBuffer (${t.constructor.name}) in a web platform. Please report this error.`)}throw new $("Unexpected: neither Buffer nor TextDecoder are available as globals. Please report this error.")}flush(){if(!this.buffer.length&&!this.trailingCR)return[];let t=[this.buffer.join("")];return this.buffer=[],this.trailingCR=!1,t}};Eo.NEWLINE_CHARS=new Set([`
`,"\r"]);Eo.NEWLINE_REGEXP=/\r\n|[\n\r]/g;var gn=class e{constructor(t,n){this.iterator=t,this.controller=n}static fromSSEResponse(t,n){let r=!1;async function*o(){if(r)throw new Error("Cannot iterate over a consumed stream, use `.tee()` to split the stream.");r=!0;let i=!1;try{for await(let s of eT(t,n))if(!i){if(s.data.startsWith("[DONE]")){i=!0;continue}if(s.event===null){let a;try{a=JSON.parse(s.data)}catch(l){throw console.error("Could not parse message into JSON:",s.data),console.error("From chunk:",s.raw),l}if(a&&a.error)throw new Te(void 0,a.error,void 0,void 0);yield a}else{let a;try{a=JSON.parse(s.data)}catch(l){throw console.error("Could not parse message into JSON:",s.data),console.error("From chunk:",s.raw),l}if(s.event=="error")throw new Te(void 0,a.error,a.message,void 0);yield{event:s.event,data:a}}}i=!0}catch(s){if(s instanceof Error&&s.name==="AbortError")return;throw s}finally{i||n.abort()}}return new e(o,n)}static fromReadableStream(t,n){let r=!1;async function*o(){let s=new Eo,a=tv(t);for await(let l of a)for(let u of s.decode(l))yield u;for(let l of s.flush())yield l}async function*i(){if(r)throw new Error("Cannot iterate over a consumed stream, use `.tee()` to split the stream.");r=!0;let s=!1;try{for await(let a of o())s||a&&(yield JSON.parse(a));s=!0}catch(a){if(a instanceof Error&&a.name==="AbortError")return;throw a}finally{s||n.abort()}}return new e(i,n)}[Symbol.asyncIterator](){return this.iterator()}tee(){let t=[],n=[],r=this.iterator(),o=i=>({next:()=>{if(i.length===0){let s=r.next();t.push(s),n.push(s)}return i.shift()}});return[new e(()=>o(t),this.controller),new e(()=>o(n),this.controller)]}toReadableStream(){let t=this,n,r=new TextEncoder;return new ym({async start(){n=t[Symbol.asyncIterator]()},async pull(o){try{let{value:i,done:s}=await n.next();if(s)return o.close();let a=r.encode(JSON.stringify(i)+`
`);o.enqueue(a)}catch(i){o.error(i)}},async cancel(){var o;await((o=n.return)==null?void 0:o.call(n))}})}};async function*eT(e,t){if(!e.body)throw t.abort(),new $("Attempted to iterate over a response with no body");let n=new Cm,r=new Eo,o=tv(e.body);for await(let i of tT(o))for(let s of r.decode(i)){let a=n.decode(s);a&&(yield a)}for(let i of r.flush()){let s=n.decode(i);s&&(yield s)}}async function*tT(e){let t=new Uint8Array;for await(let n of e){if(n==null)continue;let r=n instanceof ArrayBuffer?new Uint8Array(n):typeof n=="string"?new TextEncoder().encode(n):n,o=new Uint8Array(t.length+r.length);o.set(t),o.set(r,t.length),t=o;let i;for(;(i=nT(t))!==-1;)yield t.slice(0,i),t=t.slice(i)}t.length>0&&(yield t)}function nT(e){for(let r=0;r<e.length-2;r++){if(e[r]===10&&e[r+1]===10||e[r]===13&&e[r+1]===13)return r+2;if(e[r]===13&&e[r+1]===10&&r+3<e.length&&e[r+2]===13&&e[r+3]===10)return r+4}return-1}var Cm=class{constructor(){this.event=null,this.data=[],this.chunks=[]}decode(t){if(t.endsWith("\r")&&(t=t.substring(0,t.length-1)),!t){if(!this.event&&!this.data.length)return null;let i={event:this.event,data:this.data.join(`
`),raw:this.chunks};return this.event=null,this.data=[],this.chunks=[],i}if(this.chunks.push(t),t.startsWith(":"))return null;let[n,r,o]=rT(t,":");return o.startsWith(" ")&&(o=o.substring(1)),n==="event"?this.event=o:n==="data"&&this.data.push(o),null}};function rT(e,t){let n=e.indexOf(t);return n!==-1?[e.substring(0,n),t,e.substring(n+t.length)]:[e,"",""]}function tv(e){if(e[Symbol.asyncIterator])return e;let t=e.getReader();return{async next(){try{let n=await t.read();return n!=null&&n.done&&t.releaseLock(),n}catch(n){throw t.releaseLock(),n}},async return(){let n=t.cancel();return t.releaseLock(),await n,{done:!0,value:void 0}},[Symbol.asyncIterator](){return this}}}var nv=e=>e!=null&&typeof e=="object"&&typeof e.url=="string"&&typeof e.blob=="function",rv=e=>e!=null&&typeof e=="object"&&typeof e.name=="string"&&typeof e.lastModified=="number"&&Ra(e),Ra=e=>e!=null&&typeof e=="object"&&typeof e.size=="number"&&typeof e.type=="string"&&typeof e.text=="function"&&typeof e.slice=="function"&&typeof e.arrayBuffer=="function",oT=e=>rv(e)||nv(e)||xm(e);async function Em(e,t,n){var o,i,s;if(e=await e,rv(e))return e;if(nv(e)){let a=await e.blob();t||(t=(o=new URL(e.url).pathname.split(/[\\/]/).pop())!=null?o:"unknown_file");let l=Ra(a)?[await a.arrayBuffer()]:[a];return new fu(l,t,n)}let r=await iT(e);if(t||(t=(i=aT(e))!=null?i:"unknown_file"),!(n!=null&&n.type)){let a=(s=r[0])==null?void 0:s.type;typeof a=="string"&&(n={...n,type:a})}return new fu(r,t,n)}async function iT(e){var n;let t=[];if(typeof e=="string"||ArrayBuffer.isView(e)||e instanceof ArrayBuffer)t.push(e);else if(Ra(e))t.push(await e.arrayBuffer());else if(lT(e))for await(let r of e)t.push(r);else throw new Error(`Unexpected data type: ${typeof e}; constructor: ${(n=e==null?void 0:e.constructor)==null?void 0:n.name}; props: ${sT(e)}`);return t}function sT(e){return`[${Object.getOwnPropertyNames(e).map(n=>`"${n}"`).join(", ")}]`}function aT(e){var t;return Sm(e.name)||Sm(e.filename)||((t=Sm(e.path))==null?void 0:t.split(/[\\/]/).pop())}var Sm=e=>{if(typeof e=="string")return e;if(typeof Buffer!="undefined"&&e instanceof Buffer)return String(e)},lT=e=>e!=null&&typeof e=="object"&&typeof e[Symbol.asyncIterator]=="function",Rm=e=>e&&typeof e=="object"&&e.body&&e[Symbol.toStringTag]==="MultipartBody";var Wt=async e=>{let t=await ov(e.body);return vm(t,e)},ov=async e=>{let t=new gm;return await Promise.all(Object.entries(e||{}).map(([n,r])=>Pm(t,n,r))),t};var Pm=async(e,t,n)=>{if(n!==void 0){if(n==null)throw new TypeError(`Received null for "${t}"; to pass null in FormData, you must use the string 'null'`);if(typeof n=="string"||typeof n=="number"||typeof n=="boolean")e.append(t,String(n));else if(oT(n)){let r=await Em(n);e.append(t,r)}else if(Array.isArray(n))await Promise.all(n.map(r=>Pm(e,t+"[]",r)));else if(typeof n=="object")await Promise.all(Object.entries(n).map(([r,o])=>Pm(e,`${t}[${r}]`,o)));else throw new TypeError(`Invalid value given to form, expected a string, number, boolean, object, Array, File or Blob but got ${n} instead`)}};var cT=function(e,t,n,r,o){if(r==="m")throw new TypeError("Private method is not writable");if(r==="a"&&!o)throw new TypeError("Private accessor was defined without a setter");if(typeof t=="function"?e!==t||!o:!t.has(e))throw new TypeError("Cannot write private member to an object whose class did not declare it");return r==="a"?o.call(e,n):o?o.value=n:t.set(e,n),n},fT=function(e,t,n,r){if(n==="a"&&!r)throw new TypeError("Private accessor was defined without a getter");if(typeof t=="function"?e!==t||!r:!t.has(e))throw new TypeError("Cannot read private member from an object whose class did not declare it");return n==="m"?r:n==="a"?r.call(e):r?r.value:t.get(e)},pu;async function lv(e){let{response:t}=e;if(e.options.stream)return Oi("response",t.status,t.url,t.headers,t.body),e.options.__streamClass?e.options.__streamClass.fromSSEResponse(t,e.controller):gn.fromSSEResponse(t,e.controller);if(t.status===204)return null;if(e.options.__binaryResponse)return t;let n=t.headers.get("content-type");if((n==null?void 0:n.includes("application/json"))||(n==null?void 0:n.includes("application/vnd.api+json"))){let i=await t.json();return Oi("response",t.status,t.url,t.headers,i),uv(i,t)}let o=await t.text();return Oi("response",t.status,t.url,t.headers,o),o}function uv(e,t){return!e||typeof e!="object"||Array.isArray(e)?e:Object.defineProperty(e,"_request_id",{value:t.headers.get("x-request-id"),enumerable:!1})}var gu=class e extends Promise{constructor(t,n=lv){super(r=>{r(null)}),this.responsePromise=t,this.parseResponse=n}_thenUnwrap(t){return new e(this.responsePromise,async n=>uv(t(await this.parseResponse(n),n),n.response))}asResponse(){return this.responsePromise.then(t=>t.response)}async withResponse(){let[t,n]=await Promise.all([this.parse(),this.asResponse()]);return{data:t,response:n,request_id:n.headers.get("x-request-id")}}parse(){return this.parsedPromise||(this.parsedPromise=this.responsePromise.then(this.parseResponse)),this.parsedPromise}then(t,n){return this.parse().then(t,n)}catch(t){return this.parse().catch(t)}finally(t){return this.parse().finally(t)}},yu=class{constructor({baseURL:t,maxRetries:n=2,timeout:r=6e5,httpAgent:o,fetch:i}){this.baseURL=t,this.maxRetries=Tm("maxRetries",n),this.timeout=Tm("timeout",r),this.httpAgent=o,this.fetch=i!=null?i:hm}authHeaders(t){return{}}defaultHeaders(t){return{Accept:"application/json","Content-Type":"application/json","User-Agent":this.getUserAgent(),...gT(),...this.authHeaders(t)}}validateHeaders(t,n){}defaultIdempotencyKey(){return`stainless-node-retry-${xT()}`}get(t,n){return this.methodRequest("get",t,n)}post(t,n){return this.methodRequest("post",t,n)}patch(t,n){return this.methodRequest("patch",t,n)}put(t,n){return this.methodRequest("put",t,n)}delete(t,n){return this.methodRequest("delete",t,n)}methodRequest(t,n,r){return this.request(Promise.resolve(r).then(async o=>{let i=o&&Ra(o==null?void 0:o.body)?new DataView(await o.body.arrayBuffer()):(o==null?void 0:o.body)instanceof DataView?o.body:(o==null?void 0:o.body)instanceof ArrayBuffer?new DataView(o.body):o&&ArrayBuffer.isView(o==null?void 0:o.body)?new DataView(o.body.buffer):o==null?void 0:o.body;return{method:t,path:n,...o,body:i}}))}getAPIList(t,n,r){return this.requestAPIList(n,{method:"get",path:t,...r})}calculateContentLength(t){if(typeof t=="string"){if(typeof Buffer!="undefined")return Buffer.byteLength(t,"utf8").toString();if(typeof TextEncoder!="undefined")return new TextEncoder().encode(t).length.toString()}else if(ArrayBuffer.isView(t))return t.byteLength.toString();return null}buildRequest(t,{retryCount:n=0}={}){var v,x,g,m,p,w;let{method:r,path:o,query:i,headers:s={}}=t,a=ArrayBuffer.isView(t.body)||t.__binaryRequest&&typeof t.body=="string"?t.body:Rm(t.body)?t.body.body:t.body?JSON.stringify(t.body,null,2):null,l=this.calculateContentLength(a),u=this.buildURL(o,i);"timeout"in t&&Tm("timeout",t.timeout);let c=(v=t.timeout)!=null?v:this.timeout,f=(g=(x=t.httpAgent)!=null?x:this.httpAgent)!=null?g:wm(u),d=c+1e3;typeof((m=f==null?void 0:f.options)==null?void 0:m.timeout)=="number"&&d>((p=f.options.timeout)!=null?p:0)&&(f.options.timeout=d),this.idempotencyHeader&&r!=="get"&&(t.idempotencyKey||(t.idempotencyKey=this.defaultIdempotencyKey()),s[this.idempotencyHeader]=t.idempotencyKey);let h=this.buildHeaders({options:t,headers:s,contentLength:l,retryCount:n});return{req:{method:r,...a&&{body:a},headers:h,...f&&{agent:f},signal:(w=t.signal)!=null?w:null},url:u,timeout:c}}buildHeaders({options:t,headers:n,contentLength:r,retryCount:o}){let i={};r&&(i["content-length"]=r);let s=this.defaultHeaders(t);return av(i,s),av(i,n),Rm(t.body)&&Po!=="node"&&delete i["content-type"],ST(n,"x-stainless-retry-count")===void 0&&(i["x-stainless-retry-count"]=String(o)),this.validateHeaders(i,n),i}async prepareOptions(t){}async prepareRequest(t,{url:n,options:r}){}parseHeaders(t){return t?Symbol.iterator in t?Object.fromEntries(Array.from(t).map(n=>[...n])):{...t}:{}}makeStatusError(t,n,r,o){return Te.generate(t,n,r,o)}request(t,n=null){return new gu(this.makeRequest(t,n))}async makeRequest(t,n){var f,d,h;let r=await t,o=(f=r.maxRetries)!=null?f:this.maxRetries;n==null&&(n=o),await this.prepareOptions(r);let{req:i,url:s,timeout:a}=this.buildRequest(r,{retryCount:o-n});if(await this.prepareRequest(i,{url:s,options:r}),Oi("request",s,r,i.headers),(d=r.signal)!=null&&d.aborted)throw new Me;let l=new AbortController,u=await this.fetchWithTimeout(s,i,a,l).catch(vu);if(u instanceof Error){if((h=r.signal)!=null&&h.aborted)throw new Me;if(n)return this.retryRequest(r,n);throw u.name==="AbortError"?new $n:new Un({cause:u})}let c=dT(u.headers);if(!u.ok){if(n&&this.shouldRetry(u)){let p=`retrying, ${n} attempts remaining`;return Oi(`response (error; ${p})`,u.status,s,c),this.retryRequest(r,n,c)}let y=await u.text().catch(p=>vu(p).message),v=yT(y),x=v?void 0:y;throw Oi(`response (error; ${n?"(error; no more retries left)":"(error; not retryable)"})`,u.status,s,c,x),this.makeStatusError(u.status,v,x,c)}return{response:u,options:r,controller:l}}requestAPIList(t,n){let r=this.makeRequest(n,null);return new bm(this,r,t)}buildURL(t,n){let r=wT(t)?new URL(t):new URL(this.baseURL+(this.baseURL.endsWith("/")&&t.startsWith("/")?t.slice(1):t)),o=this.defaultQuery();return cv(o)||(n={...o,...n}),typeof n=="object"&&n&&!Array.isArray(n)&&(r.search=this.stringifyQuery(n)),r.toString()}stringifyQuery(t){return Object.entries(t).filter(([n,r])=>typeof r!="undefined").map(([n,r])=>{if(typeof r=="string"||typeof r=="number"||typeof r=="boolean")return`${encodeURIComponent(n)}=${encodeURIComponent(r)}`;if(r===null)return`${encodeURIComponent(n)}=`;throw new $(`Cannot stringify type ${typeof r}; Expected string, number, boolean, or null. If you need to pass nested query parameters, you can manually encode them, e.g. { query: { 'foo[key1]': value1, 'foo[key2]': value2 } }, and please open a GitHub issue requesting better support for your use case.`)}).join("&")}async fetchWithTimeout(t,n,r,o){let{signal:i,...s}=n||{};i&&i.addEventListener("abort",()=>o.abort());let a=setTimeout(()=>o.abort(),r);return this.getRequestClient().fetch.call(void 0,t,{signal:o.signal,...s}).finally(()=>{clearTimeout(a)})}getRequestClient(){return{fetch:this.fetch}}shouldRetry(t){let n=t.headers.get("x-should-retry");return n==="true"?!0:n==="false"?!1:t.status===408||t.status===409||t.status===429||t.status>=500}async retryRequest(t,n,r){var a;let o,i=r==null?void 0:r["retry-after-ms"];if(i){let l=parseFloat(i);Number.isNaN(l)||(o=l)}let s=r==null?void 0:r["retry-after"];if(s&&!o){let l=parseFloat(s);Number.isNaN(l)?o=Date.parse(s)-Date.now():o=l*1e3}if(!(o&&0<=o&&o<60*1e3)){let l=(a=t.maxRetries)!=null?a:this.maxRetries;o=this.calculateDefaultRetryTimeoutMillis(n,l)}return await jn(o),this.makeRequest(t,n-1)}calculateDefaultRetryTimeoutMillis(t,n){let i=n-t,s=Math.min(.5*Math.pow(2,i),8),a=1-Math.random()*.25;return s*a*1e3}getUserAgent(){return`${this.constructor.name}/JS ${So}`}},Ta=class{constructor(t,n,r,o){pu.set(this,void 0),cT(this,pu,t,"f"),this.options=o,this.response=n,this.body=r}hasNextPage(){return this.getPaginatedItems().length?this.nextPageInfo()!=null:!1}async getNextPage(){let t=this.nextPageInfo();if(!t)throw new $("No next page expected; please check `.hasNextPage()` before calling `.getNextPage()`.");let n={...this.options};if("params"in t&&typeof n.query=="object")n.query={...n.query,...t.params};else if("url"in t){let r=[...Object.entries(n.query||{}),...t.url.searchParams.entries()];for(let[o,i]of r)t.url.searchParams.set(o,i);n.query=void 0,n.path=t.url.toString()}return await fT(this,pu,"f").requestAPIList(this.constructor,n)}async*iterPages(){let t=this;for(yield t;t.hasNextPage();)t=await t.getNextPage(),yield t}async*[(pu=new WeakMap,Symbol.asyncIterator)](){for await(let t of this.iterPages())for(let n of t.getPaginatedItems())yield n}},bm=class extends gu{constructor(t,n,r){super(n,async o=>new r(t,o.response,await lv(o),o.options))}async*[Symbol.asyncIterator](){let t=await this;for await(let n of t)yield n}},dT=e=>new Proxy(Object.fromEntries(e.entries()),{get(t,n){let r=n.toString();return t[r.toLowerCase()]||t[r]}}),mT={method:!0,path:!0,query:!0,body:!0,headers:!0,maxRetries:!0,stream:!0,timeout:!0,httpAgent:!0,signal:!0,idempotencyKey:!0,__binaryRequest:!0,__binaryResponse:!0,__streamClass:!0},ie=e=>typeof e=="object"&&e!==null&&!cv(e)&&Object.keys(e).every(t=>fv(mT,t)),pT=()=>{var t,n;if(typeof Deno!="undefined"&&Deno.build!=null)return{"X-Stainless-Lang":"js","X-Stainless-Package-Version":So,"X-Stainless-OS":sv(Deno.build.os),"X-Stainless-Arch":iv(Deno.build.arch),"X-Stainless-Runtime":"deno","X-Stainless-Runtime-Version":typeof Deno.version=="string"?Deno.version:(n=(t=Deno.version)==null?void 0:t.deno)!=null?n:"unknown"};if(typeof EdgeRuntime!="undefined")return{"X-Stainless-Lang":"js","X-Stainless-Package-Version":So,"X-Stainless-OS":"Unknown","X-Stainless-Arch":`other:${EdgeRuntime}`,"X-Stainless-Runtime":"edge","X-Stainless-Runtime-Version":process.version};if(Object.prototype.toString.call(typeof process!="undefined"?process:0)==="[object process]")return{"X-Stainless-Lang":"js","X-Stainless-Package-Version":So,"X-Stainless-OS":sv(process.platform),"X-Stainless-Arch":iv(process.arch),"X-Stainless-Runtime":"node","X-Stainless-Runtime-Version":process.version};let e=hT();return e?{"X-Stainless-Lang":"js","X-Stainless-Package-Version":So,"X-Stainless-OS":"Unknown","X-Stainless-Arch":"unknown","X-Stainless-Runtime":`browser:${e.browser}`,"X-Stainless-Runtime-Version":e.version}:{"X-Stainless-Lang":"js","X-Stainless-Package-Version":So,"X-Stainless-OS":"Unknown","X-Stainless-Arch":"unknown","X-Stainless-Runtime":"unknown","X-Stainless-Runtime-Version":"unknown"}};function hT(){if(typeof navigator=="undefined"||!navigator)return null;let e=[{key:"edge",pattern:/Edge(?:\W+(\d+)\.(\d+)(?:\.(\d+))?)?/},{key:"ie",pattern:/MSIE(?:\W+(\d+)\.(\d+)(?:\.(\d+))?)?/},{key:"ie",pattern:/Trident(?:.*rv\:(\d+)\.(\d+)(?:\.(\d+))?)?/},{key:"chrome",pattern:/Chrome(?:\W+(\d+)\.(\d+)(?:\.(\d+))?)?/},{key:"firefox",pattern:/Firefox(?:\W+(\d+)\.(\d+)(?:\.(\d+))?)?/},{key:"safari",pattern:/(?:Version\W+(\d+)\.(\d+)(?:\.(\d+))?)?(?:\W+Mobile\S*)?\W+Safari/}];for(let{key:t,pattern:n}of e){let r=n.exec(navigator.userAgent);if(r){let o=r[1]||0,i=r[2]||0,s=r[3]||0;return{browser:t,version:`${o}.${i}.${s}`}}}return null}var iv=e=>e==="x32"?"x32":e==="x86_64"||e==="x64"?"x64":e==="arm"?"arm":e==="aarch64"||e==="arm64"?"arm64":e?`other:${e}`:"unknown",sv=e=>(e=e.toLowerCase(),e.includes("ios")?"iOS":e==="android"?"Android":e==="darwin"?"MacOS":e==="win32"?"Windows":e==="freebsd"?"FreeBSD":e==="openbsd"?"OpenBSD":e==="linux"?"Linux":e?`Other:${e}`:"Unknown"),hu,gT=()=>hu!=null?hu:hu=pT(),yT=e=>{try{return JSON.parse(e)}catch(t){return}},vT=new RegExp("^(?:[a-z]+:)?//","i"),wT=e=>vT.test(e),jn=e=>new Promise(t=>setTimeout(t,e)),Tm=(e,t)=>{if(typeof t!="number"||!Number.isInteger(t))throw new $(`${e} must be an integer`);if(t<0)throw new $(`${e} must be a positive integer`);return t},vu=e=>{if(e instanceof Error)return e;if(typeof e=="object"&&e!==null)try{return new Error(JSON.stringify(e))}catch(t){}return new Error(e)};var ba=e=>{var t,n,r,o,i,s;if(typeof process!="undefined")return(r=(n=(t=process.env)==null?void 0:t[e])==null?void 0:n.trim())!=null?r:void 0;if(typeof Deno!="undefined")return(s=(i=(o=Deno.env)==null?void 0:o.get)==null?void 0:i.call(o,e))==null?void 0:s.trim()};function cv(e){if(!e)return!0;for(let t in e)return!1;return!0}function fv(e,t){return Object.prototype.hasOwnProperty.call(e,t)}function av(e,t){for(let n in t){if(!fv(t,n))continue;let r=n.toLowerCase();if(!r)continue;let o=t[n];o===null?delete e[r]:o!==void 0&&(e[r]=o)}}function Oi(e,...t){var n;typeof process!="undefined"&&((n=process==null?void 0:process.env)==null?void 0:n.DEBUG)==="true"&&console.log(`OpenAI:DEBUG:${e}`,...t)}var xT=()=>"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,e=>{let t=Math.random()*16|0;return(e==="x"?t:t&3|8).toString(16)}),dv=()=>typeof window!="undefined"&&typeof window.document!="undefined"&&typeof navigator!="undefined",CT=e=>typeof(e==null?void 0:e.get)=="function";var ST=(e,t)=>{var r;let n=t.toLowerCase();if(CT(e)){let o=((r=t[0])==null?void 0:r.toUpperCase())+t.substring(1).replace(/([^\w])(\w)/g,(i,s,a)=>s+a.toUpperCase());for(let i of[t,n,t.toUpperCase(),o]){let s=e.get(i);if(s)return s}}for(let[o,i]of Object.entries(e))if(o.toLowerCase()===n)return Array.isArray(i)?(i.length<=1||console.warn(`Received ${i.length} entries for the ${t} header, using the first entry.`),i[0]):i};function Aa(e){return e!=null&&typeof e=="object"&&!Array.isArray(e)}var $=class extends Error{},Te=class e extends ${constructor(t,n,r,o){super(`${e.makeMessage(t,n,r)}`),this.status=t,this.headers=o,this.request_id=o==null?void 0:o["x-request-id"];let i=n;this.error=i,this.code=i==null?void 0:i.code,this.param=i==null?void 0:i.param,this.type=i==null?void 0:i.type}static makeMessage(t,n,r){let o=n!=null&&n.message?typeof n.message=="string"?n.message:JSON.stringify(n.message):n?JSON.stringify(n):r;return t&&o?`${t} ${o}`:t?`${t} status code (no body)`:o||"(no status code or body)"}static generate(t,n,r,o){if(!t)return new Un({message:r,cause:vu(n)});let i=n==null?void 0:n.error;return t===400?new Ni(t,i,r,o):t===401?new Di(t,i,r,o):t===403?new Li(t,i,r,o):t===404?new Fi(t,i,r,o):t===409?new Vi(t,i,r,o):t===422?new Bi(t,i,r,o):t===429?new ji(t,i,r,o):t>=500?new Ui(t,i,r,o):new e(t,i,r,o)}},Me=class extends Te{constructor({message:t}={}){super(void 0,void 0,t||"Request was aborted.",void 0),this.status=void 0}},Un=class extends Te{constructor({message:t,cause:n}){super(void 0,void 0,t||"Connection error.",void 0),this.status=void 0,n&&(this.cause=n)}},$n=class extends Un{constructor({message:t}={}){super({message:t!=null?t:"Request timed out."})}},Ni=class extends Te{constructor(){super(...arguments),this.status=400}},Di=class extends Te{constructor(){super(...arguments),this.status=401}},Li=class extends Te{constructor(){super(...arguments),this.status=403}},Fi=class extends Te{constructor(){super(...arguments),this.status=404}},Vi=class extends Te{constructor(){super(...arguments),this.status=409}},Bi=class extends Te{constructor(){super(...arguments),this.status=422}},ji=class extends Te{constructor(){super(...arguments),this.status=429}},Ui=class extends Te{},To=class extends ${constructor(){super("Could not parse response content as the length limit was reached")}},bo=class extends ${constructor(){super("Could not parse response content as the request was rejected by the content filter")}};var wu="RFC3986",xu={RFC1738:e=>String(e).replace(/%20/g,"+"),RFC3986:e=>String(e)},mv="RFC1738";var PT=Array.isArray,yn=(()=>{let e=[];for(let t=0;t<256;++t)e.push("%"+((t<16?"0":"")+t.toString(16)).toUpperCase());return e})();var _m=1024,pv=(e,t,n,r,o)=>{if(e.length===0)return e;let i=e;if(typeof e=="symbol"?i=Symbol.prototype.toString.call(e):typeof e!="string"&&(i=String(e)),n==="iso-8859-1")return escape(i).replace(/%u[0-9a-f]{4}/gi,function(a){return"%26%23"+parseInt(a.slice(2),16)+"%3B"});let s="";for(let a=0;a<i.length;a+=_m){let l=i.length>=_m?i.slice(a,a+_m):i,u=[];for(let c=0;c<l.length;++c){let f=l.charCodeAt(c);if(f===45||f===46||f===95||f===126||f>=48&&f<=57||f>=65&&f<=90||f>=97&&f<=122||o===mv&&(f===40||f===41)){u[u.length]=l.charAt(c);continue}if(f<128){u[u.length]=yn[f];continue}if(f<2048){u[u.length]=yn[192|f>>6]+yn[128|f&63];continue}if(f<55296||f>=57344){u[u.length]=yn[224|f>>12]+yn[128|f>>6&63]+yn[128|f&63];continue}c+=1,f=65536+((f&1023)<<10|l.charCodeAt(c)&1023),u[u.length]=yn[240|f>>18]+yn[128|f>>12&63]+yn[128|f>>6&63]+yn[128|f&63]}s+=u.join("")}return s};function hv(e){return!e||typeof e!="object"?!1:!!(e.constructor&&e.constructor.isBuffer&&e.constructor.isBuffer(e))}function Im(e,t){if(PT(e)){let n=[];for(let r=0;r<e.length;r+=1)n.push(t(e[r]));return n}return t(e)}var ET=Object.prototype.hasOwnProperty,gv={brackets(e){return String(e)+"[]"},comma:"comma",indices(e,t){return String(e)+"["+t+"]"},repeat(e){return String(e)}},vn=Array.isArray,RT=Array.prototype.push,yv=function(e,t){RT.apply(e,vn(t)?t:[t])},TT=Date.prototype.toISOString,Oe={addQueryPrefix:!1,allowDots:!1,allowEmptyArrays:!1,arrayFormat:"indices",charset:"utf-8",charsetSentinel:!1,delimiter:"&",encode:!0,encodeDotInKeys:!1,encoder:pv,encodeValuesOnly:!1,format:wu,formatter:xu[wu],indices:!1,serializeDate(e){return TT.call(e)},skipNulls:!1,strictNullHandling:!1};function bT(e){return typeof e=="string"||typeof e=="number"||typeof e=="boolean"||typeof e=="symbol"||typeof e=="bigint"}var km={};function vv(e,t,n,r,o,i,s,a,l,u,c,f,d,h,y,v,x,g){let m=e,p=g,w=0,C=!1;for(;(p=p.get(km))!==void 0&&!C;){let R=p.get(e);if(w+=1,typeof R!="undefined"){if(R===w)throw new RangeError("Cyclic object value");C=!0}typeof p.get(km)=="undefined"&&(w=0)}if(typeof u=="function"?m=u(t,m):m instanceof Date?m=d==null?void 0:d(m):n==="comma"&&vn(m)&&(m=Im(m,function(R){return R instanceof Date?d==null?void 0:d(R):R})),m===null){if(i)return l&&!v?l(t,Oe.encoder,x,"key",h):t;m=""}if(bT(m)||hv(m)){if(l){let R=v?t:l(t,Oe.encoder,x,"key",h);return[(y==null?void 0:y(R))+"="+(y==null?void 0:y(l(m,Oe.encoder,x,"value",h)))]}return[(y==null?void 0:y(t))+"="+(y==null?void 0:y(String(m)))]}let P=[];if(typeof m=="undefined")return P;let S;if(n==="comma"&&vn(m))v&&l&&(m=Im(m,l)),S=[{value:m.length>0?m.join(",")||null:void 0}];else if(vn(u))S=u;else{let R=Object.keys(m);S=c?R.sort(c):R}let E=a?String(t).replace(/\./g,"%2E"):String(t),T=r&&vn(m)&&m.length===1?E+"[]":E;if(o&&vn(m)&&m.length===0)return T+"[]";for(let R=0;R<S.length;++R){let A=S[R],b=typeof A=="object"&&typeof A.value!="undefined"?A.value:m[A];if(s&&b===null)continue;let D=f&&a?A.replace(/\./g,"%2E"):A,L=vn(m)?typeof n=="function"?n(T,D):T:T+(f?"."+D:"["+D+"]");g.set(e,w);let U=new WeakMap;U.set(km,g),yv(P,vv(b,L,n,r,o,i,s,a,n==="comma"&&v&&vn(m)?null:l,u,c,f,d,h,y,v,x,U))}return P}function AT(e=Oe){if(typeof e.allowEmptyArrays!="undefined"&&typeof e.allowEmptyArrays!="boolean")throw new TypeError("`allowEmptyArrays` option can only be `true` or `false`, when provided");if(typeof e.encodeDotInKeys!="undefined"&&typeof e.encodeDotInKeys!="boolean")throw new TypeError("`encodeDotInKeys` option can only be `true` or `false`, when provided");if(e.encoder!==null&&typeof e.encoder!="undefined"&&typeof e.encoder!="function")throw new TypeError("Encoder has to be a function.");let t=e.charset||Oe.charset;if(typeof e.charset!="undefined"&&e.charset!=="utf-8"&&e.charset!=="iso-8859-1")throw new TypeError("The charset option must be either utf-8, iso-8859-1, or undefined");let n=wu;if(typeof e.format!="undefined"){if(!ET.call(xu,e.format))throw new TypeError("Unknown format option provided.");n=e.format}let r=xu[n],o=Oe.filter;(typeof e.filter=="function"||vn(e.filter))&&(o=e.filter);let i;if(e.arrayFormat&&e.arrayFormat in gv?i=e.arrayFormat:"indices"in e?i=e.indices?"indices":"repeat":i=Oe.arrayFormat,"commaRoundTrip"in e&&typeof e.commaRoundTrip!="boolean")throw new TypeError("`commaRoundTrip` must be a boolean, or absent");let s=typeof e.allowDots=="undefined"?e.encodeDotInKeys?!0:Oe.allowDots:!!e.allowDots;return{addQueryPrefix:typeof e.addQueryPrefix=="boolean"?e.addQueryPrefix:Oe.addQueryPrefix,allowDots:s,allowEmptyArrays:typeof e.allowEmptyArrays=="boolean"?!!e.allowEmptyArrays:Oe.allowEmptyArrays,arrayFormat:i,charset:t,charsetSentinel:typeof e.charsetSentinel=="boolean"?e.charsetSentinel:Oe.charsetSentinel,commaRoundTrip:!!e.commaRoundTrip,delimiter:typeof e.delimiter=="undefined"?Oe.delimiter:e.delimiter,encode:typeof e.encode=="boolean"?e.encode:Oe.encode,encodeDotInKeys:typeof e.encodeDotInKeys=="boolean"?e.encodeDotInKeys:Oe.encodeDotInKeys,encoder:typeof e.encoder=="function"?e.encoder:Oe.encoder,encodeValuesOnly:typeof e.encodeValuesOnly=="boolean"?e.encodeValuesOnly:Oe.encodeValuesOnly,filter:o,format:n,formatter:r,serializeDate:typeof e.serializeDate=="function"?e.serializeDate:Oe.serializeDate,skipNulls:typeof e.skipNulls=="boolean"?e.skipNulls:Oe.skipNulls,sort:typeof e.sort=="function"?e.sort:null,strictNullHandling:typeof e.strictNullHandling=="boolean"?e.strictNullHandling:Oe.strictNullHandling}}function Mm(e,t={}){let n=e,r=AT(t),o,i;typeof r.filter=="function"?(i=r.filter,n=i("",n)):vn(r.filter)&&(i=r.filter,o=i);let s=[];if(typeof n!="object"||n===null)return"";let a=gv[r.arrayFormat],l=a==="comma"&&r.commaRoundTrip;o||(o=Object.keys(n)),r.sort&&o.sort(r.sort);let u=new WeakMap;for(let d=0;d<o.length;++d){let h=o[d];r.skipNulls&&n[h]===null||yv(s,vv(n[h],h,a,l,r.allowEmptyArrays,r.strictNullHandling,r.skipNulls,r.encodeDotInKeys,r.encode?r.encoder:null,r.filter,r.sort,r.allowDots,r.serializeDate,r.format,r.formatter,r.encodeValuesOnly,r.charset,u))}let c=s.join(r.delimiter),f=r.addQueryPrefix===!0?"?":"";return r.charsetSentinel&&(r.charset==="iso-8859-1"?f+="utf8=%26%2310003%3B&":f+="utf8=%E2%9C%93&"),c.length>0?f+c:""}var gr=class extends Ta{constructor(t,n,r,o){super(t,n,r,o),this.data=r.data||[],this.object=r.object}getPaginatedItems(){var t;return(t=this.data)!=null?t:[]}nextPageParams(){return null}nextPageInfo(){return null}},pe=class extends Ta{constructor(t,n,r,o){super(t,n,r,o),this.data=r.data||[]}getPaginatedItems(){var t;return(t=this.data)!=null?t:[]}nextPageParams(){let t=this.nextPageInfo();if(!t)return null;if("params"in t)return t.params;let n=Object.fromEntries(t.url.searchParams);return Object.keys(n).length?n:null}nextPageInfo(){var r;let t=this.getPaginatedItems();if(!t.length)return null;let n=(r=t[t.length-1])==null?void 0:r.id;return n?{params:{after:n}}:null}};var M=class{constructor(t){this._client=t}};var Ao=class extends M{create(t,n){var r;return this._client.post("/chat/completions",{body:t,...n,stream:(r=t.stream)!=null?r:!1})}};Ao||(Ao={});var yr=class extends M{constructor(){super(...arguments),this.completions=new Ao(this._client)}};(function(e){e.Completions=Ao})(yr||(yr={}));var _o=class extends M{create(t,n){return this._client.post("/audio/speech",{body:t,...n,__binaryResponse:!0})}};_o||(_o={});var Io=class extends M{create(t,n){return this._client.post("/audio/transcriptions",Wt({body:t,...n}))}};Io||(Io={});var ko=class extends M{create(t,n){return this._client.post("/audio/translations",Wt({body:t,...n}))}};ko||(ko={});var vr=class extends M{constructor(){super(...arguments),this.transcriptions=new Io(this._client),this.translations=new ko(this._client),this.speech=new _o(this._client)}};(function(e){e.Transcriptions=Io,e.Translations=ko,e.Speech=_o})(vr||(vr={}));var wr=class extends M{create(t,n){return this._client.post("/batches",{body:t,...n})}retrieve(t,n){return this._client.get(`/batches/${t}`,n)}list(t={},n){return ie(t)?this.list({},t):this._client.getAPIList("/batches",xr,{query:t,...n})}cancel(t,n){return this._client.post(`/batches/${t}/cancel`,n)}},xr=class extends pe{};(function(e){e.BatchesPage=xr})(wr||(wr={}));var Mo=class extends M{create(t,n){return this._client.post("/assistants",{body:t,...n,headers:{"OpenAI-Beta":"assistants=v2",...n==null?void 0:n.headers}})}retrieve(t,n){return this._client.get(`/assistants/${t}`,{...n,headers:{"OpenAI-Beta":"assistants=v2",...n==null?void 0:n.headers}})}update(t,n,r){return this._client.post(`/assistants/${t}`,{body:n,...r,headers:{"OpenAI-Beta":"assistants=v2",...r==null?void 0:r.headers}})}list(t={},n){return ie(t)?this.list({},t):this._client.getAPIList("/assistants",Oo,{query:t,...n,headers:{"OpenAI-Beta":"assistants=v2",...n==null?void 0:n.headers}})}del(t,n){return this._client.delete(`/assistants/${t}`,{...n,headers:{"OpenAI-Beta":"assistants=v2",...n==null?void 0:n.headers}})}},Oo=class extends pe{};(function(e){e.AssistantsPage=Oo})(Mo||(Mo={}));function Om(e){return typeof e.parse=="function"}var Cr=e=>(e==null?void 0:e.role)==="assistant",Nm=e=>(e==null?void 0:e.role)==="function",Dm=e=>(e==null?void 0:e.role)==="tool";var tn=function(e,t,n,r,o){if(r==="m")throw new TypeError("Private method is not writable");if(r==="a"&&!o)throw new TypeError("Private accessor was defined without a setter");if(typeof t=="function"?e!==t||!o:!t.has(e))throw new TypeError("Cannot write private member to an object whose class did not declare it");return r==="a"?o.call(e,n):o?o.value=n:t.set(e,n),n},he=function(e,t,n,r){if(n==="a"&&!r)throw new TypeError("Private accessor was defined without a getter");if(typeof t=="function"?e!==t||!r:!t.has(e))throw new TypeError("Cannot read private member from an object whose class did not declare it");return n==="m"?r:n==="a"?r.call(e):r?r.value:t.get(e)},Lm,Cu,Su,_a,Ia,Pu,ka,zn,Ma,Eu,Ru,$i,xv,zi=class{constructor(){Lm.add(this),this.controller=new AbortController,Cu.set(this,void 0),Su.set(this,()=>{}),_a.set(this,()=>{}),Ia.set(this,void 0),Pu.set(this,()=>{}),ka.set(this,()=>{}),zn.set(this,{}),Ma.set(this,!1),Eu.set(this,!1),Ru.set(this,!1),$i.set(this,!1),tn(this,Cu,new Promise((t,n)=>{tn(this,Su,t,"f"),tn(this,_a,n,"f")}),"f"),tn(this,Ia,new Promise((t,n)=>{tn(this,Pu,t,"f"),tn(this,ka,n,"f")}),"f"),he(this,Cu,"f").catch(()=>{}),he(this,Ia,"f").catch(()=>{})}_run(t){setTimeout(()=>{t().then(()=>{this._emitFinal(),this._emit("end")},he(this,Lm,"m",xv).bind(this))},0)}_connected(){this.ended||(he(this,Su,"f").call(this),this._emit("connect"))}get ended(){return he(this,Ma,"f")}get errored(){return he(this,Eu,"f")}get aborted(){return he(this,Ru,"f")}abort(){this.controller.abort()}on(t,n){return(he(this,zn,"f")[t]||(he(this,zn,"f")[t]=[])).push({listener:n}),this}off(t,n){let r=he(this,zn,"f")[t];if(!r)return this;let o=r.findIndex(i=>i.listener===n);return o>=0&&r.splice(o,1),this}once(t,n){return(he(this,zn,"f")[t]||(he(this,zn,"f")[t]=[])).push({listener:n,once:!0}),this}emitted(t){return new Promise((n,r)=>{tn(this,$i,!0,"f"),t!=="error"&&this.once("error",r),this.once(t,n)})}async done(){tn(this,$i,!0,"f"),await he(this,Ia,"f")}_emit(t,...n){if(he(this,Ma,"f"))return;t==="end"&&(tn(this,Ma,!0,"f"),he(this,Pu,"f").call(this));let r=he(this,zn,"f")[t];if(r&&(he(this,zn,"f")[t]=r.filter(o=>!o.once),r.forEach(({listener:o})=>o(...n))),t==="abort"){let o=n[0];!he(this,$i,"f")&&!(r!=null&&r.length)&&Promise.reject(o),he(this,_a,"f").call(this,o),he(this,ka,"f").call(this,o),this._emit("end");return}if(t==="error"){let o=n[0];!he(this,$i,"f")&&!(r!=null&&r.length)&&Promise.reject(o),he(this,_a,"f").call(this,o),he(this,ka,"f").call(this,o),this._emit("end")}}_emitFinal(){}};Cu=new WeakMap,Su=new WeakMap,_a=new WeakMap,Ia=new WeakMap,Pu=new WeakMap,ka=new WeakMap,zn=new WeakMap,Ma=new WeakMap,Eu=new WeakMap,Ru=new WeakMap,$i=new WeakMap,Lm=new WeakSet,xv=function(t){if(tn(this,Eu,!0,"f"),t instanceof Error&&t.name==="AbortError"&&(t=new Me),t instanceof Me)return tn(this,Ru,!0,"f"),this._emit("abort",t);if(t instanceof $)return this._emit("error",t);if(t instanceof Error){let n=new $(t.message);return n.cause=t,this._emit("error",n)}return this._emit("error",new $(String(t)))};function Fm(e){return(e==null?void 0:e.$brand)==="auto-parseable-response-format"}function No(e){return(e==null?void 0:e.$brand)==="auto-parseable-tool"}function Cv(e,t){return!t||!Vm(t)?{...e,choices:e.choices.map(n=>{var r;return{...n,message:{...n.message,parsed:null,tool_calls:(r=n.message.tool_calls)!=null?r:[]}}})}:Oa(e,t)}function Oa(e,t){let n=e.choices.map(r=>{var o,i;if(r.finish_reason==="length")throw new To;if(r.finish_reason==="content_filter")throw new bo;return{...r,message:{...r.message,tool_calls:(i=(o=r.message.tool_calls)==null?void 0:o.map(s=>FT(t,s)))!=null?i:[],parsed:r.message.content&&!r.message.refusal?LT(t,r.message.content):null}}});return{...e,choices:n}}function LT(e,t){var n,r;return((n=e.response_format)==null?void 0:n.type)!=="json_schema"?null:((r=e.response_format)==null?void 0:r.type)==="json_schema"?"$parseRaw"in e.response_format?e.response_format.$parseRaw(t):JSON.parse(t):null}function FT(e,t){var r;let n=(r=e.tools)==null?void 0:r.find(o=>{var i;return((i=o.function)==null?void 0:i.name)===t.function.name});return{...t,function:{...t.function,parsed_arguments:No(n)?n.$parseRaw(t.function.arguments):n!=null&&n.function.strict?JSON.parse(t.function.arguments):null}}}function Sv(e,t){var r;if(!e)return!1;let n=(r=e.tools)==null?void 0:r.find(o=>{var i;return((i=o.function)==null?void 0:i.name)===t.function.name});return No(n)||(n==null?void 0:n.function.strict)||!1}function Vm(e){var t,n;return Fm(e.response_format)?!0:(n=(t=e.tools)==null?void 0:t.some(r=>No(r)||r.type==="function"&&r.function.strict===!0))!=null?n:!1}function Pv(e){for(let t of e!=null?e:[]){if(t.type!=="function")throw new $(`Currently only \`function\` tool types support auto-parsing; Received \`${t.type}\``);if(t.function.strict!==!0)throw new $(`The \`${t.function.name}\` tool is not marked with \`strict: true\`. Only strict function tools can be auto-parsed`)}}var vt=function(e,t,n,r){if(n==="a"&&!r)throw new TypeError("Private accessor was defined without a getter");if(typeof t=="function"?e!==t||!r:!t.has(e))throw new TypeError("Cannot read private member from an object whose class did not declare it");return n==="m"?r:n==="a"?r.call(e):r?r.value:t.get(e)},Qe,Bm,Tu,jm,Um,$m,Rv,zm,Ev=10,Wi=class extends zi{constructor(){super(...arguments),Qe.add(this),this._chatCompletions=[],this.messages=[]}_addChatCompletion(t){var r;this._chatCompletions.push(t),this._emit("chatCompletion",t);let n=(r=t.choices[0])==null?void 0:r.message;return n&&this._addMessage(n),t}_addMessage(t,n=!0){if("content"in t||(t.content=null),this.messages.push(t),n){if(this._emit("message",t),(Nm(t)||Dm(t))&&t.content)this._emit("functionCallResult",t.content);else if(Cr(t)&&t.function_call)this._emit("functionCall",t.function_call);else if(Cr(t)&&t.tool_calls)for(let r of t.tool_calls)r.type==="function"&&this._emit("functionCall",r.function)}}async finalChatCompletion(){await this.done();let t=this._chatCompletions[this._chatCompletions.length-1];if(!t)throw new $("stream ended without producing a ChatCompletion");return t}async finalContent(){return await this.done(),vt(this,Qe,"m",Bm).call(this)}async finalMessage(){return await this.done(),vt(this,Qe,"m",Tu).call(this)}async finalFunctionCall(){return await this.done(),vt(this,Qe,"m",jm).call(this)}async finalFunctionCallResult(){return await this.done(),vt(this,Qe,"m",Um).call(this)}async totalUsage(){return await this.done(),vt(this,Qe,"m",$m).call(this)}allChatCompletions(){return[...this._chatCompletions]}_emitFinal(){let t=this._chatCompletions[this._chatCompletions.length-1];t&&this._emit("finalChatCompletion",t);let n=vt(this,Qe,"m",Tu).call(this);n&&this._emit("finalMessage",n);let r=vt(this,Qe,"m",Bm).call(this);r&&this._emit("finalContent",r);let o=vt(this,Qe,"m",jm).call(this);o&&this._emit("finalFunctionCall",o);let i=vt(this,Qe,"m",Um).call(this);i!=null&&this._emit("finalFunctionCallResult",i),this._chatCompletions.some(s=>s.usage)&&this._emit("totalUsage",vt(this,Qe,"m",$m).call(this))}async _createChatCompletion(t,n,r){let o=r==null?void 0:r.signal;o&&(o.aborted&&this.controller.abort(),o.addEventListener("abort",()=>this.controller.abort())),vt(this,Qe,"m",Rv).call(this,n);let i=await t.chat.completions.create({...n,stream:!1},{...r,signal:this.controller.signal});return this._connected(),this._addChatCompletion(Oa(i,n))}async _runChatCompletion(t,n,r){for(let o of n.messages)this._addMessage(o,!1);return await this._createChatCompletion(t,n,r)}async _runFunctions(t,n,r){var d;let o="function",{function_call:i="auto",stream:s,...a}=n,l=typeof i!="string"&&(i==null?void 0:i.name),{maxChatCompletions:u=Ev}=r||{},c={};for(let h of n.functions)c[h.name||h.function.name]=h;let f=n.functions.map(h=>({name:h.name||h.function.name,parameters:h.parameters,description:h.description}));for(let h of n.messages)this._addMessage(h,!1);for(let h=0;h<u;++h){let v=(d=(await this._createChatCompletion(t,{...a,function_call:i,functions:f,messages:[...this.messages]},r)).choices[0])==null?void 0:d.message;if(!v)throw new $("missing message in ChatCompletion response");if(!v.function_call)return;let{name:x,arguments:g}=v.function_call,m=c[x];if(m){if(l&&l!==x){let P=`Invalid function_call: ${JSON.stringify(x)}. ${JSON.stringify(l)} requested. Please try again`;this._addMessage({role:o,name:x,content:P});continue}}else{let P=`Invalid function_call: ${JSON.stringify(x)}. Available options are: ${f.map(S=>JSON.stringify(S.name)).join(", ")}. Please try again`;this._addMessage({role:o,name:x,content:P});continue}let p;try{p=Om(m)?await m.parse(g):g}catch(P){this._addMessage({role:o,name:x,content:P instanceof Error?P.message:String(P)});continue}let w=await m.function(p,this),C=vt(this,Qe,"m",zm).call(this,w);if(this._addMessage({role:o,name:x,content:C}),l)return}}async _runTools(t,n,r){var h,y,v;let o="tool",{tool_choice:i="auto",stream:s,...a}=n,l=typeof i!="string"&&((h=i==null?void 0:i.function)==null?void 0:h.name),{maxChatCompletions:u=Ev}=r||{},c=n.tools.map(x=>{if(No(x)){if(!x.$callback)throw new $("Tool given to `.runTools()` that does not have an associated function");return{type:"function",function:{function:x.$callback,name:x.function.name,description:x.function.description||"",parameters:x.function.parameters,parse:x.$parseRaw,strict:!0}}}return x}),f={};for(let x of c)x.type==="function"&&(f[x.function.name||x.function.function.name]=x.function);let d="tools"in n?c.map(x=>x.type==="function"?{type:"function",function:{name:x.function.name||x.function.function.name,parameters:x.function.parameters,description:x.function.description,strict:x.function.strict}}:x):void 0;for(let x of n.messages)this._addMessage(x,!1);for(let x=0;x<u;++x){let m=(y=(await this._createChatCompletion(t,{...a,tool_choice:i,tools:d,messages:[...this.messages]},r)).choices[0])==null?void 0:y.message;if(!m)throw new $("missing message in ChatCompletion response");if(!((v=m.tool_calls)!=null&&v.length))return;for(let p of m.tool_calls){if(p.type!=="function")continue;let w=p.id,{name:C,arguments:P}=p.function,S=f[C];if(S){if(l&&l!==C){let A=`Invalid tool_call: ${JSON.stringify(C)}. ${JSON.stringify(l)} requested. Please try again`;this._addMessage({role:o,tool_call_id:w,content:A});continue}}else{let A=`Invalid tool_call: ${JSON.stringify(C)}. Available options are: ${Object.keys(f).map(b=>JSON.stringify(b)).join(", ")}. Please try again`;this._addMessage({role:o,tool_call_id:w,content:A});continue}let E;try{E=Om(S)?await S.parse(P):P}catch(A){let b=A instanceof Error?A.message:String(A);this._addMessage({role:o,tool_call_id:w,content:b});continue}let T=await S.function(E,this),R=vt(this,Qe,"m",zm).call(this,T);if(this._addMessage({role:o,tool_call_id:w,content:R}),l)return}}}};Qe=new WeakSet,Bm=function(){var t;return(t=vt(this,Qe,"m",Tu).call(this).content)!=null?t:null},Tu=function(){var n,r;let t=this.messages.length;for(;t-- >0;){let o=this.messages[t];if(Cr(o)){let{function_call:i,...s}=o,a={...s,content:(n=o.content)!=null?n:null,refusal:(r=o.refusal)!=null?r:null};return i&&(a.function_call=i),a}}throw new $("stream ended without producing a ChatCompletionMessage with role=assistant")},jm=function(){var t,n;for(let r=this.messages.length-1;r>=0;r--){let o=this.messages[r];if(Cr(o)&&(o!=null&&o.function_call))return o.function_call;if(Cr(o)&&((t=o==null?void 0:o.tool_calls)!=null&&t.length))return(n=o.tool_calls.at(-1))==null?void 0:n.function}},Um=function(){for(let t=this.messages.length-1;t>=0;t--){let n=this.messages[t];if(Nm(n)&&n.content!=null||Dm(n)&&n.content!=null&&typeof n.content=="string"&&this.messages.some(r=>{var o;return r.role==="assistant"&&((o=r.tool_calls)==null?void 0:o.some(i=>i.type==="function"&&i.id===n.tool_call_id))}))return n.content}},$m=function(){let t={completion_tokens:0,prompt_tokens:0,total_tokens:0};for(let{usage:n}of this._chatCompletions)n&&(t.completion_tokens+=n.completion_tokens,t.prompt_tokens+=n.prompt_tokens,t.total_tokens+=n.total_tokens);return t},Rv=function(t){if(t.n!=null&&t.n>1)throw new $("ChatCompletion convenience helpers only support n=1 at this time. To use n>1, please use chat.completions.create() directly.")},zm=function(t){return typeof t=="string"?t:t===void 0?"undefined":JSON.stringify(t)};var Na=class e extends Wi{static runFunctions(t,n,r){let o=new e,i={...r,headers:{...r==null?void 0:r.headers,"X-Stainless-Helper-Method":"runFunctions"}};return o._run(()=>o._runFunctions(t,n,i)),o}static runTools(t,n,r){let o=new e,i={...r,headers:{...r==null?void 0:r.headers,"X-Stainless-Helper-Method":"runTools"}};return o._run(()=>o._runTools(t,n,i)),o}_addMessage(t,n=!0){super._addMessage(t,n),Cr(t)&&t.content&&this._emit("content",t.content)}};var Ve={STR:1,NUM:2,ARR:4,OBJ:8,NULL:16,BOOL:32,NAN:64,INFINITY:128,MINUS_INFINITY:256,INF:384,SPECIAL:496,ATOM:499,COLLECTION:12,ALL:511},Wm=class extends Error{},Hm=class extends Error{};function VT(e,t=Ve.ALL){if(typeof e!="string")throw new TypeError(`expecting str, got ${typeof e}`);if(!e.trim())throw new Error(`${e} is empty`);return BT(e.trim(),t)}var BT=(e,t)=>{let n=e.length,r=0,o=d=>{throw new Wm(`${d} at position ${r}`)},i=d=>{throw new Hm(`${d} at position ${r}`)},s=()=>(f(),r>=n&&o("Unexpected end of input"),e[r]==='"'?a():e[r]==="{"?l():e[r]==="["?u():e.substring(r,r+4)==="null"||Ve.NULL&t&&n-r<4&&"null".startsWith(e.substring(r))?(r+=4,null):e.substring(r,r+4)==="true"||Ve.BOOL&t&&n-r<4&&"true".startsWith(e.substring(r))?(r+=4,!0):e.substring(r,r+5)==="false"||Ve.BOOL&t&&n-r<5&&"false".startsWith(e.substring(r))?(r+=5,!1):e.substring(r,r+8)==="Infinity"||Ve.INFINITY&t&&n-r<8&&"Infinity".startsWith(e.substring(r))?(r+=8,1/0):e.substring(r,r+9)==="-Infinity"||Ve.MINUS_INFINITY&t&&1<n-r&&n-r<9&&"-Infinity".startsWith(e.substring(r))?(r+=9,-1/0):e.substring(r,r+3)==="NaN"||Ve.NAN&t&&n-r<3&&"NaN".startsWith(e.substring(r))?(r+=3,NaN):c()),a=()=>{let d=r,h=!1;for(r++;r<n&&(e[r]!=='"'||h&&e[r-1]==="\\");)h=e[r]==="\\"?!h:!1,r++;if(e.charAt(r)=='"')try{return JSON.parse(e.substring(d,++r-Number(h)))}catch(y){i(String(y))}else if(Ve.STR&t)try{return JSON.parse(e.substring(d,r-Number(h))+'"')}catch(y){return JSON.parse(e.substring(d,e.lastIndexOf("\\"))+'"')}o("Unterminated string literal")},l=()=>{r++,f();let d={};try{for(;e[r]!=="}";){if(f(),r>=n&&Ve.OBJ&t)return d;let h=a();f(),r++;try{let y=s();Object.defineProperty(d,h,{value:y,writable:!0,enumerable:!0,configurable:!0})}catch(y){if(Ve.OBJ&t)return d;throw y}f(),e[r]===","&&r++}}catch(h){if(Ve.OBJ&t)return d;o("Expected '}' at end of object")}return r++,d},u=()=>{r++;let d=[];try{for(;e[r]!=="]";)d.push(s()),f(),e[r]===","&&r++}catch(h){if(Ve.ARR&t)return d;o("Expected ']' at end of array")}return r++,d},c=()=>{if(r===0){e==="-"&&Ve.NUM&t&&o("Not sure what '-' is");try{return JSON.parse(e)}catch(h){if(Ve.NUM&t)try{return e[e.length-1]==="."?JSON.parse(e.substring(0,e.lastIndexOf("."))):JSON.parse(e.substring(0,e.lastIndexOf("e")))}catch(y){}i(String(h))}}let d=r;for(e[r]==="-"&&r++;e[r]&&!",]}".includes(e[r]);)r++;r==n&&!(Ve.NUM&t)&&o("Unterminated number literal");try{return JSON.parse(e.substring(d,r))}catch(h){e.substring(d,r)==="-"&&Ve.NUM&t&&o("Not sure what '-' is");try{return JSON.parse(e.substring(d,e.lastIndexOf("e")))}catch(y){i(String(y))}}},f=()=>{for(;r<n&&` 
\r	`.includes(e[r]);)r++};return s()},Km=e=>VT(e,Ve.ALL^Ve.NUM);var Hi=function(e,t,n,r,o){if(r==="m")throw new TypeError("Private method is not writable");if(r==="a"&&!o)throw new TypeError("Private accessor was defined without a setter");if(typeof t=="function"?e!==t||!o:!t.has(e))throw new TypeError("Cannot write private member to an object whose class did not declare it");return r==="a"?o.call(e,n):o?o.value=n:t.set(e,n),n},re=function(e,t,n,r){if(n==="a"&&!r)throw new TypeError("Private accessor was defined without a getter");if(typeof t=="function"?e!==t||!r:!t.has(e))throw new TypeError("Cannot read private member from an object whose class did not declare it");return n==="m"?r:n==="a"?r.call(e):r?r.value:t.get(e)},Ne,Wn,Ki,Sr,Gm,bu,Xm,qm,Ym,Au,Qm,Tv,Gi=class e extends Wi{constructor(t){super(),Ne.add(this),Wn.set(this,void 0),Ki.set(this,void 0),Sr.set(this,void 0),Hi(this,Wn,t,"f"),Hi(this,Ki,[],"f")}get currentChatCompletionSnapshot(){return re(this,Sr,"f")}static fromReadableStream(t){let n=new e(null);return n._run(()=>n._fromReadableStream(t)),n}static createChatCompletion(t,n,r){let o=new e(n);return o._run(()=>o._runChatCompletion(t,{...n,stream:!0},{...r,headers:{...r==null?void 0:r.headers,"X-Stainless-Helper-Method":"stream"}})),o}async _createChatCompletion(t,n,r){var s;super._createChatCompletion;let o=r==null?void 0:r.signal;o&&(o.aborted&&this.controller.abort(),o.addEventListener("abort",()=>this.controller.abort())),re(this,Ne,"m",Gm).call(this);let i=await t.chat.completions.create({...n,stream:!0},{...r,signal:this.controller.signal});this._connected();for await(let a of i)re(this,Ne,"m",Xm).call(this,a);if((s=i.controller.signal)!=null&&s.aborted)throw new Me;return this._addChatCompletion(re(this,Ne,"m",Au).call(this))}async _fromReadableStream(t,n){var s;let r=n==null?void 0:n.signal;r&&(r.aborted&&this.controller.abort(),r.addEventListener("abort",()=>this.controller.abort())),re(this,Ne,"m",Gm).call(this),this._connected();let o=gn.fromReadableStream(t,this.controller),i;for await(let a of o)i&&i!==a.id&&this._addChatCompletion(re(this,Ne,"m",Au).call(this)),re(this,Ne,"m",Xm).call(this,a),i=a.id;if((s=o.controller.signal)!=null&&s.aborted)throw new Me;return this._addChatCompletion(re(this,Ne,"m",Au).call(this))}[(Wn=new WeakMap,Ki=new WeakMap,Sr=new WeakMap,Ne=new WeakSet,Gm=function(){this.ended||Hi(this,Sr,void 0,"f")},bu=function(n){let r=re(this,Ki,"f")[n.index];return r||(r={content_done:!1,refusal_done:!1,logprobs_content_done:!1,logprobs_refusal_done:!1,done_tool_calls:new Set,current_tool_call_index:null},re(this,Ki,"f")[n.index]=r,r)},Xm=function(n){var o,i,s,a,l,u,c,f,d,h,y,v,x,g,m,p,w,C,P,S;if(this.ended)return;let r=re(this,Ne,"m",Tv).call(this,n);this._emit("chunk",n,r);for(let E of n.choices){let T=r.choices[E.index];E.delta.content!=null&&((o=T.message)==null?void 0:o.role)==="assistant"&&((i=T.message)!=null&&i.content)&&(this._emit("content",E.delta.content,T.message.content),this._emit("content.delta",{delta:E.delta.content,snapshot:T.message.content,parsed:T.message.parsed})),E.delta.refusal!=null&&((s=T.message)==null?void 0:s.role)==="assistant"&&((a=T.message)!=null&&a.refusal)&&this._emit("refusal.delta",{delta:E.delta.refusal,snapshot:T.message.refusal}),((l=E.logprobs)==null?void 0:l.content)!=null&&((u=T.message)==null?void 0:u.role)==="assistant"&&this._emit("logprobs.content.delta",{content:(c=E.logprobs)==null?void 0:c.content,snapshot:(d=(f=T.logprobs)==null?void 0:f.content)!=null?d:[]}),((h=E.logprobs)==null?void 0:h.refusal)!=null&&((y=T.message)==null?void 0:y.role)==="assistant"&&this._emit("logprobs.refusal.delta",{refusal:(v=E.logprobs)==null?void 0:v.refusal,snapshot:(g=(x=T.logprobs)==null?void 0:x.refusal)!=null?g:[]});let R=re(this,Ne,"m",bu).call(this,T);T.finish_reason&&(re(this,Ne,"m",Ym).call(this,T),R.current_tool_call_index!=null&&re(this,Ne,"m",qm).call(this,T,R.current_tool_call_index));for(let A of(m=E.delta.tool_calls)!=null?m:[])R.current_tool_call_index!==A.index&&(re(this,Ne,"m",Ym).call(this,T),R.current_tool_call_index!=null&&re(this,Ne,"m",qm).call(this,T,R.current_tool_call_index)),R.current_tool_call_index=A.index;for(let A of(p=E.delta.tool_calls)!=null?p:[]){let b=(w=T.message.tool_calls)==null?void 0:w[A.index];b!=null&&b.type&&((b==null?void 0:b.type)==="function"?this._emit("tool_calls.function.arguments.delta",{name:(C=b.function)==null?void 0:C.name,index:A.index,arguments:b.function.arguments,parsed_arguments:b.function.parsed_arguments,arguments_delta:(S=(P=A.function)==null?void 0:P.arguments)!=null?S:""}):(b==null||b.type,void 0))}}},qm=function(n,r){var s,a,l;if(re(this,Ne,"m",bu).call(this,n).done_tool_calls.has(r))return;let i=(s=n.message.tool_calls)==null?void 0:s[r];if(!i)throw new Error("no tool call snapshot");if(!i.type)throw new Error("tool call snapshot missing `type`");if(i.type==="function"){let u=(l=(a=re(this,Wn,"f"))==null?void 0:a.tools)==null?void 0:l.find(c=>c.type==="function"&&c.function.name===i.function.name);this._emit("tool_calls.function.arguments.done",{name:i.function.name,index:r,arguments:i.function.arguments,parsed_arguments:No(u)?u.$parseRaw(i.function.arguments):u!=null&&u.function.strict?JSON.parse(i.function.arguments):null})}else i.type},Ym=function(n){var o,i;let r=re(this,Ne,"m",bu).call(this,n);if(n.message.content&&!r.content_done){r.content_done=!0;let s=re(this,Ne,"m",Qm).call(this);this._emit("content.done",{content:n.message.content,parsed:s?s.$parseRaw(n.message.content):null})}n.message.refusal&&!r.refusal_done&&(r.refusal_done=!0,this._emit("refusal.done",{refusal:n.message.refusal})),(o=n.logprobs)!=null&&o.content&&!r.logprobs_content_done&&(r.logprobs_content_done=!0,this._emit("logprobs.content.done",{content:n.logprobs.content})),(i=n.logprobs)!=null&&i.refusal&&!r.logprobs_refusal_done&&(r.logprobs_refusal_done=!0,this._emit("logprobs.refusal.done",{refusal:n.logprobs.refusal}))},Au=function(){if(this.ended)throw new $("stream has ended, this shouldn't happen");let n=re(this,Sr,"f");if(!n)throw new $("request ended without sending any chunks");return Hi(this,Sr,void 0,"f"),Hi(this,Ki,[],"f"),jT(n,re(this,Wn,"f"))},Qm=function(){var r;let n=(r=re(this,Wn,"f"))==null?void 0:r.response_format;return Fm(n)?n:null},Tv=function(n){var c,f,d,h,y,v;var r,o,i,s;let a=re(this,Sr,"f"),{choices:l,...u}=n;a?Object.assign(a,u):a=Hi(this,Sr,{...u,choices:[]},"f");for(let{delta:x,finish_reason:g,index:m,logprobs:p=null,...w}of n.choices){let C=a.choices[m];if(C||(C=a.choices[m]={finish_reason:g,index:m,message:{},logprobs:p,...w}),p)if(!C.logprobs)C.logprobs=Object.assign({},p);else{let{content:b,refusal:D,...L}=p;Object.assign(C.logprobs,L),b&&((c=(r=C.logprobs).content)!=null||(r.content=[]),C.logprobs.content.push(...b)),D&&((f=(o=C.logprobs).refusal)!=null||(o.refusal=[]),C.logprobs.refusal.push(...D))}if(g&&(C.finish_reason=g,re(this,Wn,"f")&&Vm(re(this,Wn,"f")))){if(g==="length")throw new To;if(g==="content_filter")throw new bo}if(Object.assign(C,w),!x)continue;let{content:P,refusal:S,function_call:E,role:T,tool_calls:R,...A}=x;if(Object.assign(C.message,A),S&&(C.message.refusal=(C.message.refusal||"")+S),T&&(C.message.role=T),E&&(C.message.function_call?(E.name&&(C.message.function_call.name=E.name),E.arguments&&((d=(i=C.message.function_call).arguments)!=null||(i.arguments=""),C.message.function_call.arguments+=E.arguments)):C.message.function_call=E),P&&(C.message.content=(C.message.content||"")+P,!C.message.refusal&&re(this,Ne,"m",Qm).call(this)&&(C.message.parsed=Km(C.message.content))),R){C.message.tool_calls||(C.message.tool_calls=[]);for(let{index:b,id:D,type:L,function:U,...K}of R){let B=(h=(s=C.message.tool_calls)[b])!=null?h:s[b]={};Object.assign(B,K),D&&(B.id=D),L&&(B.type=L),U&&((v=B.function)!=null||(B.function={name:(y=U.name)!=null?y:"",arguments:""})),U!=null&&U.name&&(B.function.name=U.name),U!=null&&U.arguments&&(B.function.arguments+=U.arguments,Sv(re(this,Wn,"f"),B)&&(B.function.parsed_arguments=Km(B.function.arguments)))}}}return a},Symbol.asyncIterator)](){let t=[],n=[],r=!1;return this.on("chunk",o=>{let i=n.shift();i?i.resolve(o):t.push(o)}),this.on("end",()=>{r=!0;for(let o of n)o.resolve(void 0);n.length=0}),this.on("abort",o=>{r=!0;for(let i of n)i.reject(o);n.length=0}),this.on("error",o=>{r=!0;for(let i of n)i.reject(o);n.length=0}),{next:async()=>t.length?{value:t.shift(),done:!1}:r?{value:void 0,done:!0}:new Promise((i,s)=>n.push({resolve:i,reject:s})).then(i=>i?{value:i,done:!1}:{value:void 0,done:!0}),return:async()=>(this.abort(),{value:void 0,done:!0})}}toReadableStream(){return new gn(this[Symbol.asyncIterator].bind(this),this.controller).toReadableStream()}};function jT(e,t){let{id:n,choices:r,created:o,model:i,system_fingerprint:s,...a}=e,l={...a,id:n,choices:r.map(({message:u,finish_reason:c,index:f,logprobs:d,...h})=>{var p,w,C;if(!c)throw new $(`missing finish_reason for choice ${f}`);let{content:y=null,function_call:v,tool_calls:x,...g}=u,m=u.role;if(!m)throw new $(`missing role for choice ${f}`);if(v){let{arguments:P,name:S}=v;if(P==null)throw new $(`missing function_call.arguments for choice ${f}`);if(!S)throw new $(`missing function_call.name for choice ${f}`);return{...h,message:{content:y,function_call:{arguments:P,name:S},role:m,refusal:(p=u.refusal)!=null?p:null},finish_reason:c,index:f,logprobs:d}}return x?{...h,index:f,finish_reason:c,logprobs:d,message:{...g,role:m,content:y,refusal:(w=u.refusal)!=null?w:null,tool_calls:x.map((P,S)=>{let{function:E,type:T,id:R,...A}=P,{arguments:b,name:D,...L}=E||{};if(R==null)throw new $(`missing choices[${f}].tool_calls[${S}].id
${_u(e)}`);if(T==null)throw new $(`missing choices[${f}].tool_calls[${S}].type
${_u(e)}`);if(D==null)throw new $(`missing choices[${f}].tool_calls[${S}].function.name
${_u(e)}`);if(b==null)throw new $(`missing choices[${f}].tool_calls[${S}].function.arguments
${_u(e)}`);return{...A,id:R,type:T,function:{...L,name:D,arguments:b}}})}}:{...h,message:{...g,content:y,role:m,refusal:(C=u.refusal)!=null?C:null},finish_reason:c,index:f,logprobs:d}}),created:o,model:i,object:"chat.completion",...s?{system_fingerprint:s}:{}};return Cv(l,t)}function _u(e){return JSON.stringify(e)}var Da=class e extends Gi{static fromReadableStream(t){let n=new e(null);return n._run(()=>n._fromReadableStream(t)),n}static runFunctions(t,n,r){let o=new e(null),i={...r,headers:{...r==null?void 0:r.headers,"X-Stainless-Helper-Method":"runFunctions"}};return o._run(()=>o._runFunctions(t,n,i)),o}static runTools(t,n,r){let o=new e(n),i={...r,headers:{...r==null?void 0:r.headers,"X-Stainless-Helper-Method":"runTools"}};return o._run(()=>o._runTools(t,n,i)),o}};var La=class extends M{parse(t,n){return Pv(t.tools),this._client.chat.completions.create(t,{...n,headers:{...n==null?void 0:n.headers,"X-Stainless-Helper-Method":"beta.chat.completions.parse"}})._thenUnwrap(r=>Oa(r,t))}runFunctions(t,n){return t.stream?Da.runFunctions(this._client,t,n):Na.runFunctions(this._client,t,n)}runTools(t,n){return t.stream?Da.runTools(this._client,t,n):Na.runTools(this._client,t,n)}stream(t,n){return Gi.createChatCompletion(this._client,t,n)}};var Do=class extends M{constructor(){super(...arguments),this.completions=new La(this._client)}};(function(e){e.Completions=La})(Do||(Do={}));var F=function(e,t,n,r){if(n==="a"&&!r)throw new TypeError("Private accessor was defined without a getter");if(typeof t=="function"?e!==t||!r:!t.has(e))throw new TypeError("Cannot read private member from an object whose class did not declare it");return n==="m"?r:n==="a"?r.call(e):r?r.value:t.get(e)},It=function(e,t,n,r,o){if(r==="m")throw new TypeError("Private method is not writable");if(r==="a"&&!o)throw new TypeError("Private accessor was defined without a setter");if(typeof t=="function"?e!==t||!o:!t.has(e))throw new TypeError("Cannot write private member to an object whose class did not declare it");return r==="a"?o.call(e,n):o?o.value=n:t.set(e,n),n},ze,Jm,wn,Iu,nn,Fo,Xi,Lo,Ou,kt,ku,Mu,Ba,Fa,Va,bv,Av,_v,Iv,kv,Mv,Ov,xn=class e extends zi{constructor(){super(...arguments),ze.add(this),Jm.set(this,[]),wn.set(this,{}),Iu.set(this,{}),nn.set(this,void 0),Fo.set(this,void 0),Xi.set(this,void 0),Lo.set(this,void 0),Ou.set(this,void 0),kt.set(this,void 0),ku.set(this,void 0),Mu.set(this,void 0),Ba.set(this,void 0)}[(Jm=new WeakMap,wn=new WeakMap,Iu=new WeakMap,nn=new WeakMap,Fo=new WeakMap,Xi=new WeakMap,Lo=new WeakMap,Ou=new WeakMap,kt=new WeakMap,ku=new WeakMap,Mu=new WeakMap,Ba=new WeakMap,ze=new WeakSet,Symbol.asyncIterator)](){let t=[],n=[],r=!1;return this.on("event",o=>{let i=n.shift();i?i.resolve(o):t.push(o)}),this.on("end",()=>{r=!0;for(let o of n)o.resolve(void 0);n.length=0}),this.on("abort",o=>{r=!0;for(let i of n)i.reject(o);n.length=0}),this.on("error",o=>{r=!0;for(let i of n)i.reject(o);n.length=0}),{next:async()=>t.length?{value:t.shift(),done:!1}:r?{value:void 0,done:!0}:new Promise((i,s)=>n.push({resolve:i,reject:s})).then(i=>i?{value:i,done:!1}:{value:void 0,done:!0}),return:async()=>(this.abort(),{value:void 0,done:!0})}}static fromReadableStream(t){let n=new e;return n._run(()=>n._fromReadableStream(t)),n}async _fromReadableStream(t,n){var i;let r=n==null?void 0:n.signal;r&&(r.aborted&&this.controller.abort(),r.addEventListener("abort",()=>this.controller.abort())),this._connected();let o=gn.fromReadableStream(t,this.controller);for await(let s of o)F(this,ze,"m",Fa).call(this,s);if((i=o.controller.signal)!=null&&i.aborted)throw new Me;return this._addRun(F(this,ze,"m",Va).call(this))}toReadableStream(){return new gn(this[Symbol.asyncIterator].bind(this),this.controller).toReadableStream()}static createToolAssistantStream(t,n,r,o,i){let s=new e;return s._run(()=>s._runToolAssistantStream(t,n,r,o,{...i,headers:{...i==null?void 0:i.headers,"X-Stainless-Helper-Method":"stream"}})),s}async _createToolAssistantStream(t,n,r,o,i){var u;let s=i==null?void 0:i.signal;s&&(s.aborted&&this.controller.abort(),s.addEventListener("abort",()=>this.controller.abort()));let a={...o,stream:!0},l=await t.submitToolOutputs(n,r,a,{...i,signal:this.controller.signal});this._connected();for await(let c of l)F(this,ze,"m",Fa).call(this,c);if((u=l.controller.signal)!=null&&u.aborted)throw new Me;return this._addRun(F(this,ze,"m",Va).call(this))}static createThreadAssistantStream(t,n,r){let o=new e;return o._run(()=>o._threadAssistantStream(t,n,{...r,headers:{...r==null?void 0:r.headers,"X-Stainless-Helper-Method":"stream"}})),o}static createAssistantStream(t,n,r,o){let i=new e;return i._run(()=>i._runAssistantStream(t,n,r,{...o,headers:{...o==null?void 0:o.headers,"X-Stainless-Helper-Method":"stream"}})),i}currentEvent(){return F(this,ku,"f")}currentRun(){return F(this,Mu,"f")}currentMessageSnapshot(){return F(this,nn,"f")}currentRunStepSnapshot(){return F(this,Ba,"f")}async finalRunSteps(){return await this.done(),Object.values(F(this,wn,"f"))}async finalMessages(){return await this.done(),Object.values(F(this,Iu,"f"))}async finalRun(){if(await this.done(),!F(this,Fo,"f"))throw Error("Final run was not received.");return F(this,Fo,"f")}async _createThreadAssistantStream(t,n,r){var a;let o=r==null?void 0:r.signal;o&&(o.aborted&&this.controller.abort(),o.addEventListener("abort",()=>this.controller.abort()));let i={...n,stream:!0},s=await t.createAndRun(i,{...r,signal:this.controller.signal});this._connected();for await(let l of s)F(this,ze,"m",Fa).call(this,l);if((a=s.controller.signal)!=null&&a.aborted)throw new Me;return this._addRun(F(this,ze,"m",Va).call(this))}async _createAssistantStream(t,n,r,o){var l;let i=o==null?void 0:o.signal;i&&(i.aborted&&this.controller.abort(),i.addEventListener("abort",()=>this.controller.abort()));let s={...r,stream:!0},a=await t.create(n,s,{...o,signal:this.controller.signal});this._connected();for await(let u of a)F(this,ze,"m",Fa).call(this,u);if((l=a.controller.signal)!=null&&l.aborted)throw new Me;return this._addRun(F(this,ze,"m",Va).call(this))}static accumulateDelta(t,n){for(let[r,o]of Object.entries(n)){if(!t.hasOwnProperty(r)){t[r]=o;continue}let i=t[r];if(i==null){t[r]=o;continue}if(r==="index"||r==="type"){t[r]=o;continue}if(typeof i=="string"&&typeof o=="string")i+=o;else if(typeof i=="number"&&typeof o=="number")i+=o;else if(Aa(i)&&Aa(o))i=this.accumulateDelta(i,o);else if(Array.isArray(i)&&Array.isArray(o)){if(i.every(s=>typeof s=="string"||typeof s=="number")){i.push(...o);continue}for(let s of o){if(!Aa(s))throw new Error(`Expected array delta entry to be an object but got: ${s}`);let a=s.index;if(a==null)throw console.error(s),new Error("Expected array delta entry to have an `index` property");if(typeof a!="number")throw new Error(`Expected array delta entry \`index\` property to be a number but got ${a}`);let l=i[a];l==null?i.push(s):i[a]=this.accumulateDelta(l,s)}continue}else throw Error(`Unhandled record type: ${r}, deltaValue: ${o}, accValue: ${i}`);t[r]=i}return t}_addRun(t){return t}async _threadAssistantStream(t,n,r){return await this._createThreadAssistantStream(n,t,r)}async _runAssistantStream(t,n,r,o){return await this._createAssistantStream(n,t,r,o)}async _runToolAssistantStream(t,n,r,o,i){return await this._createToolAssistantStream(r,t,n,o,i)}};Fa=function(t){if(!this.ended)switch(It(this,ku,t,"f"),F(this,ze,"m",_v).call(this,t),t.event){case"thread.created":break;case"thread.run.created":case"thread.run.queued":case"thread.run.in_progress":case"thread.run.requires_action":case"thread.run.completed":case"thread.run.failed":case"thread.run.cancelling":case"thread.run.cancelled":case"thread.run.expired":F(this,ze,"m",Ov).call(this,t);break;case"thread.run.step.created":case"thread.run.step.in_progress":case"thread.run.step.delta":case"thread.run.step.completed":case"thread.run.step.failed":case"thread.run.step.cancelled":case"thread.run.step.expired":F(this,ze,"m",Av).call(this,t);break;case"thread.message.created":case"thread.message.in_progress":case"thread.message.delta":case"thread.message.completed":case"thread.message.incomplete":F(this,ze,"m",bv).call(this,t);break;case"error":throw new Error("Encountered an error event in event processing - errors should be processed earlier")}},Va=function(){if(this.ended)throw new $("stream has ended, this shouldn't happen");if(!F(this,Fo,"f"))throw Error("Final run has not been received");return F(this,Fo,"f")},bv=function(t){let[n,r]=F(this,ze,"m",kv).call(this,t,F(this,nn,"f"));It(this,nn,n,"f"),F(this,Iu,"f")[n.id]=n;for(let o of r){let i=n.content[o.index];(i==null?void 0:i.type)=="text"&&this._emit("textCreated",i.text)}switch(t.event){case"thread.message.created":this._emit("messageCreated",t.data);break;case"thread.message.in_progress":break;case"thread.message.delta":if(this._emit("messageDelta",t.data.delta,n),t.data.delta.content)for(let o of t.data.delta.content){if(o.type=="text"&&o.text){let i=o.text,s=n.content[o.index];if(s&&s.type=="text")this._emit("textDelta",i,s.text);else throw Error("The snapshot associated with this text delta is not text or missing")}if(o.index!=F(this,Xi,"f")){if(F(this,Lo,"f"))switch(F(this,Lo,"f").type){case"text":this._emit("textDone",F(this,Lo,"f").text,F(this,nn,"f"));break;case"image_file":this._emit("imageFileDone",F(this,Lo,"f").image_file,F(this,nn,"f"));break}It(this,Xi,o.index,"f")}It(this,Lo,n.content[o.index],"f")}break;case"thread.message.completed":case"thread.message.incomplete":if(F(this,Xi,"f")!==void 0){let o=t.data.content[F(this,Xi,"f")];if(o)switch(o.type){case"image_file":this._emit("imageFileDone",o.image_file,F(this,nn,"f"));break;case"text":this._emit("textDone",o.text,F(this,nn,"f"));break}}F(this,nn,"f")&&this._emit("messageDone",t.data),It(this,nn,void 0,"f")}},Av=function(t){let n=F(this,ze,"m",Iv).call(this,t);switch(It(this,Ba,n,"f"),t.event){case"thread.run.step.created":this._emit("runStepCreated",t.data);break;case"thread.run.step.delta":let r=t.data.delta;if(r.step_details&&r.step_details.type=="tool_calls"&&r.step_details.tool_calls&&n.step_details.type=="tool_calls")for(let i of r.step_details.tool_calls)i.index==F(this,Ou,"f")?this._emit("toolCallDelta",i,n.step_details.tool_calls[i.index]):(F(this,kt,"f")&&this._emit("toolCallDone",F(this,kt,"f")),It(this,Ou,i.index,"f"),It(this,kt,n.step_details.tool_calls[i.index],"f"),F(this,kt,"f")&&this._emit("toolCallCreated",F(this,kt,"f")));this._emit("runStepDelta",t.data.delta,n);break;case"thread.run.step.completed":case"thread.run.step.failed":case"thread.run.step.cancelled":case"thread.run.step.expired":It(this,Ba,void 0,"f"),t.data.step_details.type=="tool_calls"&&F(this,kt,"f")&&(this._emit("toolCallDone",F(this,kt,"f")),It(this,kt,void 0,"f")),this._emit("runStepDone",t.data,n);break;case"thread.run.step.in_progress":break}},_v=function(t){F(this,Jm,"f").push(t),this._emit("event",t)},Iv=function(t){switch(t.event){case"thread.run.step.created":return F(this,wn,"f")[t.data.id]=t.data,t.data;case"thread.run.step.delta":let n=F(this,wn,"f")[t.data.id];if(!n)throw Error("Received a RunStepDelta before creation of a snapshot");let r=t.data;if(r.delta){let o=xn.accumulateDelta(n,r.delta);F(this,wn,"f")[t.data.id]=o}return F(this,wn,"f")[t.data.id];case"thread.run.step.completed":case"thread.run.step.failed":case"thread.run.step.cancelled":case"thread.run.step.expired":case"thread.run.step.in_progress":F(this,wn,"f")[t.data.id]=t.data;break}if(F(this,wn,"f")[t.data.id])return F(this,wn,"f")[t.data.id];throw new Error("No snapshot available")},kv=function(t,n){let r=[];switch(t.event){case"thread.message.created":return[t.data,r];case"thread.message.delta":if(!n)throw Error("Received a delta with no existing snapshot (there should be one from message creation)");let o=t.data;if(o.delta.content)for(let i of o.delta.content)if(i.index in n.content){let s=n.content[i.index];n.content[i.index]=F(this,ze,"m",Mv).call(this,i,s)}else n.content[i.index]=i,r.push(i);return[n,r];case"thread.message.in_progress":case"thread.message.completed":case"thread.message.incomplete":if(n)return[n,r];throw Error("Received thread message event with no existing snapshot")}throw Error("Tried to accumulate a non-message event")},Mv=function(t,n){return xn.accumulateDelta(n,t)},Ov=function(t){switch(It(this,Mu,t.data,"f"),t.event){case"thread.run.created":break;case"thread.run.queued":break;case"thread.run.in_progress":break;case"thread.run.requires_action":case"thread.run.cancelled":case"thread.run.failed":case"thread.run.completed":case"thread.run.expired":It(this,Fo,t.data,"f"),F(this,kt,"f")&&(this._emit("toolCallDone",F(this,kt,"f")),It(this,kt,void 0,"f"));break;case"thread.run.cancelling":break}};var Vo=class extends M{create(t,n,r){return this._client.post(`/threads/${t}/messages`,{body:n,...r,headers:{"OpenAI-Beta":"assistants=v2",...r==null?void 0:r.headers}})}retrieve(t,n,r){return this._client.get(`/threads/${t}/messages/${n}`,{...r,headers:{"OpenAI-Beta":"assistants=v2",...r==null?void 0:r.headers}})}update(t,n,r,o){return this._client.post(`/threads/${t}/messages/${n}`,{body:r,...o,headers:{"OpenAI-Beta":"assistants=v2",...o==null?void 0:o.headers}})}list(t,n={},r){return ie(n)?this.list(t,{},n):this._client.getAPIList(`/threads/${t}/messages`,Bo,{query:n,...r,headers:{"OpenAI-Beta":"assistants=v2",...r==null?void 0:r.headers}})}del(t,n,r){return this._client.delete(`/threads/${t}/messages/${n}`,{...r,headers:{"OpenAI-Beta":"assistants=v2",...r==null?void 0:r.headers}})}},Bo=class extends pe{};(function(e){e.MessagesPage=Bo})(Vo||(Vo={}));var jo=class extends M{retrieve(t,n,r,o={},i){return ie(o)?this.retrieve(t,n,r,{},o):this._client.get(`/threads/${t}/runs/${n}/steps/${r}`,{query:o,...i,headers:{"OpenAI-Beta":"assistants=v2",...i==null?void 0:i.headers}})}list(t,n,r={},o){return ie(r)?this.list(t,n,{},r):this._client.getAPIList(`/threads/${t}/runs/${n}/steps`,Uo,{query:r,...o,headers:{"OpenAI-Beta":"assistants=v2",...o==null?void 0:o.headers}})}},Uo=class extends pe{};(function(e){e.RunStepsPage=Uo})(jo||(jo={}));var $o=class extends M{constructor(){super(...arguments),this.steps=new jo(this._client)}create(t,n,r){var s;let{include:o,...i}=n;return this._client.post(`/threads/${t}/runs`,{query:{include:o},body:i,...r,headers:{"OpenAI-Beta":"assistants=v2",...r==null?void 0:r.headers},stream:(s=n.stream)!=null?s:!1})}retrieve(t,n,r){return this._client.get(`/threads/${t}/runs/${n}`,{...r,headers:{"OpenAI-Beta":"assistants=v2",...r==null?void 0:r.headers}})}update(t,n,r,o){return this._client.post(`/threads/${t}/runs/${n}`,{body:r,...o,headers:{"OpenAI-Beta":"assistants=v2",...o==null?void 0:o.headers}})}list(t,n={},r){return ie(n)?this.list(t,{},n):this._client.getAPIList(`/threads/${t}/runs`,zo,{query:n,...r,headers:{"OpenAI-Beta":"assistants=v2",...r==null?void 0:r.headers}})}cancel(t,n,r){return this._client.post(`/threads/${t}/runs/${n}/cancel`,{...r,headers:{"OpenAI-Beta":"assistants=v2",...r==null?void 0:r.headers}})}async createAndPoll(t,n,r){let o=await this.create(t,n,r);return await this.poll(t,o.id,r)}createAndStream(t,n,r){return xn.createAssistantStream(t,this._client.beta.threads.runs,n,r)}async poll(t,n,r){let o={...r==null?void 0:r.headers,"X-Stainless-Poll-Helper":"true"};for(r!=null&&r.pollIntervalMs&&(o["X-Stainless-Custom-Poll-Interval"]=r.pollIntervalMs.toString());;){let{data:i,response:s}=await this.retrieve(t,n,{...r,headers:{...r==null?void 0:r.headers,...o}}).withResponse();switch(i.status){case"queued":case"in_progress":case"cancelling":let a=5e3;if(r!=null&&r.pollIntervalMs)a=r.pollIntervalMs;else{let l=s.headers.get("openai-poll-after-ms");if(l){let u=parseInt(l);isNaN(u)||(a=u)}}await jn(a);break;case"requires_action":case"incomplete":case"cancelled":case"completed":case"failed":case"expired":return i}}}stream(t,n,r){return xn.createAssistantStream(t,this._client.beta.threads.runs,n,r)}submitToolOutputs(t,n,r,o){var i;return this._client.post(`/threads/${t}/runs/${n}/submit_tool_outputs`,{body:r,...o,headers:{"OpenAI-Beta":"assistants=v2",...o==null?void 0:o.headers},stream:(i=r.stream)!=null?i:!1})}async submitToolOutputsAndPoll(t,n,r,o){let i=await this.submitToolOutputs(t,n,r,o);return await this.poll(t,i.id,o)}submitToolOutputsStream(t,n,r,o){return xn.createToolAssistantStream(t,n,this._client.beta.threads.runs,r,o)}},zo=class extends pe{};(function(e){e.RunsPage=zo,e.Steps=jo,e.RunStepsPage=Uo})($o||($o={}));var Wo=class extends M{constructor(){super(...arguments),this.runs=new $o(this._client),this.messages=new Vo(this._client)}create(t={},n){return ie(t)?this.create({},t):this._client.post("/threads",{body:t,...n,headers:{"OpenAI-Beta":"assistants=v2",...n==null?void 0:n.headers}})}retrieve(t,n){return this._client.get(`/threads/${t}`,{...n,headers:{"OpenAI-Beta":"assistants=v2",...n==null?void 0:n.headers}})}update(t,n,r){return this._client.post(`/threads/${t}`,{body:n,...r,headers:{"OpenAI-Beta":"assistants=v2",...r==null?void 0:r.headers}})}del(t,n){return this._client.delete(`/threads/${t}`,{...n,headers:{"OpenAI-Beta":"assistants=v2",...n==null?void 0:n.headers}})}createAndRun(t,n){var r;return this._client.post("/threads/runs",{body:t,...n,headers:{"OpenAI-Beta":"assistants=v2",...n==null?void 0:n.headers},stream:(r=t.stream)!=null?r:!1})}async createAndRunPoll(t,n){let r=await this.createAndRun(t,n);return await this.runs.poll(r.thread_id,r.id,n)}createAndRunStream(t,n){return xn.createThreadAssistantStream(t,this._client.beta.threads,n)}};(function(e){e.Runs=$o,e.RunsPage=zo,e.Messages=Vo,e.MessagesPage=Bo})(Wo||(Wo={}));var Fv=async e=>{let t=await Promise.allSettled(e),n=t.filter(o=>o.status==="rejected");if(n.length){for(let o of n)console.error(o.reason);throw new Error(`${n.length} promise(s) failed - see the above errors`)}let r=[];for(let o of t)o.status==="fulfilled"&&r.push(o.value);return r};var Ho=class extends M{create(t,n,r){return this._client.post(`/vector_stores/${t}/files`,{body:n,...r,headers:{"OpenAI-Beta":"assistants=v2",...r==null?void 0:r.headers}})}retrieve(t,n,r){return this._client.get(`/vector_stores/${t}/files/${n}`,{...r,headers:{"OpenAI-Beta":"assistants=v2",...r==null?void 0:r.headers}})}list(t,n={},r){return ie(n)?this.list(t,{},n):this._client.getAPIList(`/vector_stores/${t}/files`,Hn,{query:n,...r,headers:{"OpenAI-Beta":"assistants=v2",...r==null?void 0:r.headers}})}del(t,n,r){return this._client.delete(`/vector_stores/${t}/files/${n}`,{...r,headers:{"OpenAI-Beta":"assistants=v2",...r==null?void 0:r.headers}})}async createAndPoll(t,n,r){let o=await this.create(t,n,r);return await this.poll(t,o.id,r)}async poll(t,n,r){let o={...r==null?void 0:r.headers,"X-Stainless-Poll-Helper":"true"};for(r!=null&&r.pollIntervalMs&&(o["X-Stainless-Custom-Poll-Interval"]=r.pollIntervalMs.toString());;){let i=await this.retrieve(t,n,{...r,headers:o}).withResponse(),s=i.data;switch(s.status){case"in_progress":let a=5e3;if(r!=null&&r.pollIntervalMs)a=r.pollIntervalMs;else{let l=i.response.headers.get("openai-poll-after-ms");if(l){let u=parseInt(l);isNaN(u)||(a=u)}}await jn(a);break;case"failed":case"completed":return s}}}async upload(t,n,r){let o=await this._client.files.create({file:n,purpose:"assistants"},r);return this.create(t,{file_id:o.id},r)}async uploadAndPoll(t,n,r){let o=await this.upload(t,n,r);return await this.poll(t,o.id,r)}},Hn=class extends pe{};(function(e){e.VectorStoreFilesPage=Hn})(Ho||(Ho={}));var Ko=class extends M{create(t,n,r){return this._client.post(`/vector_stores/${t}/file_batches`,{body:n,...r,headers:{"OpenAI-Beta":"assistants=v2",...r==null?void 0:r.headers}})}retrieve(t,n,r){return this._client.get(`/vector_stores/${t}/file_batches/${n}`,{...r,headers:{"OpenAI-Beta":"assistants=v2",...r==null?void 0:r.headers}})}cancel(t,n,r){return this._client.post(`/vector_stores/${t}/file_batches/${n}/cancel`,{...r,headers:{"OpenAI-Beta":"assistants=v2",...r==null?void 0:r.headers}})}async createAndPoll(t,n,r){let o=await this.create(t,n);return await this.poll(t,o.id,r)}listFiles(t,n,r={},o){return ie(r)?this.listFiles(t,n,{},r):this._client.getAPIList(`/vector_stores/${t}/file_batches/${n}/files`,Hn,{query:r,...o,headers:{"OpenAI-Beta":"assistants=v2",...o==null?void 0:o.headers}})}async poll(t,n,r){let o={...r==null?void 0:r.headers,"X-Stainless-Poll-Helper":"true"};for(r!=null&&r.pollIntervalMs&&(o["X-Stainless-Custom-Poll-Interval"]=r.pollIntervalMs.toString());;){let{data:i,response:s}=await this.retrieve(t,n,{...r,headers:o}).withResponse();switch(i.status){case"in_progress":let a=5e3;if(r!=null&&r.pollIntervalMs)a=r.pollIntervalMs;else{let l=s.headers.get("openai-poll-after-ms");if(l){let u=parseInt(l);isNaN(u)||(a=u)}}await jn(a);break;case"failed":case"cancelled":case"completed":return i}}}async uploadAndPoll(t,{files:n,fileIds:r=[]},o){var d;if(n==null||n.length==0)throw new Error("No `files` provided to process. If you've already uploaded files you should use `.createAndPoll()` instead");let i=(d=o==null?void 0:o.maxConcurrency)!=null?d:5,s=Math.min(i,n.length),a=this._client,l=n.values(),u=[...r];async function c(h){for(let y of h){let v=await a.files.create({file:y,purpose:"assistants"},o);u.push(v.id)}}let f=Array(s).fill(l).map(c);return await Fv(f),await this.createAndPoll(t,{file_ids:u})}};Ko||(Ko={});var Go=class extends M{constructor(){super(...arguments),this.files=new Ho(this._client),this.fileBatches=new Ko(this._client)}create(t,n){return this._client.post("/vector_stores",{body:t,...n,headers:{"OpenAI-Beta":"assistants=v2",...n==null?void 0:n.headers}})}retrieve(t,n){return this._client.get(`/vector_stores/${t}`,{...n,headers:{"OpenAI-Beta":"assistants=v2",...n==null?void 0:n.headers}})}update(t,n,r){return this._client.post(`/vector_stores/${t}`,{body:n,...r,headers:{"OpenAI-Beta":"assistants=v2",...r==null?void 0:r.headers}})}list(t={},n){return ie(t)?this.list({},t):this._client.getAPIList("/vector_stores",Xo,{query:t,...n,headers:{"OpenAI-Beta":"assistants=v2",...n==null?void 0:n.headers}})}del(t,n){return this._client.delete(`/vector_stores/${t}`,{...n,headers:{"OpenAI-Beta":"assistants=v2",...n==null?void 0:n.headers}})}},Xo=class extends pe{};(function(e){e.VectorStoresPage=Xo,e.Files=Ho,e.VectorStoreFilesPage=Hn,e.FileBatches=Ko})(Go||(Go={}));var Pr=class extends M{constructor(){super(...arguments),this.vectorStores=new Go(this._client),this.chat=new Do(this._client),this.assistants=new Mo(this._client),this.threads=new Wo(this._client)}};(function(e){e.VectorStores=Go,e.VectorStoresPage=Xo,e.Chat=Do,e.Assistants=Mo,e.AssistantsPage=Oo,e.Threads=Wo})(Pr||(Pr={}));var Er=class extends M{create(t,n){var r;return this._client.post("/completions",{body:t,...n,stream:(r=t.stream)!=null?r:!1})}};Er||(Er={});var Rr=class extends M{create(t,n){return this._client.post("/embeddings",{body:t,...n})}};Rr||(Rr={});var Tr=class extends M{create(t,n){return this._client.post("/files",Wt({body:t,...n}))}retrieve(t,n){return this._client.get(`/files/${t}`,n)}list(t={},n){return ie(t)?this.list({},t):this._client.getAPIList("/files",br,{query:t,...n})}del(t,n){return this._client.delete(`/files/${t}`,n)}content(t,n){return this._client.get(`/files/${t}/content`,{...n,__binaryResponse:!0})}retrieveContent(t,n){return this._client.get(`/files/${t}/content`,{...n,headers:{Accept:"application/json",...n==null?void 0:n.headers}})}async waitForProcessing(t,{pollInterval:n=5e3,maxWait:r=30*60*1e3}={}){let o=new Set(["processed","error","deleted"]),i=Date.now(),s=await this.retrieve(t);for(;!s.status||!o.has(s.status);)if(await jn(n),s=await this.retrieve(t),Date.now()-i>r)throw new $n({message:`Giving up on waiting for file ${t} to finish processing after ${r} milliseconds.`});return s}},br=class extends gr{};(function(e){e.FileObjectsPage=br})(Tr||(Tr={}));var qo=class extends M{list(t,n={},r){return ie(n)?this.list(t,{},n):this._client.getAPIList(`/fine_tuning/jobs/${t}/checkpoints`,Yo,{query:n,...r})}},Yo=class extends pe{};(function(e){e.FineTuningJobCheckpointsPage=Yo})(qo||(qo={}));var Qo=class extends M{constructor(){super(...arguments),this.checkpoints=new qo(this._client)}create(t,n){return this._client.post("/fine_tuning/jobs",{body:t,...n})}retrieve(t,n){return this._client.get(`/fine_tuning/jobs/${t}`,n)}list(t={},n){return ie(t)?this.list({},t):this._client.getAPIList("/fine_tuning/jobs",Jo,{query:t,...n})}cancel(t,n){return this._client.post(`/fine_tuning/jobs/${t}/cancel`,n)}listEvents(t,n={},r){return ie(n)?this.listEvents(t,{},n):this._client.getAPIList(`/fine_tuning/jobs/${t}/events`,Zo,{query:n,...r})}},Jo=class extends pe{},Zo=class extends pe{};(function(e){e.FineTuningJobsPage=Jo,e.FineTuningJobEventsPage=Zo,e.Checkpoints=qo,e.FineTuningJobCheckpointsPage=Yo})(Qo||(Qo={}));var Ar=class extends M{constructor(){super(...arguments),this.jobs=new Qo(this._client)}};(function(e){e.Jobs=Qo,e.FineTuningJobsPage=Jo,e.FineTuningJobEventsPage=Zo})(Ar||(Ar={}));var _r=class extends M{createVariation(t,n){return this._client.post("/images/variations",Wt({body:t,...n}))}edit(t,n){return this._client.post("/images/edits",Wt({body:t,...n}))}generate(t,n){return this._client.post("/images/generations",{body:t,...n})}};_r||(_r={});var Ir=class extends M{retrieve(t,n){return this._client.get(`/models/${t}`,n)}list(t){return this._client.getAPIList("/models",kr,t)}del(t,n){return this._client.delete(`/models/${t}`,n)}},kr=class extends gr{};(function(e){e.ModelsPage=kr})(Ir||(Ir={}));var Mr=class extends M{create(t,n){return this._client.post("/moderations",{body:t,...n})}};Mr||(Mr={});var ei=class extends M{create(t,n,r){return this._client.post(`/uploads/${t}/parts`,Wt({body:n,...r}))}};ei||(ei={});var Or=class extends M{constructor(){super(...arguments),this.parts=new ei(this._client)}create(t,n){return this._client.post("/uploads",{body:t,...n})}cancel(t,n){return this._client.post(`/uploads/${t}/cancel`,n)}complete(t,n,r){return this._client.post(`/uploads/${t}/complete`,{body:n,...r})}};(function(e){e.Parts=ei})(Or||(Or={}));var $v,ge=class extends yu{constructor({baseURL:t=ba("OPENAI_BASE_URL"),apiKey:n=ba("OPENAI_API_KEY"),organization:r=(s=>(s=ba("OPENAI_ORG_ID"))!=null?s:null)(),project:o=(a=>(a=ba("OPENAI_PROJECT_ID"))!=null?a:null)(),...i}={}){var u;if(n===void 0)throw new $("The OPENAI_API_KEY environment variable is missing or empty; either provide it, or instantiate the OpenAI client with an apiKey option, like new OpenAI({ apiKey: 'My API Key' }).");let l={apiKey:n,organization:r,project:o,...i,baseURL:t||"https://api.openai.com/v1"};if(!l.dangerouslyAllowBrowser&&dv())throw new $(`It looks like you're running in a browser-like environment.

This is disabled by default, as it risks exposing your secret API credentials to attackers.
If you understand the risks and have appropriate mitigations in place,
you can set the \`dangerouslyAllowBrowser\` option to \`true\`, e.g.,

new OpenAI({ apiKey, dangerouslyAllowBrowser: true });

https://help.openai.com/en/articles/5112595-best-practices-for-api-key-safety
`);super({baseURL:l.baseURL,timeout:(u=l.timeout)!=null?u:6e5,httpAgent:l.httpAgent,maxRetries:l.maxRetries,fetch:l.fetch}),this.completions=new Er(this),this.chat=new yr(this),this.embeddings=new Rr(this),this.files=new Tr(this),this.images=new _r(this),this.audio=new vr(this),this.moderations=new Mr(this),this.models=new Ir(this),this.fineTuning=new Ar(this),this.beta=new Pr(this),this.batches=new wr(this),this.uploads=new Or(this),this._options=l,this.apiKey=n,this.organization=r,this.project=o}defaultQuery(){return this._options.defaultQuery}defaultHeaders(t){return{...super.defaultHeaders(t),"OpenAI-Organization":this.organization,"OpenAI-Project":this.project,...this._options.defaultHeaders}}authHeaders(t){return{Authorization:`Bearer ${this.apiKey}`}}stringifyQuery(t){return Mm(t,{arrayFormat:"brackets"})}};$v=ge;ge.OpenAI=$v;ge.DEFAULT_TIMEOUT=6e5;ge.OpenAIError=$;ge.APIError=Te;ge.APIConnectionError=Un;ge.APIConnectionTimeoutError=$n;ge.APIUserAbortError=Me;ge.NotFoundError=Fi;ge.ConflictError=Vi;ge.RateLimitError=ji;ge.BadRequestError=Ni;ge.AuthenticationError=Di;ge.InternalServerError=Ui;ge.PermissionDeniedError=Li;ge.UnprocessableEntityError=Bi;ge.toFile=Em;ge.fileFromPath=du;var{OpenAIError:QN,APIError:JN,APIConnectionError:ZN,APIConnectionTimeoutError:eD,APIUserAbortError:tD,NotFoundError:nD,ConflictError:rD,RateLimitError:oD,BadRequestError:iD,AuthenticationError:sD,InternalServerError:aD,PermissionDeniedError:lD,UnprocessableEntityError:uD}=Am;(function(e){e.Page=gr,e.CursorPage=pe,e.Completions=Er,e.Chat=yr,e.Embeddings=Rr,e.Files=Tr,e.FileObjectsPage=br,e.Images=_r,e.Audio=vr,e.Moderations=Mr,e.Models=Ir,e.ModelsPage=kr,e.FineTuning=Ar,e.Beta=Pr,e.Batches=wr,e.BatchesPage=xr,e.Uploads=Or})(ge||(ge={}));var zv=ge;var Nu=class{constructor(t){this.client=new zv({apiKey:t,dangerouslyAllowBrowser:!0})}async sendMessageStream(t,n,r){let o=t.map(i=>({role:i.author.role,content:i.content.parts.join("")}));try{return await this.client.chat.completions.create({model:n,messages:o,stream:!0},{signal:r})}catch(i){throw i.name==="AbortError"?(console.error("Request aborted"),new Error("Request was aborted")):(console.error("Error in sendMessageStream:",i),new Error("Failed to send message stream to OpenAI API"))}}};function Wv(e,t){let n=0,r=null;return function(...o){let i=Date.now();i-n>=t?(n=i,e.apply(this,o)):(r&&clearTimeout(r),r=setTimeout(()=>{n=Date.now(),e.apply(this,o)},t-(i-n)))}}async function Hv(e,t){for(let n of t)await e.exists(n)||await e.mkdir(n)}async function Zm(e,t){try{let n=await e.read(t);return JSON.parse(n)}catch(n){if(n.message.includes("ENOENT"))return null;throw console.error(`Error reading file ${t}:`,n),n}}async function ep(e,t,n){try{let r=JSON.stringify(n,null,4);await e.write(t,r)}catch(r){throw console.error(`Error writing to file ${t}:`,r),r}}var Cn=I(require("path"));var We=[];for(Du=0;Du<256;++Du)We.push((Du+256).toString(16).slice(1));var Du;function Kv(e,t=0){return(We[e[t+0]]+We[e[t+1]]+We[e[t+2]]+We[e[t+3]]+"-"+We[e[t+4]]+We[e[t+5]]+"-"+We[e[t+6]]+We[e[t+7]]+"-"+We[e[t+8]]+We[e[t+9]]+"-"+We[e[t+10]]+We[e[t+11]]+We[e[t+12]]+We[e[t+13]]+We[e[t+14]]+We[e[t+15]]).toLowerCase()}var Lu,qT=new Uint8Array(16);function tp(){if(!Lu&&(Lu=typeof crypto!="undefined"&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto),!Lu))throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return Lu(qT)}var YT=typeof crypto!="undefined"&&crypto.randomUUID&&crypto.randomUUID.bind(crypto),np={randomUUID:YT};function QT(e,t,n){if(np.randomUUID&&!t&&!e)return np.randomUUID();e=e||{};var r=e.random||(e.rng||tp)();if(r[6]=r[6]&15|64,r[8]=r[8]&63|128,t){n=n||0;for(var o=0;o<16;++o)t[n+o]=r[o];return t}return Kv(r)}var Nr=QT;var Gv=async(e,t,n,r,o)=>{let i=Cn.join(r,"conversations"),s=Nr(),a=Date.now()/1e3,l={title:o,version:"1.0.1",create_time:a,update_time:a,mapping:{},moderation_results:[],current_node:"",plugin_ids:null,conversation_id:s,conversation_template_id:null,gizmo_id:null,is_archived:!1,safe_urls:[],default_model_slug:t,conversation_origin:null,voice:null,async_status:null,id:s},u=Nr(),c={id:u,message:{id:u,author:{role:"system",name:null,metadata:{}},create_time:null,update_time:null,content:{content_type:"text",parts:[n]},status:"finished_successfully",end_turn:!0,weight:0,metadata:{is_visually_hidden_from_conversation:!0},recipient:"all",channel:null},parent:null,children:[]};return l.mapping[u]=c,l.current_node=u,await ep(e,Cn.join(i,`${s}.json`),l),l},Xv=async(e,t,n)=>{let r=Cn.join(t,"conversations");await ep(e,Cn.join(r,`${n.id}.json`),n)},qv=async(e,t,n)=>{let r=Cn.join(t,"conversations");return await Zm(e,Cn.join(r,`${n}.json`))},Yv=async(e,t)=>{let n=Cn.join(t,"conversations");if(!await e.exists(n))return console.error(`Conversations directory does not exist: ${n}`),[];try{let s=(await e.list(n)).files.filter(l=>l.endsWith(".json")).map(async l=>{try{return await Zm(e,l)}catch(u){return console.error(`Failed to read conversation from ${l}:`,u),null}});return(await Promise.all(s)).filter(l=>l!==null)}catch(o){return console.error(`Error reading conversations from ${n}:`,o),[]}},Qv=async(e,t,n)=>{let r=Cn.join(t,"conversations"),o=Cn.join(r,`${n}.json`);if(!await e.exists(o)){console.error(`Conversation file does not exist: ${o}`);return}try{await e.trashLocal(o),console.log(`Deleted conversation: ${n}`)}catch(s){console.error(`Failed to delete conversation ${n}:`,s)}};var d0=I(j());var f0=I(j()),ju=(0,f0.createContext)(void 0);var Sn=()=>(0,d0.useContext)(ju);var y0=I(j());var m0=e=>{let t,n=new Set,r=(u,c)=>{let f=typeof u=="function"?u(t):u;if(!Object.is(f,t)){let d=t;t=(c!=null?c:typeof f!="object"||f===null)?f:Object.assign({},t,f),n.forEach(h=>h(t,d))}},o=()=>t,a={setState:r,getState:o,getInitialState:()=>l,subscribe:u=>(n.add(u),()=>n.delete(u))},l=t=e(r,o,a);return a},p0=e=>e?m0(e):m0;var lp=I(j(),1);var mb=e=>e;function h0(e,t=mb){let n=lp.default.useSyncExternalStore(e.subscribe,()=>t(e.getState()),()=>t(e.getInitialState()));return lp.default.useDebugValue(n),n}var g0=I(j()),Uu=(0,g0.createContext)(void 0);var ti=e=>{let t=(0,y0.useContext)(Uu);if(!t)throw new Error("Missing StoreContext.Provider in the tree");return h0(t,e)};var be=I(j());var up=()=>Date.now()/1e3,$u=(e,t,n,r,o={},i,s="in_progress",a=!1)=>{let l=up();return{id:e,message:{id:e,author:{role:t,name:null,metadata:{}},create_time:l,update_time:l,content:n,status:s,end_turn:a,weight:1,metadata:{...t==="assistant"&&i?{default_model_slug:i,model_slug:i}:{},...o},recipient:"all",channel:null},parent:r,children:[]}},v0=(e,t)=>e!=null&&e.text?["user-selection: ",e.text," user-input: ",t]:[t],zu=(e,t)=>{let{id:n,parent:r}=t,o=up();return{...e,mapping:{...e.mapping,[n]:t,...r&&{[r]:{...e.mapping[r],children:[...e.mapping[r].children,n]}}},current_node:n,update_time:o}},Ua=(e,t,n,r,o)=>{let i=up(),s=t.id,a={...t,message:{...t.message,content:{...t.message.content,parts:[n]},status:r,end_turn:o,update_time:i}};return{...e,mapping:{...e.mapping,[s]:a},update_time:i}};var Ht=()=>{let e=Sn(),t=ti(T=>T.conversation),n=ti(T=>T.setConversation),r=ti(T=>T.previousConversationId),o=ti(T=>T.setPreviousConversationId),i=ti(T=>T.isGenerating),s=ti(T=>T.setIsGenerating),[a,l]=(0,be.useState)(null),u=(0,be.useMemo)(()=>new Nu(e.settings.apiKey),[e.settings.apiKey]),c=(0,be.useMemo)(()=>e.app.vault.adapter,[e.app.vault.adapter]),f=(0,be.useCallback)(async T=>{try{let R=await qv(c,e.settings.weaverDirectory,T);if(!R)throw new Error(`Conversation with ID ${T} not found`);n(R),o(R.id)}catch(R){console.error(`Failed to load conversation with ID ${T}:`,R)}},[c,e.settings.weaverDirectory,n,o]),d=(0,be.useCallback)(async(T="Untitled")=>{try{let R=await Gv(c,e.settings.model,e.settings.systemPrompt,e.settings.weaverDirectory,T);return n(R),o(R.id),R}catch(R){return console.error("Failed to create new conversation:",R),null}},[c,e.settings.model,e.settings.systemPrompt,e.settings.weaverDirectory,n,o]),h=(0,be.useCallback)(async(T=!1,R="Untitled")=>{try{if(e.settings.loadLastConversation&&r&&!T){await f(r);return}await d(R)}catch(A){console.error("Failed to initialize conversation:",A)}},[e.settings.loadLastConversation,r,f,d]),y=(0,be.useCallback)(async T=>{try{await Qv(c,e.settings.weaverDirectory,T),T===r&&o(null),n(null)}catch(R){console.error(`Failed to delete conversation with ID ${T}:`,R)}},[c,e.settings.weaverDirectory,r,o,n]),v=(0,be.useCallback)(async T=>{try{await Xv(c,e.settings.weaverDirectory,T)}catch(R){console.error("Failed to save conversation:",R)}},[c,e.settings.weaverDirectory]),x=(0,be.useCallback)(async T=>{n(T),await v(T)},[n,v]),g=(0,be.useCallback)(async T=>{if(!t)return;let R=Date.now()/1e3,A={...t,title:T,update_time:R};await x(A)},[t,x]),m=(0,be.useCallback)(async T=>{if(!t)return;let R=Date.now()/1e3,A={...t,default_model_slug:T,update_time:R};await x(A)},[t,x]),p=(0,be.useCallback)(async(T,R,A,b,D)=>{let L="",U=Wv(B=>{let W=Ua(T,R,B,"in_progress",!1);n(W)},100),K=null;try{let B=await u.sendMessageStream(A,D||T.default_model_slug,b.signal);for await(let W of B){let V=W.choices[0].delta.content||"";V&&(L+=V,U(L))}K=Ua(T,R,L,"finished_successfully",!0)}catch(B){B.name==="AbortError"?K=Ua(T,R,L,"aborted",!1):(console.error("Error generating assistant message:",B),K=Ua(T,R,B.message,"error",!1))}finally{K&&await x(K),s(!1),l(null)}},[u,n,x,s,l]),w=(0,be.useCallback)((T,R)=>{let A=[],b=R;for(;b;){let D=T.mapping[b];if(!D)break;A.unshift(D),b=D.parent}return A},[]),C=(0,be.useCallback)(async T=>{if(!t)return;let R=Date.now()/1e3,A={...t,current_node:T,update_time:R};await x(A)},[t,x]),P=(0,be.useCallback)(async(T,R,A,b,D)=>{var B,W;if(!t)throw new Error("No conversation initialized");s(!0);let L,U,K=t;try{if(D)U=D,L=U.id,K=zu(t,U),await x(K);else if(A){let G=t.mapping[A];if(!G||((B=G.message)==null?void 0:B.author.role)!=="assistant")throw new Error("Provided messageId is not an assistant message");if(L=G.parent,!L)throw new Error("No parent user message node found for regeneration");if(U=t.mapping[L],!U||((W=U.message)==null?void 0:W.author.role)!=="user")throw new Error("Parent node is not a user message")}else{L=Nr();let G={content_type:R!=null&&R.text?"text-with-user-selection":"text",parts:v0(R,T)};U=$u(L,"user",G,t.current_node,{},void 0,"finished_successfully",!0),K=zu(t,U),await x(K)}let V=w(K,L).filter(G=>G.message).map(G=>G.message),de=Nr(),Pa=$u(de,"assistant",{content_type:"text",parts:[""]},L,{},b||K.default_model_slug,"in_progress",!1);K=zu(K,Pa),await x(K);let Ea=new AbortController;l(Ea),await p(K,Pa,V,Ea,b)}catch(V){console.error("Error in generateAssistantMessage:",V),s(!1),l(null)}},[t,i,s,l,x,w,p]),S=(0,be.useCallback)(async(T,R,A)=>{var b;if(!t)throw new Error("No conversation initialized");s(!0);try{let D=t.mapping[T];if(!D||((b=D.message)==null?void 0:b.author.role)!=="user")throw new Error("Provided messageId is not a user message");let L=D.parent;if(!L)throw new Error("No parent node found for the user message");let U=Nr(),K=$u(U,"user",{content_type:R,parts:[...A]},L,{},void 0,"finished_successfully",!0);await P("",void 0,void 0,void 0,K)}catch(D){console.error("Error in editUserMessage:",D),s(!1)}},[t,s,P]),E=(0,be.useCallback)(()=>{a&&(a.abort(),l(null))},[a]);return{conversation:t,isGenerating:i,initConversation:h,createNewConversation:d,deleteConversationById:y,loadConversation:f,updateConversation:x,updateConversationTitle:g,updateConversationModel:m,navigateToNode:C,generateAssistantMessage:P,editUserMessage:S,stopMessageGeneration:E}};var Yi=I(j()),E0=I(X()),S0=(0,Yi.createContext)(void 0),P0=({children:e})=>{let[t,n]=(0,Yi.useState)("chat"),r=()=>n("chat"),o=()=>n("conversationList");return(0,E0.jsx)(S0.Provider,{value:{currentTab:t,switchToChat:r,switchToConversationList:o},children:e})},Qi=()=>{let e=(0,Yi.useContext)(S0);if(!e)throw new Error("useTab must be used within a TabProvider");return e};var sm=I(j());var N=I(j(),1),Ds=I(j(),1);function Ku(){return typeof window!="undefined"}function En(e){return R0(e)?(e.nodeName||"").toLowerCase():"#document"}function ft(e){var t;return(e==null||(t=e.ownerDocument)==null?void 0:t.defaultView)||window}function rn(e){var t;return(t=(R0(e)?e.ownerDocument:e.document)||window.document)==null?void 0:t.documentElement}function R0(e){return Ku()?e instanceof Node||e instanceof ft(e).Node:!1}function He(e){return Ku()?e instanceof Element||e instanceof ft(e).Element:!1}function De(e){return Ku()?e instanceof HTMLElement||e instanceof ft(e).HTMLElement:!1}function Hu(e){return!Ku()||typeof ShadowRoot=="undefined"?!1:e instanceof ShadowRoot||e instanceof ft(e).ShadowRoot}function Ji(e){let{overflow:t,overflowX:n,overflowY:r,display:o}=Mt(e);return/auto|scroll|overlay|hidden|clip/.test(t+r+n)&&!["inline","contents"].includes(o)}function T0(e){return["table","td","th"].includes(En(e))}function $a(e){return[":popover-open",":modal"].some(t=>{try{return e.matches(t)}catch(n){return!1}})}function Gu(e){let t=za(),n=He(e)?Mt(e):e;return n.transform!=="none"||n.perspective!=="none"||(n.containerType?n.containerType!=="normal":!1)||!t&&(n.backdropFilter?n.backdropFilter!=="none":!1)||!t&&(n.filter?n.filter!=="none":!1)||["transform","perspective","filter"].some(r=>(n.willChange||"").includes(r))||["paint","layout","strict","content"].some(r=>(n.contain||"").includes(r))}function b0(e){let t=Pn(e);for(;De(t)&&!Dr(t);){if(Gu(t))return t;if($a(t))return null;t=Pn(t)}return null}function za(){return typeof CSS=="undefined"||!CSS.supports?!1:CSS.supports("-webkit-backdrop-filter","none")}function Dr(e){return["html","body","#document"].includes(En(e))}function Mt(e){return ft(e).getComputedStyle(e)}function Wa(e){return He(e)?{scrollLeft:e.scrollLeft,scrollTop:e.scrollTop}:{scrollLeft:e.scrollX,scrollTop:e.scrollY}}function Pn(e){if(En(e)==="html")return e;let t=e.assignedSlot||e.parentNode||Hu(e)&&e.host||rn(e);return Hu(t)?t.host:t}function A0(e){let t=Pn(e);return Dr(t)?e.ownerDocument?e.ownerDocument.body:e.body:De(t)&&Ji(t)?t:A0(t)}function Kn(e,t,n){var r;t===void 0&&(t=[]),n===void 0&&(n=!0);let o=A0(e),i=o===((r=e.ownerDocument)==null?void 0:r.body),s=ft(o);if(i){let a=Xu(s);return t.concat(s,s.visualViewport||[],Ji(o)?o:[],a&&n?Kn(a):[])}return t.concat(o,Kn(o,[],n))}function Xu(e){return e.parent&&Object.getPrototypeOf(e.parent)?e.frameElement:null}function Lr(e){let t=e.activeElement;for(;((n=t)==null||(n=n.shadowRoot)==null?void 0:n.activeElement)!=null;){var n;t=t.shadowRoot.activeElement}return t}function Kt(e,t){if(!e||!t)return!1;let n=t.getRootNode==null?void 0:t.getRootNode();if(e.contains(t))return!0;if(n&&Hu(n)){let r=t;for(;r;){if(e===r)return!0;r=r.parentNode||r.host}}return!1}function _0(){let e=navigator.userAgentData;return e!=null&&e.platform?e.platform:navigator.platform}function fp(){let e=navigator.userAgentData;return e&&Array.isArray(e.brands)?e.brands.map(t=>{let{brand:n,version:r}=t;return n+"/"+r}).join(" "):navigator.userAgent}function I0(e){return e.mozInputSource===0&&e.isTrusted?!0:cp()&&e.pointerType?e.type==="click"&&e.buttons===1:e.detail===0&&!e.pointerType}function k0(e){return xb()?!1:!cp()&&e.width===0&&e.height===0||cp()&&e.width===1&&e.height===1&&e.pressure===0&&e.detail===0&&e.pointerType==="mouse"||e.width<1&&e.height<1&&e.pressure===0&&e.detail===0&&e.pointerType==="touch"}function M0(){return/apple/i.test(navigator.vendor)}function cp(){let e=/android/i;return e.test(_0())||e.test(fp())}function xb(){return fp().includes("jsdom/")}function Rn(e){return(e==null?void 0:e.ownerDocument)||document}function dp(e){return"composedPath"in e?e.composedPath()[0]:e.target}var Cb="input:not([type='hidden']):not([disabled]),[contenteditable]:not([contenteditable='false']),textarea:not([disabled])";function O0(e){return De(e)&&e.matches(Cb)}function qu(e){e.preventDefault(),e.stopPropagation()}function N0(e){return e?e.getAttribute("role")==="combobox"&&O0(e):!1}var Zi=Math.min,Gn=Math.max,Ka=Math.round,Ga=Math.floor,Xn=e=>({x:e,y:e}),Sb={left:"right",right:"left",bottom:"top",top:"bottom"},Pb={start:"end",end:"start"};function mp(e,t,n){return Gn(e,Zi(t,n))}function Xa(e,t){return typeof e=="function"?e(t):e}function Fr(e){return e.split("-")[0]}function qa(e){return e.split("-")[1]}function pp(e){return e==="x"?"y":"x"}function hp(e){return e==="y"?"height":"width"}function ni(e){return["top","bottom"].includes(Fr(e))?"y":"x"}function gp(e){return pp(ni(e))}function D0(e,t,n){n===void 0&&(n=!1);let r=qa(e),o=gp(e),i=hp(o),s=o==="x"?r===(n?"end":"start")?"right":"left":r==="start"?"bottom":"top";return t.reference[i]>t.floating[i]&&(s=Ha(s)),[s,Ha(s)]}function L0(e){let t=Ha(e);return[Yu(e),t,Yu(t)]}function Yu(e){return e.replace(/start|end/g,t=>Pb[t])}function Eb(e,t,n){let r=["left","right"],o=["right","left"],i=["top","bottom"],s=["bottom","top"];switch(e){case"top":case"bottom":return n?t?o:r:t?r:o;case"left":case"right":return t?i:s;default:return[]}}function F0(e,t,n,r){let o=qa(e),i=Eb(Fr(e),n==="start",r);return o&&(i=i.map(s=>s+"-"+o),t&&(i=i.concat(i.map(Yu)))),i}function Ha(e){return e.replace(/left|right|bottom|top/g,t=>Sb[t])}function Rb(e){return{top:0,right:0,bottom:0,left:0,...e}}function V0(e){return typeof e!="number"?Rb(e):{top:e,right:e,bottom:e,left:e}}function ri(e){let{x:t,y:n,width:r,height:o}=e;return{width:r,height:o,top:n,left:t,right:t+r,bottom:n+o,x:t,y:n}}var Tb=["input:not([inert])","select:not([inert])","textarea:not([inert])","a[href]:not([inert])","button:not([inert])","[tabindex]:not(slot):not([inert])","audio[controls]:not([inert])","video[controls]:not([inert])",'[contenteditable]:not([contenteditable="false"]):not([inert])',"details>summary:first-of-type:not([inert])","details:not([inert])"],Qu=Tb.join(","),j0=typeof Element=="undefined",es=j0?function(){}:Element.prototype.matches||Element.prototype.msMatchesSelector||Element.prototype.webkitMatchesSelector,Ju=!j0&&Element.prototype.getRootNode?function(e){var t;return e==null||(t=e.getRootNode)===null||t===void 0?void 0:t.call(e)}:function(e){return e==null?void 0:e.ownerDocument},Zu=function e(t,n){var r;n===void 0&&(n=!0);var o=t==null||(r=t.getAttribute)===null||r===void 0?void 0:r.call(t,"inert"),i=o===""||o==="true",s=i||n&&t&&e(t.parentNode);return s},bb=function(t){var n,r=t==null||(n=t.getAttribute)===null||n===void 0?void 0:n.call(t,"contenteditable");return r===""||r==="true"},Ab=function(t,n,r){if(Zu(t))return[];var o=Array.prototype.slice.apply(t.querySelectorAll(Qu));return n&&es.call(t,Qu)&&o.unshift(t),o=o.filter(r),o},_b=function e(t,n,r){for(var o=[],i=Array.from(t);i.length;){var s=i.shift();if(!Zu(s,!1))if(s.tagName==="SLOT"){var a=s.assignedElements(),l=a.length?a:s.children,u=e(l,!0,r);r.flatten?o.push.apply(o,u):o.push({scopeParent:s,candidates:u})}else{var c=es.call(s,Qu);c&&r.filter(s)&&(n||!t.includes(s))&&o.push(s);var f=s.shadowRoot||typeof r.getShadowRoot=="function"&&r.getShadowRoot(s),d=!Zu(f,!1)&&(!r.shadowRootFilter||r.shadowRootFilter(s));if(f&&d){var h=e(f===!0?s.children:f.children,!0,r);r.flatten?o.push.apply(o,h):o.push({scopeParent:s,candidates:h})}else i.unshift.apply(i,s.children)}}return o},U0=function(t){return!isNaN(parseInt(t.getAttribute("tabindex"),10))},$0=function(t){if(!t)throw new Error("No node provided");return t.tabIndex<0&&(/^(AUDIO|VIDEO|DETAILS)$/.test(t.tagName)||bb(t))&&!U0(t)?0:t.tabIndex},Ib=function(t,n){var r=$0(t);return r<0&&n&&!U0(t)?0:r},kb=function(t,n){return t.tabIndex===n.tabIndex?t.documentOrder-n.documentOrder:t.tabIndex-n.tabIndex},z0=function(t){return t.tagName==="INPUT"},Mb=function(t){return z0(t)&&t.type==="hidden"},Ob=function(t){var n=t.tagName==="DETAILS"&&Array.prototype.slice.apply(t.children).some(function(r){return r.tagName==="SUMMARY"});return n},Nb=function(t,n){for(var r=0;r<t.length;r++)if(t[r].checked&&t[r].form===n)return t[r]},Db=function(t){if(!t.name)return!0;var n=t.form||Ju(t),r=function(a){return n.querySelectorAll('input[type="radio"][name="'+a+'"]')},o;if(typeof window!="undefined"&&typeof window.CSS!="undefined"&&typeof window.CSS.escape=="function")o=r(window.CSS.escape(t.name));else try{o=r(t.name)}catch(s){return console.error("Looks like you have a radio button with a name attribute containing invalid CSS selector characters and need the CSS.escape polyfill: %s",s.message),!1}var i=Nb(o,t.form);return!i||i===t},Lb=function(t){return z0(t)&&t.type==="radio"},Fb=function(t){return Lb(t)&&!Db(t)},Vb=function(t){var n,r=t&&Ju(t),o=(n=r)===null||n===void 0?void 0:n.host,i=!1;if(r&&r!==t){var s,a,l;for(i=!!((s=o)!==null&&s!==void 0&&(a=s.ownerDocument)!==null&&a!==void 0&&a.contains(o)||t!=null&&(l=t.ownerDocument)!==null&&l!==void 0&&l.contains(t));!i&&o;){var u,c,f;r=Ju(o),o=(u=r)===null||u===void 0?void 0:u.host,i=!!((c=o)!==null&&c!==void 0&&(f=c.ownerDocument)!==null&&f!==void 0&&f.contains(o))}}return i},B0=function(t){var n=t.getBoundingClientRect(),r=n.width,o=n.height;return r===0&&o===0},Bb=function(t,n){var r=n.displayCheck,o=n.getShadowRoot;if(getComputedStyle(t).visibility==="hidden")return!0;var i=es.call(t,"details>summary:first-of-type"),s=i?t.parentElement:t;if(es.call(s,"details:not([open]) *"))return!0;if(!r||r==="full"||r==="legacy-full"){if(typeof o=="function"){for(var a=t;t;){var l=t.parentElement,u=Ju(t);if(l&&!l.shadowRoot&&o(l)===!0)return B0(t);t.assignedSlot?t=t.assignedSlot:!l&&u!==t.ownerDocument?t=u.host:t=l}t=a}if(Vb(t))return!t.getClientRects().length;if(r!=="legacy-full")return!0}else if(r==="non-zero-area")return B0(t);return!1},jb=function(t){if(/^(INPUT|BUTTON|SELECT|TEXTAREA)$/.test(t.tagName))for(var n=t.parentElement;n;){if(n.tagName==="FIELDSET"&&n.disabled){for(var r=0;r<n.children.length;r++){var o=n.children.item(r);if(o.tagName==="LEGEND")return es.call(n,"fieldset[disabled] *")?!0:!o.contains(t)}return!0}n=n.parentElement}return!1},Ub=function(t,n){return!(n.disabled||Zu(n)||Mb(n)||Bb(n,t)||Ob(n)||jb(n))},yp=function(t,n){return!(Fb(n)||$0(n)<0||!Ub(t,n))},$b=function(t){var n=parseInt(t.getAttribute("tabindex"),10);return!!(isNaN(n)||n>=0)},zb=function e(t){var n=[],r=[];return t.forEach(function(o,i){var s=!!o.scopeParent,a=s?o.scopeParent:o,l=Ib(a,s),u=s?e(o.candidates):a;l===0?s?n.push.apply(n,u):n.push(a):r.push({documentOrder:i,tabIndex:l,item:o,isScope:s,content:u})}),r.sort(kb).reduce(function(o,i){return i.isScope?o.push.apply(o,i.content):o.push(i.content),o},[]).concat(n)},ec=function(t,n){n=n||{};var r;return n.getShadowRoot?r=_b([t],n.includeContainer,{filter:yp.bind(null,n),flatten:!1,getShadowRoot:n.getShadowRoot,shadowRootFilter:$b}):r=Ab(t,n.includeContainer,yp.bind(null,n)),zb(r)};var W0=function(t,n){if(n=n||{},!t)throw new Error("No node provided");return es.call(t,Qu)===!1?!1:yp(n,t)};var BC=I(Cf(),1);function uC(e,t,n){let{reference:r,floating:o}=e,i=ni(t),s=gp(t),a=hp(s),l=Fr(t),u=i==="y",c=r.x+r.width/2-o.width/2,f=r.y+r.height/2-o.height/2,d=r[a]/2-o[a]/2,h;switch(l){case"top":h={x:c,y:r.y-o.height};break;case"bottom":h={x:c,y:r.y+r.height};break;case"right":h={x:r.x+r.width,y:f};break;case"left":h={x:r.x-o.width,y:f};break;default:h={x:r.x,y:r.y}}switch(qa(t)){case"start":h[s]-=d*(n&&u?-1:1);break;case"end":h[s]+=d*(n&&u?-1:1);break}return h}var cC=async(e,t,n)=>{let{placement:r="bottom",strategy:o="absolute",middleware:i=[],platform:s}=n,a=i.filter(Boolean),l=await(s.isRTL==null?void 0:s.isRTL(t)),u=await s.getElementRects({reference:e,floating:t,strategy:o}),{x:c,y:f}=uC(u,r,l),d=r,h={},y=0;for(let v=0;v<a.length;v++){let{name:x,fn:g}=a[v],{x:m,y:p,data:w,reset:C}=await g({x:c,y:f,initialPlacement:r,placement:d,strategy:o,middlewareData:h,rects:u,platform:s,elements:{reference:e,floating:t}});c=m!=null?m:c,f=p!=null?p:f,h={...h,[x]:{...h[x],...w}},C&&y<=50&&(y++,typeof C=="object"&&(C.placement&&(d=C.placement),C.rects&&(u=C.rects===!0?await s.getElementRects({reference:e,floating:t,strategy:o}):C.rects),{x:c,y:f}=uC(u,d,l)),v=-1)}return{x:c,y:f,placement:d,strategy:o,middlewareData:h}};async function kg(e,t){var n;t===void 0&&(t={});let{x:r,y:o,platform:i,rects:s,elements:a,strategy:l}=e,{boundary:u="clippingAncestors",rootBoundary:c="viewport",elementContext:f="floating",altBoundary:d=!1,padding:h=0}=Xa(t,e),y=V0(h),x=a[d?f==="floating"?"reference":"floating":f],g=ri(await i.getClippingRect({element:(n=await(i.isElement==null?void 0:i.isElement(x)))==null||n?x:x.contextElement||await(i.getDocumentElement==null?void 0:i.getDocumentElement(a.floating)),boundary:u,rootBoundary:c,strategy:l})),m=f==="floating"?{x:r,y:o,width:s.floating.width,height:s.floating.height}:s.reference,p=await(i.getOffsetParent==null?void 0:i.getOffsetParent(a.floating)),w=await(i.isElement==null?void 0:i.isElement(p))?await(i.getScale==null?void 0:i.getScale(p))||{x:1,y:1}:{x:1,y:1},C=ri(i.convertOffsetParentRelativeRectToViewportRelativeRect?await i.convertOffsetParentRelativeRectToViewportRelativeRect({elements:a,rect:m,offsetParent:p,strategy:l}):m);return{top:(g.top-C.top+y.top)/w.y,bottom:(C.bottom-g.bottom+y.bottom)/w.y,left:(g.left-C.left+y.left)/w.x,right:(C.right-g.right+y.right)/w.x}}var fC=function(e){return e===void 0&&(e={}),{name:"flip",options:e,async fn(t){var n,r;let{placement:o,middlewareData:i,rects:s,initialPlacement:a,platform:l,elements:u}=t,{mainAxis:c=!0,crossAxis:f=!0,fallbackPlacements:d,fallbackStrategy:h="bestFit",fallbackAxisSideDirection:y="none",flipAlignment:v=!0,...x}=Xa(e,t);if((n=i.arrow)!=null&&n.alignmentOffset)return{};let g=Fr(o),m=ni(a),p=Fr(a)===a,w=await(l.isRTL==null?void 0:l.isRTL(u.floating)),C=d||(p||!v?[Ha(a)]:L0(a)),P=y!=="none";!d&&P&&C.push(...F0(a,v,y,w));let S=[a,...C],E=await kg(t,x),T=[],R=((r=i.flip)==null?void 0:r.overflows)||[];if(c&&T.push(E[g]),f){let L=D0(o,s,w);T.push(E[L[0]],E[L[1]])}if(R=[...R,{placement:o,overflows:T}],!T.every(L=>L<=0)){var A,b;let L=(((A=i.flip)==null?void 0:A.index)||0)+1,U=S[L];if(U)return{data:{index:L,overflows:R},reset:{placement:U}};let K=(b=R.filter(B=>B.overflows[0]<=0).sort((B,W)=>B.overflows[1]-W.overflows[1])[0])==null?void 0:b.placement;if(!K)switch(h){case"bestFit":{var D;let B=(D=R.filter(W=>{if(P){let V=ni(W.placement);return V===m||V==="y"}return!0}).map(W=>[W.placement,W.overflows.filter(V=>V>0).reduce((V,de)=>V+de,0)]).sort((W,V)=>W[1]-V[1])[0])==null?void 0:D[0];B&&(K=B);break}case"initialPlacement":K=a;break}if(o!==K)return{reset:{placement:K}}}return{}}}};async function K_(e,t){let{placement:n,platform:r,elements:o}=e,i=await(r.isRTL==null?void 0:r.isRTL(o.floating)),s=Fr(n),a=qa(n),l=ni(n)==="y",u=["left","top"].includes(s)?-1:1,c=i&&l?-1:1,f=Xa(t,e),{mainAxis:d,crossAxis:h,alignmentAxis:y}=typeof f=="number"?{mainAxis:f,crossAxis:0,alignmentAxis:null}:{mainAxis:f.mainAxis||0,crossAxis:f.crossAxis||0,alignmentAxis:f.alignmentAxis};return a&&typeof y=="number"&&(h=a==="end"?y*-1:y),l?{x:h*c,y:d*u}:{x:d*u,y:h*c}}var dC=function(e){return e===void 0&&(e=0),{name:"offset",options:e,async fn(t){var n,r;let{x:o,y:i,placement:s,middlewareData:a}=t,l=await K_(t,e);return s===((n=a.offset)==null?void 0:n.placement)&&(r=a.arrow)!=null&&r.alignmentOffset?{}:{x:o+l.x,y:i+l.y,data:{...l,placement:s}}}}},mC=function(e){return e===void 0&&(e={}),{name:"shift",options:e,async fn(t){let{x:n,y:r,placement:o}=t,{mainAxis:i=!0,crossAxis:s=!1,limiter:a={fn:x=>{let{x:g,y:m}=x;return{x:g,y:m}}},...l}=Xa(e,t),u={x:n,y:r},c=await kg(t,l),f=ni(Fr(o)),d=pp(f),h=u[d],y=u[f];if(i){let x=d==="y"?"top":"left",g=d==="y"?"bottom":"right",m=h+c[x],p=h-c[g];h=mp(m,h,p)}if(s){let x=f==="y"?"top":"left",g=f==="y"?"bottom":"right",m=y+c[x],p=y-c[g];y=mp(m,y,p)}let v=a.fn({...t,[d]:h,[f]:y});return{...v,data:{x:v.x-n,y:v.y-r,enabled:{[d]:i,[f]:s}}}}}};function gC(e){let t=Mt(e),n=parseFloat(t.width)||0,r=parseFloat(t.height)||0,o=De(e),i=o?e.offsetWidth:n,s=o?e.offsetHeight:r,a=Ka(n)!==i||Ka(r)!==s;return a&&(n=i,r=s),{width:n,height:r,$:a}}function Ng(e){return He(e)?e:e.contextElement}function Is(e){let t=Ng(e);if(!De(t))return Xn(1);let n=t.getBoundingClientRect(),{width:r,height:o,$:i}=gC(t),s=(i?Ka(n.width):n.width)/r,a=(i?Ka(n.height):n.height)/o;return(!s||!Number.isFinite(s))&&(s=1),(!a||!Number.isFinite(a))&&(a=1),{x:s,y:a}}var G_=Xn(0);function yC(e){let t=ft(e);return!za()||!t.visualViewport?G_:{x:t.visualViewport.offsetLeft,y:t.visualViewport.offsetTop}}function X_(e,t,n){return t===void 0&&(t=!1),!n||t&&n!==ft(e)?!1:t}function wi(e,t,n,r){t===void 0&&(t=!1),n===void 0&&(n=!1);let o=e.getBoundingClientRect(),i=Ng(e),s=Xn(1);t&&(r?He(r)&&(s=Is(r)):s=Is(e));let a=X_(i,n,r)?yC(i):Xn(0),l=(o.left+a.x)/s.x,u=(o.top+a.y)/s.y,c=o.width/s.x,f=o.height/s.y;if(i){let d=ft(i),h=r&&He(r)?ft(r):r,y=d,v=Xu(y);for(;v&&r&&h!==y;){let x=Is(v),g=v.getBoundingClientRect(),m=Mt(v),p=g.left+(v.clientLeft+parseFloat(m.paddingLeft))*x.x,w=g.top+(v.clientTop+parseFloat(m.paddingTop))*x.y;l*=x.x,u*=x.y,c*=x.x,f*=x.y,l+=p,u+=w,y=ft(v),v=Xu(y)}}return ri({width:c,height:f,x:l,y:u})}function q_(e){let{elements:t,rect:n,offsetParent:r,strategy:o}=e,i=o==="fixed",s=rn(r),a=t?$a(t.floating):!1;if(r===s||a&&i)return n;let l={scrollLeft:0,scrollTop:0},u=Xn(1),c=Xn(0),f=De(r);if((f||!f&&!i)&&((En(r)!=="body"||Ji(s))&&(l=Wa(r)),De(r))){let d=wi(r);u=Is(r),c.x=d.x+r.clientLeft,c.y=d.y+r.clientTop}return{width:n.width*u.x,height:n.height*u.y,x:n.x*u.x-l.scrollLeft*u.x+c.x,y:n.y*u.y-l.scrollTop*u.y+c.y}}function Y_(e){return Array.from(e.getClientRects())}function Og(e,t){let n=Wa(e).scrollLeft;return t?t.left+n:wi(rn(e)).left+n}function Q_(e){let t=rn(e),n=Wa(e),r=e.ownerDocument.body,o=Gn(t.scrollWidth,t.clientWidth,r.scrollWidth,r.clientWidth),i=Gn(t.scrollHeight,t.clientHeight,r.scrollHeight,r.clientHeight),s=-n.scrollLeft+Og(e),a=-n.scrollTop;return Mt(r).direction==="rtl"&&(s+=Gn(t.clientWidth,r.clientWidth)-o),{width:o,height:i,x:s,y:a}}function J_(e,t){let n=ft(e),r=rn(e),o=n.visualViewport,i=r.clientWidth,s=r.clientHeight,a=0,l=0;if(o){i=o.width,s=o.height;let u=za();(!u||u&&t==="fixed")&&(a=o.offsetLeft,l=o.offsetTop)}return{width:i,height:s,x:a,y:l}}function Z_(e,t){let n=wi(e,!0,t==="fixed"),r=n.top+e.clientTop,o=n.left+e.clientLeft,i=De(e)?Is(e):Xn(1),s=e.clientWidth*i.x,a=e.clientHeight*i.y,l=o*i.x,u=r*i.y;return{width:s,height:a,x:l,y:u}}function pC(e,t,n){let r;if(t==="viewport")r=J_(e,n);else if(t==="document")r=Q_(rn(e));else if(He(t))r=Z_(t,n);else{let o=yC(e);r={...t,x:t.x-o.x,y:t.y-o.y}}return ri(r)}function vC(e,t){let n=Pn(e);return n===t||!He(n)||Dr(n)?!1:Mt(n).position==="fixed"||vC(n,t)}function eI(e,t){let n=t.get(e);if(n)return n;let r=Kn(e,[],!1).filter(a=>He(a)&&En(a)!=="body"),o=null,i=Mt(e).position==="fixed",s=i?Pn(e):e;for(;He(s)&&!Dr(s);){let a=Mt(s),l=Gu(s);!l&&a.position==="fixed"&&(o=null),(i?!l&&!o:!l&&a.position==="static"&&!!o&&["absolute","fixed"].includes(o.position)||Ji(s)&&!l&&vC(e,s))?r=r.filter(c=>c!==s):o=a,s=Pn(s)}return t.set(e,r),r}function tI(e){let{element:t,boundary:n,rootBoundary:r,strategy:o}=e,s=[...n==="clippingAncestors"?$a(t)?[]:eI(t,this._c):[].concat(n),r],a=s[0],l=s.reduce((u,c)=>{let f=pC(t,c,o);return u.top=Gn(f.top,u.top),u.right=Zi(f.right,u.right),u.bottom=Zi(f.bottom,u.bottom),u.left=Gn(f.left,u.left),u},pC(t,a,o));return{width:l.right-l.left,height:l.bottom-l.top,x:l.left,y:l.top}}function nI(e){let{width:t,height:n}=gC(e);return{width:t,height:n}}function rI(e,t,n){let r=De(t),o=rn(t),i=n==="fixed",s=wi(e,!0,i,t),a={scrollLeft:0,scrollTop:0},l=Xn(0);if(r||!r&&!i)if((En(t)!=="body"||Ji(o))&&(a=Wa(t)),r){let h=wi(t,!0,i,t);l.x=h.x+t.clientLeft,l.y=h.y+t.clientTop}else o&&(l.x=Og(o));let u=0,c=0;if(o&&!r&&!i){let h=o.getBoundingClientRect();c=h.top+a.scrollTop,u=h.left+a.scrollLeft-Og(o,h)}let f=s.left+a.scrollLeft-l.x-u,d=s.top+a.scrollTop-l.y-c;return{x:f,y:d,width:s.width,height:s.height}}function Mg(e){return Mt(e).position==="static"}function hC(e,t){if(!De(e)||Mt(e).position==="fixed")return null;if(t)return t(e);let n=e.offsetParent;return rn(e)===n&&(n=n.ownerDocument.body),n}function wC(e,t){let n=ft(e);if($a(e))return n;if(!De(e)){let o=Pn(e);for(;o&&!Dr(o);){if(He(o)&&!Mg(o))return o;o=Pn(o)}return n}let r=hC(e,t);for(;r&&T0(r)&&Mg(r);)r=hC(r,t);return r&&Dr(r)&&Mg(r)&&!Gu(r)?n:r||b0(e)||n}var oI=async function(e){let t=this.getOffsetParent||wC,n=this.getDimensions,r=await n(e.floating);return{reference:rI(e.reference,await t(e.floating),e.strategy),floating:{x:0,y:0,width:r.width,height:r.height}}};function iI(e){return Mt(e).direction==="rtl"}var Dg={convertOffsetParentRelativeRectToViewportRelativeRect:q_,getDocumentElement:rn,getClippingRect:tI,getOffsetParent:wC,getElementRects:oI,getClientRects:Y_,getDimensions:nI,getScale:Is,isElement:He,isRTL:iI};function sI(e,t){let n=null,r,o=rn(e);function i(){var a;clearTimeout(r),(a=n)==null||a.disconnect(),n=null}function s(a,l){a===void 0&&(a=!1),l===void 0&&(l=1),i();let{left:u,top:c,width:f,height:d}=e.getBoundingClientRect();if(a||t(),!f||!d)return;let h=Ga(c),y=Ga(o.clientWidth-(u+f)),v=Ga(o.clientHeight-(c+d)),x=Ga(u),m={rootMargin:-h+"px "+-y+"px "+-v+"px "+-x+"px",threshold:Gn(0,Zi(1,l))||1},p=!0;function w(C){let P=C[0].intersectionRatio;if(P!==l){if(!p)return s();P?s(!1,P):r=setTimeout(()=>{s(!1,1e-7)},1e3)}p=!1}try{n=new IntersectionObserver(w,{...m,root:o.ownerDocument})}catch(C){n=new IntersectionObserver(w,m)}n.observe(e)}return s(!0),i}function ks(e,t,n,r){r===void 0&&(r={});let{ancestorScroll:o=!0,ancestorResize:i=!0,elementResize:s=typeof ResizeObserver=="function",layoutShift:a=typeof IntersectionObserver=="function",animationFrame:l=!1}=r,u=Ng(e),c=o||i?[...u?Kn(u):[],...Kn(t)]:[];c.forEach(g=>{o&&g.addEventListener("scroll",n,{passive:!0}),i&&g.addEventListener("resize",n)});let f=u&&a?sI(u,n):null,d=-1,h=null;s&&(h=new ResizeObserver(g=>{let[m]=g;m&&m.target===u&&h&&(h.unobserve(t),cancelAnimationFrame(d),d=requestAnimationFrame(()=>{var p;(p=h)==null||p.observe(t)})),n()}),u&&!l&&h.observe(u),h.observe(t));let y,v=l?wi(e):null;l&&x();function x(){let g=wi(e);v&&(g.x!==v.x||g.y!==v.y||g.width!==v.width||g.height!==v.height)&&n(),v=g,y=requestAnimationFrame(x)}return n(),()=>{var g;c.forEach(m=>{o&&m.removeEventListener("scroll",n),i&&m.removeEventListener("resize",n)}),f==null||f(),(g=h)==null||g.disconnect(),h=null,l&&cancelAnimationFrame(y)}}var xC=dC;var CC=mC,SC=fC;var Sf=(e,t,n)=>{let r=new Map,o={platform:Dg,...n},i={...o.platform,_c:r};return cC(e,t,{...o,platform:i})};var _e=I(j(),1),Rf=I(j(),1),RC=I(Cf(),1),Pf=typeof document!="undefined"?Rf.useLayoutEffect:Rf.useEffect;function Ef(e,t){if(e===t)return!0;if(typeof e!=typeof t)return!1;if(typeof e=="function"&&e.toString()===t.toString())return!0;let n,r,o;if(e&&t&&typeof e=="object"){if(Array.isArray(e)){if(n=e.length,n!==t.length)return!1;for(r=n;r--!==0;)if(!Ef(e[r],t[r]))return!1;return!0}if(o=Object.keys(e),n=o.length,n!==Object.keys(t).length)return!1;for(r=n;r--!==0;)if(!{}.hasOwnProperty.call(t,o[r]))return!1;for(r=n;r--!==0;){let i=o[r];if(!(i==="_owner"&&e.$$typeof)&&!Ef(e[i],t[i]))return!1}return!0}return e!==e&&t!==t}function TC(e){return typeof window=="undefined"?1:(e.ownerDocument.defaultView||window).devicePixelRatio||1}function PC(e,t){let n=TC(e);return Math.round(t*n)/n}function Lg(e){let t=_e.useRef(e);return Pf(()=>{t.current=e}),t}function bC(e){e===void 0&&(e={});let{placement:t="bottom",strategy:n="absolute",middleware:r=[],platform:o,elements:{reference:i,floating:s}={},transform:a=!0,whileElementsMounted:l,open:u}=e,[c,f]=_e.useState({x:0,y:0,strategy:n,placement:t,middlewareData:{},isPositioned:!1}),[d,h]=_e.useState(r);Ef(d,r)||h(r);let[y,v]=_e.useState(null),[x,g]=_e.useState(null),m=_e.useCallback(W=>{W!==P.current&&(P.current=W,v(W))},[]),p=_e.useCallback(W=>{W!==S.current&&(S.current=W,g(W))},[]),w=i||y,C=s||x,P=_e.useRef(null),S=_e.useRef(null),E=_e.useRef(c),T=l!=null,R=Lg(l),A=Lg(o),b=Lg(u),D=_e.useCallback(()=>{if(!P.current||!S.current)return;let W={placement:t,strategy:n,middleware:d};A.current&&(W.platform=A.current),Sf(P.current,S.current,W).then(V=>{let de={...V,isPositioned:b.current!==!1};L.current&&!Ef(E.current,de)&&(E.current=de,RC.flushSync(()=>{f(de)}))})},[d,t,n,A,b]);Pf(()=>{u===!1&&E.current.isPositioned&&(E.current.isPositioned=!1,f(W=>({...W,isPositioned:!1})))},[u]);let L=_e.useRef(!1);Pf(()=>(L.current=!0,()=>{L.current=!1}),[]),Pf(()=>{if(w&&(P.current=w),C&&(S.current=C),w&&C){if(R.current)return R.current(w,C,D);D()}},[w,C,D,R,T]);let U=_e.useMemo(()=>({reference:P,floating:S,setReference:m,setFloating:p}),[m,p]),K=_e.useMemo(()=>({reference:w,floating:C}),[w,C]),B=_e.useMemo(()=>{let W={position:n,left:0,top:0};if(!K.floating)return W;let V=PC(K.floating,c.x),de=PC(K.floating,c.y);return a?{...W,transform:"translate("+V+"px, "+de+"px)",...TC(K.floating)>=1.5&&{willChange:"transform"}}:{position:n,left:V,top:de}},[n,a,K.floating,c.x,c.y]);return _e.useMemo(()=>({...c,update:D,refs:U,elements:K,floatingStyles:B}),[c,D,U,K,B])}var Ms=(e,t)=>({...xC(e),options:[e,t]}),Fg=(e,t)=>({...CC(e),options:[e,t]});var Vg=(e,t)=>({...SC(e),options:[e,t]});var jC={...N},aI=jC.useInsertionEffect,lI=aI||(e=>e());function $g(e){let t=N.useRef(()=>{});return lI(()=>{t.current=e}),N.useCallback(function(){for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return t.current==null?void 0:t.current(...r)},[])}var uI="ArrowUp",cI="ArrowDown",fI="ArrowLeft",dI="ArrowRight";var AC=0;function Os(e,t){t===void 0&&(t={});let{preventScroll:n=!1,cancelPrevious:r=!0,sync:o=!1}=t;r&&cancelAnimationFrame(AC);let i=()=>e==null?void 0:e.focus({preventScroll:n});o?i():AC=requestAnimationFrame(i)}var ir=typeof document!="undefined"?Ds.useLayoutEffect:Ds.useEffect;var mI=[fI,dI],pI=[uI,cI],HL=[...mI,...pI];function Af(){return Af=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Af.apply(this,arguments)}var _C=!1,hI=0,IC=()=>"floating-ui-"+Math.random().toString(36).slice(2,6)+hI++;function gI(){let[e,t]=N.useState(()=>_C?IC():void 0);return ir(()=>{e==null&&t(IC())},[]),N.useEffect(()=>{_C=!0},[]),e}var yI=jC.useId,vI=yI||gI;function wI(){let e=new Map;return{emit(t,n){var r;(r=e.get(t))==null||r.forEach(o=>o(n))},on(t,n){e.set(t,[...e.get(t)||[],n])},off(t,n){var r;e.set(t,((r=e.get(t))==null?void 0:r.filter(o=>o!==n))||[])}}}var xI=N.createContext(null),CI=N.createContext(null),SI=()=>{var e;return((e=N.useContext(xI))==null?void 0:e.id)||null},UC=()=>N.useContext(CI);function zg(e){return"data-floating-ui-"+e}function Bg(e){let t=(0,Ds.useRef)(e);return ir(()=>{t.current=e}),t}function PI(e,t){var n;let r=[],o=(n=e.find(i=>i.id===t))==null?void 0:n.parentId;for(;o;){let i=e.find(s=>s.id===o);o=i==null?void 0:i.parentId,i&&(r=r.concat(i))}return r}function kC(e,t){let n=e.filter(o=>{var i;return o.parentId===t&&((i=o.context)==null?void 0:i.open)}),r=n;for(;r.length;)r=e.filter(o=>{var i;return(i=r)==null?void 0:i.some(s=>{var a;return o.parentId===s.id&&((a=o.context)==null?void 0:a.open)})}),n=n.concat(r);return n}var Ns=new WeakMap,Tf=new WeakSet,bf={},jg=0,EI=()=>typeof HTMLElement!="undefined"&&"inert"in HTMLElement.prototype,$C=e=>e&&(e.host||$C(e.parentNode)),RI=(e,t)=>t.map(n=>{if(e.contains(n))return n;let r=$C(n);return e.contains(r)?r:null}).filter(n=>n!=null);function TI(e,t,n,r){let o="data-floating-ui-inert",i=r?"inert":n?"aria-hidden":null,s=RI(t,e),a=new Set,l=new Set(s),u=[];bf[o]||(bf[o]=new WeakMap);let c=bf[o];s.forEach(f),d(t),a.clear();function f(h){!h||a.has(h)||(a.add(h),h.parentNode&&f(h.parentNode))}function d(h){!h||l.has(h)||[].forEach.call(h.children,y=>{if(En(y)!=="script")if(a.has(y))d(y);else{let v=i?y.getAttribute(i):null,x=v!==null&&v!=="false",g=(Ns.get(y)||0)+1,m=(c.get(y)||0)+1;Ns.set(y,g),c.set(y,m),u.push(y),g===1&&x&&Tf.add(y),m===1&&y.setAttribute(o,""),!x&&i&&y.setAttribute(i,"true")}})}return jg++,()=>{u.forEach(h=>{let y=(Ns.get(h)||0)-1,v=(c.get(h)||0)-1;Ns.set(h,y),c.set(h,v),y||(!Tf.has(h)&&i&&h.removeAttribute(i),Tf.delete(h)),v||h.removeAttribute(o)}),jg--,jg||(Ns=new WeakMap,Ns=new WeakMap,Tf=new WeakSet,bf={})}}function MC(e,t,n){t===void 0&&(t=!1),n===void 0&&(n=!1);let r=Rn(e[0]).body;return TI(e.concat(Array.from(r.querySelectorAll("[aria-live]"))),r,t,n)}var _f=()=>({getShadowRoot:!0,displayCheck:typeof ResizeObserver=="function"&&ResizeObserver.toString().includes("[native code]")?"full":"none"});function zC(e,t){let n=ec(e,_f());t==="prev"&&n.reverse();let r=n.indexOf(Lr(Rn(e)));return n.slice(r+1)[0]}function bI(){return zC(document.body,"next")}function AI(){return zC(document.body,"prev")}function OC(e,t){let n=t||e.currentTarget,r=e.relatedTarget;return!r||!Kt(n,r)}var Wg={border:0,clip:"rect(0 0 0 0)",height:"1px",margin:"-1px",overflow:"hidden",padding:0,position:"fixed",whiteSpace:"nowrap",width:"1px",top:0,left:0},_I;function NC(e){e.key==="Tab"&&(e.target,clearTimeout(_I))}var DC=N.forwardRef(function(t,n){let[r,o]=N.useState();ir(()=>(M0()&&o("button"),document.addEventListener("keydown",NC),()=>{document.removeEventListener("keydown",NC)}),[]);let i={ref:n,tabIndex:0,role:r,"aria-hidden":r?void 0:!0,[zg("focus-guard")]:"",style:Wg};return N.createElement("span",Af({},t,i))}),II=N.createContext(null);var kI=()=>N.useContext(II),LC="data-floating-ui-focusable";function MI(e){return e?e.hasAttribute(LC)?e:e.querySelector("["+LC+"]")||e:null}var FC=20,xi=[];function Ug(e){xi=xi.filter(n=>n.isConnected);let t=e;if(!(!t||En(t)==="body")){if(!W0(t,_f())){let n=ec(t,_f())[0];n&&(t=n)}xi.push(t),xi.length>FC&&(xi=xi.slice(-FC))}}function VC(){return xi.slice().reverse().find(e=>e.isConnected)}var OI=N.forwardRef(function(t,n){return N.createElement("button",Af({},t,{type:"button",ref:n,tabIndex:-1,style:Wg}))});function WC(e){let{context:t,children:n,disabled:r=!1,order:o=["content"],guards:i=!0,initialFocus:s=0,returnFocus:a=!0,restoreFocus:l=!1,modal:u=!0,visuallyHiddenDismiss:c=!1,closeOnFocusOut:f=!0}=e,{open:d,refs:h,nodeId:y,onOpenChange:v,events:x,dataRef:g,floatingId:m,elements:{domReference:p,floating:w}}=t,C=typeof s=="number"&&s<0,P=N0(p)&&C,S=EI()?i:!0,E=Bg(o),T=Bg(s),R=Bg(a),A=UC(),b=kI(),D=N.useRef(null),L=N.useRef(null),U=N.useRef(!1),K=N.useRef(!1),B=N.useRef(-1),W=b!=null,V=MI(w),de=$g(function(G){return G===void 0&&(G=V),G?ec(G,_f()):[]}),Co=$g(G=>{let Z=de(G);return E.current.map(Y=>p&&Y==="reference"?p:V&&Y==="floating"?V:Z).filter(Boolean).flat()});N.useEffect(()=>{U.current=!1},[r]),N.useEffect(()=>{if(r||!u)return;function G(Y){if(Y.key==="Tab"){Kt(V,Lr(Rn(V)))&&de().length===0&&!P&&qu(Y);let ne=Co(),Re=dp(Y);E.current[0]==="reference"&&Re===p&&(qu(Y),Y.shiftKey?Os(ne[ne.length-1]):Os(ne[1])),E.current[1]==="floating"&&Re===V&&Y.shiftKey&&(qu(Y),Os(ne[0]))}}let Z=Rn(V);return Z.addEventListener("keydown",G),()=>{Z.removeEventListener("keydown",G)}},[r,p,V,u,E,P,de,Co]),N.useEffect(()=>{if(r||!w)return;function G(Z){let Y=dp(Z),Re=de().indexOf(Y);Re!==-1&&(B.current=Re)}return w.addEventListener("focusin",G),()=>{w.removeEventListener("focusin",G)}},[r,w,de]),N.useEffect(()=>{if(r||!f)return;function G(){K.current=!0,setTimeout(()=>{K.current=!1})}function Z(Y){let ne=Y.relatedTarget;queueMicrotask(()=>{let Re=!(Kt(p,ne)||Kt(w,ne)||Kt(ne,w)||Kt(b==null?void 0:b.portalNode,ne)||ne!=null&&ne.hasAttribute(zg("focus-guard"))||A&&(kC(A.nodesRef.current,y).find(lt=>{var Ye,ut;return Kt((Ye=lt.context)==null?void 0:Ye.elements.floating,ne)||Kt((ut=lt.context)==null?void 0:ut.elements.domReference,ne)})||PI(A.nodesRef.current,y).find(lt=>{var Ye,ut;return((Ye=lt.context)==null?void 0:Ye.elements.floating)===ne||((ut=lt.context)==null?void 0:ut.elements.domReference)===ne})));if(l&&Re&&Lr(Rn(V))===Rn(V).body){De(V)&&V.focus();let lt=B.current,Ye=de(),ut=Ye[lt]||Ye[Ye.length-1]||V;De(ut)&&ut.focus()}(P||!u)&&ne&&Re&&!K.current&&ne!==VC()&&(U.current=!0,v(!1,Y,"focus-out"))})}if(w&&De(p))return p.addEventListener("focusout",Z),p.addEventListener("pointerdown",G),w.addEventListener("focusout",Z),()=>{p.removeEventListener("focusout",Z),p.removeEventListener("pointerdown",G),w.removeEventListener("focusout",Z)}},[r,p,w,V,u,y,A,b,v,f,l,de,P]),N.useEffect(()=>{var G;if(r)return;let Z=Array.from((b==null||(G=b.portalNode)==null?void 0:G.querySelectorAll("["+zg("portal")+"]"))||[]);if(w){let Y=[w,...Z,D.current,L.current,E.current.includes("reference")||P?p:null].filter(Re=>Re!=null),ne=u||P?MC(Y,S,!S):MC(Y);return()=>{ne()}}},[r,p,w,u,E,b,P,S]),ir(()=>{if(r||!De(V))return;let G=Rn(V),Z=Lr(G);queueMicrotask(()=>{let Y=Co(V),ne=T.current,Re=(typeof ne=="number"?Y[ne]:ne.current)||V,lt=Kt(V,Z);!C&&!lt&&d&&Os(Re,{preventScroll:Re===V})})},[r,d,V,C,Co,T]),ir(()=>{if(r||!V)return;let G=!1,Z=Rn(V),Y=Lr(Z),Re=g.current.openEvent;Ug(Y);function lt(ut){let{open:lu,reason:uu,event:hr,nested:mm}=ut;lu&&(Re=hr),uu==="escape-key"&&h.domReference.current&&Ug(h.domReference.current),uu==="hover"&&hr.type==="mouseleave"&&(U.current=!0),uu==="outside-press"&&(mm?(U.current=!1,G=!0):U.current=!(I0(hr)||k0(hr)))}x.on("openchange",lt);let Ye=Z.createElement("span");return Ye.setAttribute("tabindex","-1"),Ye.setAttribute("aria-hidden","true"),Object.assign(Ye.style,Wg),W&&p&&p.insertAdjacentElement("afterend",Ye),()=>{x.off("openchange",lt);let ut=Lr(Z),lu=Kt(w,ut)||A&&kC(A.nodesRef.current,y).some(mm=>{var Ky;return Kt((Ky=mm.context)==null?void 0:Ky.elements.floating,ut)});(lu||Re&&["click","mousedown"].includes(Re.type))&&h.domReference.current&&Ug(h.domReference.current);let hr=VC()||Ye;queueMicrotask(()=>{R.current&&!U.current&&De(hr)&&(!(hr!==ut&&ut!==Z.body)||lu)&&hr.focus({preventScroll:G}),Ye.remove()})}},[r,w,V,R,g,h,x,A,y,W,p]),ir(()=>{if(!r&&b)return b.setFocusManagerState({modal:u,closeOnFocusOut:f,open:d,onOpenChange:v,refs:h}),()=>{b.setFocusManagerState(null)}},[r,b,u,d,v,h,f]),ir(()=>{if(r||!V||typeof MutationObserver!="function"||C)return;let G=()=>{let Y=V.getAttribute("tabindex"),ne=de(),Re=Lr(Rn(w)),lt=ne.indexOf(Re);lt!==-1&&(B.current=lt),E.current.includes("floating")||Re!==h.domReference.current&&ne.length===0?Y!=="0"&&V.setAttribute("tabindex","0"):Y!=="-1"&&V.setAttribute("tabindex","-1")};G();let Z=new MutationObserver(G);return Z.observe(V,{childList:!0,subtree:!0,attributes:!0}),()=>{Z.disconnect()}},[r,w,V,h,E,de,C]);function Pa(G){return r||!c||!u?null:N.createElement(OI,{ref:G==="start"?D:L,onClick:Z=>v(!1,Z.nativeEvent)},typeof c=="string"?c:"Dismiss")}let Ea=!r&&S&&(u?!P:!0)&&(W||u);return N.createElement(N.Fragment,null,Ea&&N.createElement(DC,{"data-type":"inside",ref:b==null?void 0:b.beforeInsideRef,onFocus:G=>{if(u){let Y=Co();Os(o[0]==="reference"?Y[0]:Y[Y.length-1])}else if(b!=null&&b.preserveTabOrder&&b.portalNode)if(U.current=!1,OC(G,b.portalNode)){let Y=bI()||p;Y==null||Y.focus()}else{var Z;(Z=b.beforeOutsideRef.current)==null||Z.focus()}}}),!P&&Pa("start"),n,Pa("end"),Ea&&N.createElement(DC,{"data-type":"inside",ref:b==null?void 0:b.afterInsideRef,onFocus:G=>{if(u)Os(Co()[0]);else if(b!=null&&b.preserveTabOrder&&b.portalNode)if(f&&(U.current=!0),OC(G,b.portalNode)){let Y=AI()||p;Y==null||Y.focus()}else{var Z;(Z=b.afterOutsideRef.current)==null||Z.focus()}}}))}function NI(e){let{open:t=!1,onOpenChange:n,elements:r}=e,o=vI(),i=N.useRef({}),[s]=N.useState(()=>wI()),a=SI()!=null,[l,u]=N.useState(r.reference),c=$g((h,y,v)=>{i.current.openEvent=h?y:void 0,s.emit("openchange",{open:h,event:y,reason:v,nested:a}),n==null||n(h,y,v)}),f=N.useMemo(()=>({setPositionReference:u}),[]),d=N.useMemo(()=>({reference:l||r.reference||null,floating:r.floating||null,domReference:r.reference}),[l,r.reference,r.floating]);return N.useMemo(()=>({dataRef:i,open:t,onOpenChange:c,elements:d,events:s,floatingId:o,refs:f}),[t,c,d,s,o,f])}function If(e){e===void 0&&(e={});let{nodeId:t}=e,n=NI({...e,elements:{reference:null,floating:null,...e.elements}}),r=e.rootContext||n,o=r.elements,[i,s]=N.useState(null),[a,l]=N.useState(null),c=(o==null?void 0:o.reference)||i,f=N.useRef(null),d=UC();ir(()=>{c&&(f.current=c)},[c]);let h=bC({...e,elements:{...o,...a&&{reference:a}}}),y=N.useCallback(p=>{let w=He(p)?{getBoundingClientRect:()=>p.getBoundingClientRect(),contextElement:p}:p;l(w),h.refs.setReference(w)},[h.refs]),v=N.useCallback(p=>{(He(p)||p===null)&&(f.current=p,s(p)),(He(h.refs.reference.current)||h.refs.reference.current===null||p!==null&&!He(p))&&h.refs.setReference(p)},[h.refs]),x=N.useMemo(()=>({...h.refs,setReference:v,setPositionReference:y,domReference:f}),[h.refs,v,y]),g=N.useMemo(()=>({...h.elements,domReference:c}),[h.elements,c]),m=N.useMemo(()=>({...h,...r,refs:x,elements:g,nodeId:t}),[h,x,g,t,r]);return ir(()=>{r.dataRef.current.floatingContext=m;let p=d==null?void 0:d.nodesRef.current.find(w=>w.id===t);p&&(p.context=m)}),N.useMemo(()=>({...h,context:m,refs:x,elements:g}),[h,x,g,m])}var HC=require("obsidian"),kf=I(j()),KC=I(X()),te=({iconId:e,svg:t,className:n,...r})=>{let o=(0,kf.useRef)(null);(0,kf.useEffect)(()=>{o.current&&e&&!t&&(0,HC.setIcon)(o.current,e)},[e,t]);let i=["ow-icon",n].filter(Boolean).join(" ");return(0,KC.jsx)("div",{ref:o,className:i,...r,children:t||null})};function GC(e){if(typeof Proxy=="undefined")return e;let t=new Map,n=(...r)=>e(...r);return new Proxy(n,{get:(r,o)=>o==="create"?e:(t.has(o)||t.set(o,e(o)),t.get(o))})}function sr(e){return e!==null&&typeof e=="object"&&typeof e.start=="function"}var Ul=e=>Array.isArray(e);function Hg(e,t){if(!Array.isArray(t))return!1;let n=t.length;if(n!==e.length)return!1;for(let r=0;r<n;r++)if(t[r]!==e[r])return!1;return!0}function ar(e){return typeof e=="string"||Array.isArray(e)}function XC(e){let t=[{},{}];return e==null||e.values.forEach((n,r)=>{t[0][r]=n.get(),t[1][r]=n.getVelocity()}),t}function Ls(e,t,n,r){if(typeof t=="function"){let[o,i]=XC(r);t=t(n!==void 0?n:e.custom,o,i)}if(typeof t=="string"&&(t=e.variants&&e.variants[t]),typeof t=="function"){let[o,i]=XC(r);t=t(n!==void 0?n:e.custom,o,i)}return t}function io(e,t,n){let r=e.getProps();return Ls(r,t,n!==void 0?n:r.custom,e)}var Mf=["animate","whileInView","whileFocus","whileHover","whileTap","whileDrag","exit"],$l=["initial",...Mf];var so=["transformPerspective","x","y","z","translateX","translateY","translateZ","scale","scaleX","scaleY","rotate","rotateX","rotateY","rotateZ","skew","skewX","skewY"],rt=new Set(so);var ot=e=>e*1e3,Et=e=>e/1e3;var DI={type:"spring",stiffness:500,damping:25,restSpeed:10},LI=e=>({type:"spring",stiffness:550,damping:e===0?2*Math.sqrt(550):30,restSpeed:10}),FI={type:"keyframes",duration:.8},VI={type:"keyframes",ease:[.25,.1,.35,1],duration:.3},qC=(e,{keyframes:t})=>t.length>2?FI:rt.has(e)?e.startsWith("scale")?LI(t[1]):DI:VI;function Fs(e,t){return e?e[t]||e.default||e:void 0}var Vs={skipAnimations:!1,useManualTiming:!1};var Of={current:!1};var BI=e=>e!==null;function ao(e,{repeat:t,repeatType:n="loop"},r){let o=e.filter(BI),i=t&&n!=="loop"&&t%2===1?0:o.length-1;return!i||r===void 0?o[i]:r}var oe=e=>e;function YC(e){let t=new Set,n=new Set,r=!1,o=!1,i=new WeakSet,s={delta:0,timestamp:0,isProcessing:!1};function a(u){i.has(u)&&(l.schedule(u),e()),u(s)}let l={schedule:(u,c=!1,f=!1)=>{let h=f&&r?t:n;return c&&i.add(u),h.has(u)||h.add(u),u},cancel:u=>{n.delete(u),i.delete(u)},process:u=>{if(s=u,r){o=!0;return}r=!0,[t,n]=[n,t],n.clear(),t.forEach(a),r=!1,o&&(o=!1,l.process(u))}};return l}var Nf=["read","resolveKeyframes","update","preRender","render","postRender"],jI=40;function Df(e,t){let n=!1,r=!0,o={delta:0,timestamp:0,isProcessing:!1},i=()=>n=!0,s=Nf.reduce((g,m)=>(g[m]=YC(i),g),{}),{read:a,resolveKeyframes:l,update:u,preRender:c,render:f,postRender:d}=s,h=()=>{let g=Vs.useManualTiming?o.timestamp:performance.now();n=!1,o.delta=r?1e3/60:Math.max(Math.min(g-o.timestamp,jI),1),o.timestamp=g,o.isProcessing=!0,a.process(o),l.process(o),u.process(o),c.process(o),f.process(o),d.process(o),o.isProcessing=!1,n&&t&&(r=!1,e(h))},y=()=>{n=!0,r=!0,o.isProcessing||e(h)};return{schedule:Nf.reduce((g,m)=>{let p=s[m];return g[m]=(w,C=!1,P=!1)=>(n||y(),p.schedule(w,C,P)),g},{}),cancel:g=>{for(let m=0;m<Nf.length;m++)s[Nf[m]].cancel(g)},state:o,steps:s}}var{schedule:H,cancel:Bt,state:Ee,steps:Lf}=Df(typeof requestAnimationFrame!="undefined"?requestAnimationFrame:oe,!0);var QC=(e,t,n)=>(((1-3*n+3*t)*e+(3*n-6*t))*e+3*t)*e,UI=1e-7,$I=12;function zI(e,t,n,r,o){let i,s,a=0;do s=t+(n-t)/2,i=QC(s,r,o)-e,i>0?n=s:t=s;while(Math.abs(i)>UI&&++a<$I);return s}function lo(e,t,n,r){if(e===t&&n===r)return oe;let o=i=>zI(i,0,1,e,n);return i=>i===0||i===1?i:QC(o(i),t,r)}var Ff=e=>t=>t<=.5?e(2*t)/2:(2-e(2*(1-t)))/2;var Vf=e=>t=>1-e(1-t);var Kg=lo(.33,1.53,.69,.99),zl=Vf(Kg),Bf=Ff(zl);var jf=e=>(e*=2)<1?.5*zl(e):.5*(2-Math.pow(2,-10*(e-1)));var Uf=e=>1-Math.sin(Math.acos(e)),$f=Vf(Uf),zf=Ff(Uf);var Wf=e=>/^0[^.\s]+$/u.test(e);function JC(e){return typeof e=="number"?e===0:e!==null?e==="none"||e==="0"||Wf(e):!0}var uo=oe,mn=oe;var Hf=e=>/^-?(?:\d+(?:\.\d+)?|\.\d+)$/u.test(e);var ZC=e=>t=>typeof t=="string"&&t.startsWith(e),Kf=ZC("--"),WI=ZC("var(--"),Bs=e=>WI(e)?HI.test(e.split("/*")[0].trim()):!1,HI=/var\(--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)$/iu;var KI=/^var\(--(?:([\w-]+)|([\w-]+), ?([a-zA-Z\d ()%#.,-]+))\)/u;function GI(e){let t=KI.exec(e);if(!t)return[,];let[,n,r,o]=t;return[`--${n!=null?n:r}`,o]}var XI=4;function Gg(e,t,n=1){mn(n<=XI,`Max CSS variable fallback depth detected in property "${e}". This may indicate a circular fallback dependency.`);let[r,o]=GI(e);if(!r)return;let i=window.getComputedStyle(t).getPropertyValue(r);if(i){let s=i.trim();return Hf(s)?parseFloat(s):s}return Bs(o)?Gg(o,t,n+1):o}var ht=(e,t,n)=>n>t?t:n<e?e:n;var Mn={test:e=>typeof e=="number",parse:parseFloat,transform:e=>e},lr={...Mn,transform:e=>ht(0,1,e)},Wl={...Mn,default:1};var Hl=e=>({test:t=>typeof t=="string"&&t.endsWith(e)&&t.split(" ").length===1,parse:parseFloat,transform:t=>`${t}${e}`}),On=Hl("deg"),gt=Hl("%"),O=Hl("px"),eS=Hl("vh"),tS=Hl("vw"),Xg={...gt,parse:e=>gt.parse(e)/100,transform:e=>gt.transform(e*100)};var oS=new Set(["width","height","top","left","right","bottom","x","y","translateX","translateY"]),qg=e=>e===Mn||e===O,nS=(e,t)=>parseFloat(e.split(", ")[t]),rS=(e,t)=>(n,{transform:r})=>{if(r==="none"||!r)return 0;let o=r.match(/^matrix3d\((.+)\)$/u);if(o)return nS(o[1],t);{let i=r.match(/^matrix\((.+)\)$/u);return i?nS(i[1],e):0}},qI=new Set(["x","y","z"]),YI=so.filter(e=>!qI.has(e));function iS(e){let t=[];return YI.forEach(n=>{let r=e.getValue(n);r!==void 0&&(t.push([n,r.get()]),r.set(n.startsWith("scale")?1:0))}),t}var Ci={width:({x:e},{paddingLeft:t="0",paddingRight:n="0"})=>e.max-e.min-parseFloat(t)-parseFloat(n),height:({y:e},{paddingTop:t="0",paddingBottom:n="0"})=>e.max-e.min-parseFloat(t)-parseFloat(n),top:(e,{top:t})=>parseFloat(t),left:(e,{left:t})=>parseFloat(t),bottom:({y:e},{top:t})=>parseFloat(t)+(e.max-e.min),right:({x:e},{left:t})=>parseFloat(t)+(e.max-e.min),x:rS(4,13),y:rS(5,14)};Ci.translateX=Ci.x;Ci.translateY=Ci.y;var Gf=e=>t=>t.test(e);var sS={test:e=>e==="auto",parse:e=>e};var Yg=[Mn,O,gt,On,tS,eS,sS],Qg=e=>Yg.find(Gf(e));var Si=new Set,Jg=!1,Zg=!1;function aS(){if(Zg){let e=Array.from(Si).filter(r=>r.needsMeasurement),t=new Set(e.map(r=>r.element)),n=new Map;t.forEach(r=>{let o=iS(r);o.length&&(n.set(r,o),r.render())}),e.forEach(r=>r.measureInitialState()),t.forEach(r=>{r.render();let o=n.get(r);o&&o.forEach(([i,s])=>{var a;(a=r.getValue(i))===null||a===void 0||a.set(s)})}),e.forEach(r=>r.measureEndState()),e.forEach(r=>{r.suspendedScrollY!==void 0&&window.scrollTo(0,r.suspendedScrollY)})}Zg=!1,Jg=!1,Si.forEach(e=>e.complete()),Si.clear()}function lS(){Si.forEach(e=>{e.readKeyframes(),e.needsMeasurement&&(Zg=!0)})}function uS(){lS(),aS()}var co=class{constructor(t,n,r,o,i,s=!1){this.isComplete=!1,this.isAsync=!1,this.needsMeasurement=!1,this.isScheduled=!1,this.unresolvedKeyframes=[...t],this.onComplete=n,this.name=r,this.motionValue=o,this.element=i,this.isAsync=s}scheduleResolve(){this.isScheduled=!0,this.isAsync?(Si.add(this),Jg||(Jg=!0,H.read(lS),H.resolveKeyframes(aS))):(this.readKeyframes(),this.complete())}readKeyframes(){let{unresolvedKeyframes:t,name:n,element:r,motionValue:o}=this;for(let i=0;i<t.length;i++)if(t[i]===null)if(i===0){let s=o==null?void 0:o.get(),a=t[t.length-1];if(s!==void 0)t[0]=s;else if(r&&n){let l=r.readValue(n,a);l!=null&&(t[0]=l)}t[0]===void 0&&(t[0]=a),o&&s===void 0&&o.set(t[0])}else t[i]=t[i-1]}setFinalKeyframe(){}measureInitialState(){}renderEndStyles(){}measureEndState(){}complete(){this.isComplete=!0,this.onComplete(this.unresolvedKeyframes,this.finalKeyframe),Si.delete(this)}cancel(){this.isComplete||(this.isScheduled=!1,Si.delete(this))}resume(){this.isComplete||this.scheduleResolve()}};var fo=e=>Math.round(e*1e5)/1e5;var js=/-?(?:\d+(?:\.\d+)?|\.\d+)/gu;function cS(e){return e==null}var fS=/^(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))$/iu;var Us=(e,t)=>n=>!!(typeof n=="string"&&fS.test(n)&&n.startsWith(e)||t&&!cS(n)&&Object.prototype.hasOwnProperty.call(n,t)),Xf=(e,t,n)=>r=>{if(typeof r!="string")return r;let[o,i,s,a]=r.match(js);return{[e]:parseFloat(o),[t]:parseFloat(i),[n]:parseFloat(s),alpha:a!==void 0?parseFloat(a):1}};var QI=e=>ht(0,255,e),ey={...Mn,transform:e=>Math.round(QI(e))},Nn={test:Us("rgb","red"),parse:Xf("red","green","blue"),transform:({red:e,green:t,blue:n,alpha:r=1})=>"rgba("+ey.transform(e)+", "+ey.transform(t)+", "+ey.transform(n)+", "+fo(lr.transform(r))+")"};function JI(e){let t="",n="",r="",o="";return e.length>5?(t=e.substring(1,3),n=e.substring(3,5),r=e.substring(5,7),o=e.substring(7,9)):(t=e.substring(1,2),n=e.substring(2,3),r=e.substring(3,4),o=e.substring(4,5),t+=t,n+=n,r+=r,o+=o),{red:parseInt(t,16),green:parseInt(n,16),blue:parseInt(r,16),alpha:o?parseInt(o,16)/255:1}}var Kl={test:Us("#"),parse:JI,transform:Nn.transform};var mo={test:Us("hsl","hue"),parse:Xf("hue","saturation","lightness"),transform:({hue:e,saturation:t,lightness:n,alpha:r=1})=>"hsla("+Math.round(e)+", "+gt.transform(fo(t))+", "+gt.transform(fo(n))+", "+fo(lr.transform(r))+")"};var Ie={test:e=>Nn.test(e)||Kl.test(e)||mo.test(e),parse:e=>Nn.test(e)?Nn.parse(e):mo.test(e)?mo.parse(e):Kl.parse(e),transform:e=>typeof e=="string"?e:e.hasOwnProperty("red")?Nn.transform(e):mo.transform(e)};var dS=/(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))/giu;function ZI(e){var t,n;return isNaN(e)&&typeof e=="string"&&(((t=e.match(js))===null||t===void 0?void 0:t.length)||0)+(((n=e.match(dS))===null||n===void 0?void 0:n.length)||0)>0}var pS="number",hS="color",ek="var",tk="var(",mS="${}",nk=/var\s*\(\s*--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)|#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\)|-?(?:\d+(?:\.\d+)?|\.\d+)/giu;function Pi(e){let t=e.toString(),n=[],r={color:[],number:[],var:[]},o=[],i=0,a=t.replace(nk,l=>(Ie.test(l)?(r.color.push(i),o.push(hS),n.push(Ie.parse(l))):l.startsWith(tk)?(r.var.push(i),o.push(ek),n.push(l)):(r.number.push(i),o.push(pS),n.push(parseFloat(l))),++i,mS)).split(mS);return{values:n,split:a,indexes:r,types:o}}function gS(e){return Pi(e).values}function yS(e){let{split:t,types:n}=Pi(e),r=t.length;return o=>{let i="";for(let s=0;s<r;s++)if(i+=t[s],o[s]!==void 0){let a=n[s];a===pS?i+=fo(o[s]):a===hS?i+=Ie.transform(o[s]):i+=o[s]}return i}}var rk=e=>typeof e=="number"?0:e;function ok(e){let t=gS(e);return yS(e)(t.map(rk))}var yt={test:ZI,parse:gS,createTransformer:yS,getAnimatableNone:ok};var ik=new Set(["brightness","contrast","saturate","opacity"]);function sk(e){let[t,n]=e.slice(0,-1).split("(");if(t==="drop-shadow")return e;let[r]=n.match(js)||[];if(!r)return e;let o=n.replace(r,""),i=ik.has(t)?1:0;return r!==n&&(i*=100),t+"("+i+o+")"}var ak=/\b([a-z-]*)\(.*?\)/gu,Gl={...yt,getAnimatableNone:e=>{let t=e.match(ak);return t?t.map(sk).join(" "):e}};var vS={borderWidth:O,borderTopWidth:O,borderRightWidth:O,borderBottomWidth:O,borderLeftWidth:O,borderRadius:O,radius:O,borderTopLeftRadius:O,borderTopRightRadius:O,borderBottomRightRadius:O,borderBottomLeftRadius:O,width:O,maxWidth:O,height:O,maxHeight:O,top:O,right:O,bottom:O,left:O,padding:O,paddingTop:O,paddingRight:O,paddingBottom:O,paddingLeft:O,margin:O,marginTop:O,marginRight:O,marginBottom:O,marginLeft:O,backgroundPositionX:O,backgroundPositionY:O};var wS={rotate:On,rotateX:On,rotateY:On,rotateZ:On,scale:Wl,scaleX:Wl,scaleY:Wl,scaleZ:Wl,skew:On,skewX:On,skewY:On,distance:O,translateX:O,translateY:O,translateZ:O,x:O,y:O,z:O,perspective:O,transformPerspective:O,opacity:lr,originX:Xg,originY:Xg,originZ:O};var ty={...Mn,transform:Math.round};var $s={...vS,...wS,zIndex:ty,size:O,fillOpacity:lr,strokeOpacity:lr,numOctaves:ty};var lk={...$s,color:Ie,backgroundColor:Ie,outlineColor:Ie,fill:Ie,stroke:Ie,borderColor:Ie,borderTopColor:Ie,borderRightColor:Ie,borderBottomColor:Ie,borderLeftColor:Ie,filter:Gl,WebkitFilter:Gl},zs=e=>lk[e];function qf(e,t){let n=zs(e);return n!==Gl&&(n=yt),n.getAnimatableNone?n.getAnimatableNone(t):void 0}var uk=new Set(["auto","none","0"]);function xS(e,t,n){let r=0,o;for(;r<e.length&&!o;){let i=e[r];typeof i=="string"&&!uk.has(i)&&Pi(i).values.length&&(o=e[r]),r++}if(o&&n)for(let i of t)e[i]=qf(n,o)}var Ws=class extends co{constructor(t,n,r,o,i){super(t,n,r,o,i,!0)}readKeyframes(){let{unresolvedKeyframes:t,element:n,name:r}=this;if(!n||!n.current)return;super.readKeyframes();for(let l=0;l<t.length;l++){let u=t[l];if(typeof u=="string"&&(u=u.trim(),Bs(u))){let c=Gg(u,n.current);c!==void 0&&(t[l]=c),l===t.length-1&&(this.finalKeyframe=u)}}if(this.resolveNoneKeyframes(),!oS.has(r)||t.length!==2)return;let[o,i]=t,s=Qg(o),a=Qg(i);if(s!==a)if(qg(s)&&qg(a))for(let l=0;l<t.length;l++){let u=t[l];typeof u=="string"&&(t[l]=parseFloat(u))}else this.needsMeasurement=!0}resolveNoneKeyframes(){let{unresolvedKeyframes:t,name:n}=this,r=[];for(let o=0;o<t.length;o++)JC(t[o])&&r.push(o);r.length&&xS(t,r,n)}measureInitialState(){let{element:t,unresolvedKeyframes:n,name:r}=this;if(!t||!t.current)return;r==="height"&&(this.suspendedScrollY=window.pageYOffset),this.measuredOrigin=Ci[r](t.measureViewportBox(),window.getComputedStyle(t.current)),n[0]=this.measuredOrigin;let o=n[n.length-1];o!==void 0&&t.getValue(r,o).jump(o,!1)}measureEndState(){var t;let{element:n,name:r,unresolvedKeyframes:o}=this;if(!n||!n.current)return;let i=n.getValue(r);i&&i.jump(this.measuredOrigin,!1);let s=o.length-1,a=o[s];o[s]=Ci[r](n.measureViewportBox(),window.getComputedStyle(n.current)),a!==null&&this.finalKeyframe===void 0&&(this.finalKeyframe=a),!((t=this.removedTransforms)===null||t===void 0)&&t.length&&this.removedTransforms.forEach(([l,u])=>{n.getValue(l).set(u)}),this.resolveNoneKeyframes()}};function Hs(e){return typeof e=="function"}var Yf;function ck(){Yf=void 0}var it={now:()=>(Yf===void 0&&it.set(Ee.isProcessing||Vs.useManualTiming?Ee.timestamp:performance.now()),Yf),set:e=>{Yf=e,queueMicrotask(ck)}};var ny=(e,t)=>t==="zIndex"?!1:!!(typeof e=="number"||Array.isArray(e)||typeof e=="string"&&(yt.test(e)||e==="0")&&!e.startsWith("url("));function fk(e){let t=e[0];if(e.length===1)return!0;for(let n=0;n<e.length;n++)if(e[n]!==t)return!0}function CS(e,t,n,r){let o=e[0];if(o===null)return!1;if(t==="display"||t==="visibility")return!0;let i=e[e.length-1],s=ny(o,t),a=ny(i,t);return uo(s===a,`You are trying to animate ${t} from "${o}" to "${i}". ${o} is not an animatable value - to enable this animation set ${o} to a value animatable to ${i} via the \`style\` property.`),!s||!a?!1:fk(e)||(n==="spring"||Hs(n))&&r}var dk=40,Ks=class{constructor({autoplay:t=!0,delay:n=0,type:r="keyframes",repeat:o=0,repeatDelay:i=0,repeatType:s="loop",...a}){this.isStopped=!1,this.hasAttemptedResolve=!1,this.createdAt=it.now(),this.options={autoplay:t,delay:n,type:r,repeat:o,repeatDelay:i,repeatType:s,...a},this.updateFinishedPromise()}calcStartTime(){return this.resolvedAt?this.resolvedAt-this.createdAt>dk?this.resolvedAt:this.createdAt:this.createdAt}get resolved(){return!this._resolved&&!this.hasAttemptedResolve&&uS(),this._resolved}onKeyframesResolved(t,n){this.resolvedAt=it.now(),this.hasAttemptedResolve=!0;let{name:r,type:o,velocity:i,delay:s,onComplete:a,onUpdate:l,isGenerator:u}=this.options;if(!u&&!CS(t,r,o,i))if(Of.current||!s){l==null||l(ao(t,this.options,n)),a==null||a(),this.resolveFinishedPromise();return}else this.options.duration=0;let c=this.initPlayback(t,n);c!==!1&&(this._resolved={keyframes:t,finalKeyframe:n,...c},this.onPostResolved())}onPostResolved(){}then(t,n){return this.currentFinishedPromise.then(t,n)}updateFinishedPromise(){this.currentFinishedPromise=new Promise(t=>{this.resolveFinishedPromise=t})}};function Qf(e,t){return t?e*(1e3/t):0}var mk=5;function Jf(e,t,n){let r=Math.max(t-mk,0);return Qf(n-e(r),t-r)}var ry=.001,pk=.01,SS=10,hk=.05,gk=1;function PS({duration:e=800,bounce:t=.25,velocity:n=0,mass:r=1}){let o,i;uo(e<=ot(SS),"Spring duration must be 10 seconds or less");let s=1-t;s=ht(hk,gk,s),e=ht(pk,SS,Et(e)),s<1?(o=u=>{let c=u*s,f=c*e,d=c-n,h=Zf(u,s),y=Math.exp(-f);return ry-d/h*y},i=u=>{let f=u*s*e,d=f*n+n,h=Math.pow(s,2)*Math.pow(u,2)*e,y=Math.exp(-f),v=Zf(Math.pow(u,2),s);return(-o(u)+ry>0?-1:1)*((d-h)*y)/v}):(o=u=>{let c=Math.exp(-u*e),f=(u-n)*e+1;return-ry+c*f},i=u=>{let c=Math.exp(-u*e),f=(n-u)*(e*e);return c*f});let a=5/e,l=vk(o,i,a);if(e=ot(e),isNaN(l))return{stiffness:100,damping:10,duration:e};{let u=Math.pow(l,2)*r;return{stiffness:u,damping:s*2*Math.sqrt(r*u),duration:e}}}var yk=12;function vk(e,t,n){let r=n;for(let o=1;o<yk;o++)r=r-e(r)/t(r);return r}function Zf(e,t){return e*Math.sqrt(1-t*t)}var wk=["duration","bounce"],xk=["stiffness","damping","mass"];function ES(e,t){return t.some(n=>e[n]!==void 0)}function Ck(e){let t={velocity:0,stiffness:100,damping:10,mass:1,isResolvedFromDuration:!1,...e};if(!ES(e,xk)&&ES(e,wk)){let n=PS(e);t={...t,...n,mass:1},t.isResolvedFromDuration=!0}return t}function ed({keyframes:e,restDelta:t,restSpeed:n,...r}){let o=e[0],i=e[e.length-1],s={done:!1,value:o},{stiffness:a,damping:l,mass:u,duration:c,velocity:f,isResolvedFromDuration:d}=Ck({...r,velocity:-Et(r.velocity||0)}),h=f||0,y=l/(2*Math.sqrt(a*u)),v=i-o,x=Et(Math.sqrt(a/u)),g=Math.abs(v)<5;n||(n=g?.01:2),t||(t=g?.005:.5);let m;if(y<1){let p=Zf(x,y);m=w=>{let C=Math.exp(-y*x*w);return i-C*((h+y*x*v)/p*Math.sin(p*w)+v*Math.cos(p*w))}}else if(y===1)m=p=>i-Math.exp(-x*p)*(v+(h+x*v)*p);else{let p=x*Math.sqrt(y*y-1);m=w=>{let C=Math.exp(-y*x*w),P=Math.min(p*w,300);return i-C*((h+y*x*v)*Math.sinh(P)+p*v*Math.cosh(P))/p}}return{calculatedDuration:d&&c||null,next:p=>{let w=m(p);if(d)s.done=p>=c;else{let C=0;y<1&&(C=p===0?ot(h):Jf(m,p,w));let P=Math.abs(C)<=n,S=Math.abs(i-w)<=t;s.done=P&&S}return s.value=s.done?i:w,s}}}function oy({keyframes:e,velocity:t=0,power:n=.8,timeConstant:r=325,bounceDamping:o=10,bounceStiffness:i=500,modifyTarget:s,min:a,max:l,restDelta:u=.5,restSpeed:c}){let f=e[0],d={done:!1,value:f},h=E=>a!==void 0&&E<a||l!==void 0&&E>l,y=E=>a===void 0?l:l===void 0||Math.abs(a-E)<Math.abs(l-E)?a:l,v=n*t,x=f+v,g=s===void 0?x:s(x);g!==x&&(v=g-f);let m=E=>-v*Math.exp(-E/r),p=E=>g+m(E),w=E=>{let T=m(E),R=p(E);d.done=Math.abs(T)<=u,d.value=d.done?g:R},C,P,S=E=>{h(d.value)&&(C=E,P=ed({keyframes:[d.value,y(d.value)],velocity:Jf(p,E,d.value),damping:o,stiffness:i,restDelta:u,restSpeed:c}))};return S(0),{calculatedDuration:null,next:E=>{let T=!1;return!P&&C===void 0&&(T=!0,w(E),S(E)),C!==void 0&&E>=C?P.next(E-C):(!T&&w(E),d)}}}var RS=lo(.42,0,1,1),TS=lo(0,0,.58,1),td=lo(.42,0,.58,1);var bS=e=>Array.isArray(e)&&typeof e[0]!="number";var Xl=e=>Array.isArray(e)&&typeof e[0]=="number";var AS={linear:oe,easeIn:RS,easeInOut:td,easeOut:TS,circIn:Uf,circInOut:zf,circOut:$f,backIn:zl,backInOut:Bf,backOut:Kg,anticipate:jf},iy=e=>{if(Xl(e)){mn(e.length===4,"Cubic bezier arrays must contain four numerical values.");let[t,n,r,o]=e;return lo(t,n,r,o)}else if(typeof e=="string")return mn(AS[e]!==void 0,`Invalid easing type '${e}'`),AS[e];return e};var Sk=(e,t)=>n=>t(e(n)),st=(...e)=>e.reduce(Sk);var pn=(e,t,n)=>{let r=t-e;return r===0?1:(n-e)/r};var Q=(e,t,n)=>e+(t-e)*n;function sy(e,t,n){return n<0&&(n+=1),n>1&&(n-=1),n<1/6?e+(t-e)*6*n:n<1/2?t:n<2/3?e+(t-e)*(2/3-n)*6:e}function _S({hue:e,saturation:t,lightness:n,alpha:r}){e/=360,t/=100,n/=100;let o=0,i=0,s=0;if(!t)o=i=s=n;else{let a=n<.5?n*(1+t):n+t-n*t,l=2*n-a;o=sy(l,a,e+1/3),i=sy(l,a,e),s=sy(l,a,e-1/3)}return{red:Math.round(o*255),green:Math.round(i*255),blue:Math.round(s*255),alpha:r}}function Gs(e,t){return n=>n>0?t:e}var ay=(e,t,n)=>{let r=e*e,o=n*(t*t-r)+r;return o<0?0:Math.sqrt(o)},Pk=[Kl,Nn,mo],Ek=e=>Pk.find(t=>t.test(e));function IS(e){let t=Ek(e);if(uo(!!t,`'${e}' is not an animatable color. Use the equivalent color code instead.`),!t)return!1;let n=t.parse(e);return t===mo&&(n=_S(n)),n}var ly=(e,t)=>{let n=IS(e),r=IS(t);if(!n||!r)return Gs(e,t);let o={...n};return i=>(o.red=ay(n.red,r.red,i),o.green=ay(n.green,r.green,i),o.blue=ay(n.blue,r.blue,i),o.alpha=Q(n.alpha,r.alpha,i),Nn.transform(o))};var nd=new Set(["none","hidden"]);function kS(e,t){return nd.has(e)?n=>n<=0?e:t:n=>n>=1?t:e}function Rk(e,t){return n=>Q(e,t,n)}function rd(e){return typeof e=="number"?Rk:typeof e=="string"?Bs(e)?Gs:Ie.test(e)?ly:Ak:Array.isArray(e)?MS:typeof e=="object"?Ie.test(e)?ly:Tk:Gs}function MS(e,t){let n=[...e],r=n.length,o=e.map((i,s)=>rd(i)(i,t[s]));return i=>{for(let s=0;s<r;s++)n[s]=o[s](i);return n}}function Tk(e,t){let n={...e,...t},r={};for(let o in n)e[o]!==void 0&&t[o]!==void 0&&(r[o]=rd(e[o])(e[o],t[o]));return o=>{for(let i in r)n[i]=r[i](o);return n}}function bk(e,t){var n;let r=[],o={color:0,var:0,number:0};for(let i=0;i<t.values.length;i++){let s=t.types[i],a=e.indexes[s][o[s]],l=(n=e.values[a])!==null&&n!==void 0?n:0;r[i]=l,o[s]++}return r}var Ak=(e,t)=>{let n=yt.createTransformer(t),r=Pi(e),o=Pi(t);return r.indexes.var.length===o.indexes.var.length&&r.indexes.color.length===o.indexes.color.length&&r.indexes.number.length>=o.indexes.number.length?nd.has(e)&&!o.values.length||nd.has(t)&&!r.values.length?kS(e,t):st(MS(bk(r,o),o.values),n):(uo(!0,`Complex values '${e}' and '${t}' too different to mix. Ensure all colors are of the same type, and that each contains the same quantity of number and color values. Falling back to instant transition.`),Gs(e,t))};function od(e,t,n){return typeof e=="number"&&typeof t=="number"&&typeof n=="number"?Q(e,t,n):rd(e)(e,t)}function _k(e,t,n){let r=[],o=n||od,i=e.length-1;for(let s=0;s<i;s++){let a=o(e[s],e[s+1]);if(t){let l=Array.isArray(t)?t[s]||oe:t;a=st(l,a)}r.push(a)}return r}function OS(e,t,{clamp:n=!0,ease:r,mixer:o}={}){let i=e.length;if(mn(i===t.length,"Both input and output ranges must be the same length"),i===1)return()=>t[0];if(i===2&&e[0]===e[1])return()=>t[1];e[0]>e[i-1]&&(e=[...e].reverse(),t=[...t].reverse());let s=_k(t,r,o),a=s.length,l=u=>{let c=0;if(a>1)for(;c<e.length-2&&!(u<e[c+1]);c++);let f=pn(e[c],e[c+1],u);return s[c](f)};return n?u=>l(ht(e[0],e[i-1],u)):l}function NS(e,t){let n=e[e.length-1];for(let r=1;r<=t;r++){let o=pn(0,t,r);e.push(Q(n,1,o))}}function DS(e){let t=[0];return NS(t,e.length-1),t}function LS(e,t){return e.map(n=>n*t)}function Ik(e,t){return e.map(()=>t||td).splice(0,e.length-1)}function ql({duration:e=300,keyframes:t,times:n,ease:r="easeInOut"}){let o=bS(r)?r.map(iy):iy(r),i={done:!1,value:t[0]},s=LS(n&&n.length===t.length?n:DS(t),e),a=OS(s,t,{ease:Array.isArray(o)?o:Ik(t,o)});return{calculatedDuration:e,next:l=>(i.value=a(l),i.done=l>=e,i)}}function FS(e){let t=0,n=50,r=e.next(t);for(;!r.done&&t<2e4;)t+=n,r=e.next(t);return t>=2e4?1/0:t}var VS=e=>{let t=({timestamp:n})=>e(n);return{start:()=>H.update(t,!0),stop:()=>Bt(t),now:()=>Ee.isProcessing?Ee.timestamp:it.now()}};var kk={decay:oy,inertia:oy,tween:ql,keyframes:ql,spring:ed},Mk=e=>e/100,Ei=class extends Ks{constructor(t){super(t),this.holdTime=null,this.cancelTime=null,this.currentTime=0,this.playbackSpeed=1,this.pendingPlayState="running",this.startTime=null,this.state="idle",this.stop=()=>{if(this.resolver.cancel(),this.isStopped=!0,this.state==="idle")return;this.teardown();let{onStop:l}=this.options;l&&l()};let{name:n,motionValue:r,element:o,keyframes:i}=this.options,s=(o==null?void 0:o.KeyframeResolver)||co,a=(l,u)=>this.onKeyframesResolved(l,u);this.resolver=new s(i,a,n,r,o),this.resolver.scheduleResolve()}initPlayback(t){let{type:n="keyframes",repeat:r=0,repeatDelay:o=0,repeatType:i,velocity:s=0}=this.options,a=Hs(n)?n:kk[n]||ql,l,u;a!==ql&&typeof t[0]!="number"&&(l=st(Mk,od(t[0],t[1])),t=[0,100]);let c=a({...this.options,keyframes:t});i==="mirror"&&(u=a({...this.options,keyframes:[...t].reverse(),velocity:-s})),c.calculatedDuration===null&&(c.calculatedDuration=FS(c));let{calculatedDuration:f}=c,d=f+o,h=d*(r+1)-o;return{generator:c,mirroredGenerator:u,mapPercentToKeyframes:l,calculatedDuration:f,resolvedDuration:d,totalDuration:h}}onPostResolved(){let{autoplay:t=!0}=this.options;this.play(),this.pendingPlayState==="paused"||!t?this.pause():this.state=this.pendingPlayState}tick(t,n=!1){let{resolved:r}=this;if(!r){let{keyframes:E}=this.options;return{done:!0,value:E[E.length-1]}}let{finalKeyframe:o,generator:i,mirroredGenerator:s,mapPercentToKeyframes:a,keyframes:l,calculatedDuration:u,totalDuration:c,resolvedDuration:f}=r;if(this.startTime===null)return i.next(0);let{delay:d,repeat:h,repeatType:y,repeatDelay:v,onUpdate:x}=this.options;this.speed>0?this.startTime=Math.min(this.startTime,t):this.speed<0&&(this.startTime=Math.min(t-c/this.speed,this.startTime)),n?this.currentTime=t:this.holdTime!==null?this.currentTime=this.holdTime:this.currentTime=Math.round(t-this.startTime)*this.speed;let g=this.currentTime-d*(this.speed>=0?1:-1),m=this.speed>=0?g<0:g>c;this.currentTime=Math.max(g,0),this.state==="finished"&&this.holdTime===null&&(this.currentTime=c);let p=this.currentTime,w=i;if(h){let E=Math.min(this.currentTime,c)/f,T=Math.floor(E),R=E%1;!R&&E>=1&&(R=1),R===1&&T--,T=Math.min(T,h+1),!!(T%2)&&(y==="reverse"?(R=1-R,v&&(R-=v/f)):y==="mirror"&&(w=s)),p=ht(0,1,R)*f}let C=m?{done:!1,value:l[0]}:w.next(p);a&&(C.value=a(C.value));let{done:P}=C;!m&&u!==null&&(P=this.speed>=0?this.currentTime>=c:this.currentTime<=0);let S=this.holdTime===null&&(this.state==="finished"||this.state==="running"&&P);return S&&o!==void 0&&(C.value=ao(l,this.options,o)),x&&x(C.value),S&&this.finish(),C}get duration(){let{resolved:t}=this;return t?Et(t.calculatedDuration):0}get time(){return Et(this.currentTime)}set time(t){t=ot(t),this.currentTime=t,this.holdTime!==null||this.speed===0?this.holdTime=t:this.driver&&(this.startTime=this.driver.now()-t/this.speed)}get speed(){return this.playbackSpeed}set speed(t){let n=this.playbackSpeed!==t;this.playbackSpeed=t,n&&(this.time=Et(this.currentTime))}play(){if(this.resolver.isScheduled||this.resolver.resume(),!this._resolved){this.pendingPlayState="running";return}if(this.isStopped)return;let{driver:t=VS,onPlay:n,startTime:r}=this.options;this.driver||(this.driver=t(i=>this.tick(i))),n&&n();let o=this.driver.now();this.holdTime!==null?this.startTime=o-this.holdTime:this.startTime?this.state==="finished"&&(this.startTime=o):this.startTime=r!=null?r:this.calcStartTime(),this.state==="finished"&&this.updateFinishedPromise(),this.cancelTime=this.startTime,this.holdTime=null,this.state="running",this.driver.start()}pause(){var t;if(!this._resolved){this.pendingPlayState="paused";return}this.state="paused",this.holdTime=(t=this.currentTime)!==null&&t!==void 0?t:0}complete(){this.state!=="running"&&this.play(),this.pendingPlayState=this.state="finished",this.holdTime=null}finish(){this.teardown(),this.state="finished";let{onComplete:t}=this.options;t&&t()}cancel(){this.cancelTime!==null&&this.tick(this.cancelTime),this.teardown(),this.updateFinishedPromise()}teardown(){this.state="idle",this.stopDriver(),this.resolveFinishedPromise(),this.updateFinishedPromise(),this.startTime=this.cancelTime=null,this.resolver.cancel()}stopDriver(){this.driver&&(this.driver.stop(),this.driver=void 0)}sample(t){return this.startTime=0,this.tick(t,!0)}};var id=new Set(["opacity","clipPath","filter","transform"]);var Ok=10,BS=(e,t)=>{let n="",r=Math.max(Math.round(t/Ok),2);for(let o=0;o<r;o++)n+=e(pn(0,r-1,o))+", ";return`linear(${n.substring(0,n.length-2)})`};function Xs(e){let t;return()=>(t===void 0&&(t=e()),t)}var jS={linearEasing:void 0};function US(e,t){let n=Xs(e);return()=>{var r;return(r=jS[t])!==null&&r!==void 0?r:n()}}var qs=US(()=>{try{document.createElement("div").animate({opacity:0},{easing:"linear(0, 1)"})}catch(e){return!1}return!0},"linearEasing");function cy(e){return!!(typeof e=="function"&&qs()||!e||typeof e=="string"&&(e in uy||qs())||Xl(e)||Array.isArray(e)&&e.every(cy))}var Yl=([e,t,n,r])=>`cubic-bezier(${e}, ${t}, ${n}, ${r})`,uy={linear:"linear",ease:"ease",easeIn:"ease-in",easeOut:"ease-out",easeInOut:"ease-in-out",circIn:Yl([0,.65,.55,1]),circOut:Yl([.55,0,1,.45]),backIn:Yl([.31,.01,.66,-.59]),backOut:Yl([.33,1.53,.69,.99])};function fy(e,t){if(e)return typeof e=="function"&&qs()?BS(e,t):Xl(e)?Yl(e):Array.isArray(e)?e.map(n=>fy(n,t)||uy.easeOut):uy[e]}function $S(e,t,n,{delay:r=0,duration:o=300,repeat:i=0,repeatType:s="loop",ease:a,times:l}={}){let u={[t]:n};l&&(u.offset=l);let c=fy(a,o);return Array.isArray(c)&&(u.easing=c),e.animate(u,{delay:r,duration:o,easing:Array.isArray(c)?"linear":c,fill:"both",iterations:i+1,direction:s==="reverse"?"alternate":"normal"})}function dy(e,t){e.timeline=t,e.onfinish=null}var zS=Xs(()=>Object.hasOwnProperty.call(Element.prototype,"animate"));var sd=10,Nk=2e4;function Dk(e){return Hs(e.type)||e.type==="spring"||!cy(e.ease)}function Lk(e,t){let n=new Ei({...t,keyframes:e,repeat:0,delay:0,isGenerator:!0}),r={done:!1,value:e[0]},o=[],i=0;for(;!r.done&&i<Nk;)r=n.sample(i),o.push(r.value),i+=sd;return{times:void 0,keyframes:o,duration:i-sd,ease:"linear"}}var WS={anticipate:jf,backInOut:Bf,circInOut:zf};function Fk(e){return e in WS}var Ql=class extends Ks{constructor(t){super(t);let{name:n,motionValue:r,element:o,keyframes:i}=this.options;this.resolver=new Ws(i,(s,a)=>this.onKeyframesResolved(s,a),n,r,o),this.resolver.scheduleResolve()}initPlayback(t,n){var r;let{duration:o=300,times:i,ease:s,type:a,motionValue:l,name:u,startTime:c}=this.options;if(!(!((r=l.owner)===null||r===void 0)&&r.current))return!1;if(typeof s=="string"&&qs()&&Fk(s)&&(s=WS[s]),Dk(this.options)){let{onComplete:d,onUpdate:h,motionValue:y,element:v,...x}=this.options,g=Lk(t,x);t=g.keyframes,t.length===1&&(t[1]=t[0]),o=g.duration,i=g.times,s=g.ease,a="keyframes"}let f=$S(l.owner.current,u,t,{...this.options,duration:o,times:i,ease:s});return f.startTime=c!=null?c:this.calcStartTime(),this.pendingTimeline?(dy(f,this.pendingTimeline),this.pendingTimeline=void 0):f.onfinish=()=>{let{onComplete:d}=this.options;l.set(ao(t,this.options,n)),d&&d(),this.cancel(),this.resolveFinishedPromise()},{animation:f,duration:o,times:i,type:a,ease:s,keyframes:t}}get duration(){let{resolved:t}=this;if(!t)return 0;let{duration:n}=t;return Et(n)}get time(){let{resolved:t}=this;if(!t)return 0;let{animation:n}=t;return Et(n.currentTime||0)}set time(t){let{resolved:n}=this;if(!n)return;let{animation:r}=n;r.currentTime=ot(t)}get speed(){let{resolved:t}=this;if(!t)return 1;let{animation:n}=t;return n.playbackRate}set speed(t){let{resolved:n}=this;if(!n)return;let{animation:r}=n;r.playbackRate=t}get state(){let{resolved:t}=this;if(!t)return"idle";let{animation:n}=t;return n.playState}get startTime(){let{resolved:t}=this;if(!t)return null;let{animation:n}=t;return n.startTime}attachTimeline(t){if(!this._resolved)this.pendingTimeline=t;else{let{resolved:n}=this;if(!n)return oe;let{animation:r}=n;dy(r,t)}return oe}play(){if(this.isStopped)return;let{resolved:t}=this;if(!t)return;let{animation:n}=t;n.playState==="finished"&&this.updateFinishedPromise(),n.play()}pause(){let{resolved:t}=this;if(!t)return;let{animation:n}=t;n.pause()}stop(){if(this.resolver.cancel(),this.isStopped=!0,this.state==="idle")return;this.resolveFinishedPromise(),this.updateFinishedPromise();let{resolved:t}=this;if(!t)return;let{animation:n,keyframes:r,duration:o,type:i,ease:s,times:a}=t;if(n.playState==="idle"||n.playState==="finished")return;if(this.time){let{motionValue:u,onUpdate:c,onComplete:f,element:d,...h}=this.options,y=new Ei({...h,keyframes:r,duration:o,type:i,ease:s,times:a,isGenerator:!0}),v=ot(this.time);u.setWithVelocity(y.sample(v-sd).value,y.sample(v).value,sd)}let{onStop:l}=this.options;l&&l(),this.cancel()}complete(){let{resolved:t}=this;t&&t.animation.finish()}cancel(){let{resolved:t}=this;t&&t.animation.cancel()}static supports(t){let{motionValue:n,name:r,repeatDelay:o,repeatType:i,damping:s,type:a}=t;return zS()&&r&&id.has(r)&&n&&n.owner&&n.owner.current instanceof HTMLElement&&!n.owner.getProps().onUpdate&&!o&&i!=="mirror"&&s!==0&&a!=="inertia"}};var HS=Xs(()=>window.ScrollTimeline!==void 0);var ad=class{constructor(t){this.stop=()=>this.runAll("stop"),this.animations=t.filter(Boolean)}then(t,n){return Promise.all(this.animations).then(t).catch(n)}getAll(t){return this.animations[0][t]}setAll(t,n){for(let r=0;r<this.animations.length;r++)this.animations[r][t]=n}attachTimeline(t,n){let r=this.animations.map(o=>HS()&&o.attachTimeline?o.attachTimeline(t):n(o));return()=>{r.forEach((o,i)=>{o&&o(),this.animations[i].stop()})}}get time(){return this.getAll("time")}set time(t){this.setAll("time",t)}get speed(){return this.getAll("speed")}set speed(t){this.setAll("speed",t)}get startTime(){return this.getAll("startTime")}get duration(){let t=0;for(let n=0;n<this.animations.length;n++)t=Math.max(t,this.animations[n].duration);return t}runAll(t){this.animations.forEach(n=>n[t]())}play(){this.runAll("play")}pause(){this.runAll("pause")}cancel(){this.runAll("cancel")}complete(){this.runAll("complete")}};function KS({when:e,delay:t,delayChildren:n,staggerChildren:r,staggerDirection:o,repeat:i,repeatType:s,repeatDelay:a,from:l,elapsed:u,...c}){return!!Object.keys(c).length}var Ys=(e,t,n,r={},o,i)=>s=>{let a=Fs(r,e)||{},l=a.delay||r.delay||0,{elapsed:u=0}=r;u=u-ot(l);let c={keyframes:Array.isArray(n)?n:[null,n],ease:"easeOut",velocity:t.getVelocity(),...a,delay:-u,onUpdate:d=>{t.set(d),a.onUpdate&&a.onUpdate(d)},onComplete:()=>{s(),a.onComplete&&a.onComplete()},name:e,motionValue:t,element:i?void 0:o};KS(a)||(c={...c,...qC(e,c)}),c.duration&&(c.duration=ot(c.duration)),c.repeatDelay&&(c.repeatDelay=ot(c.repeatDelay)),c.from!==void 0&&(c.keyframes[0]=c.from);let f=!1;if((c.type===!1||c.duration===0&&!c.repeatDelay)&&(c.duration=0,c.delay===0&&(f=!0)),(Of.current||Vs.skipAnimations)&&(f=!0,c.duration=0,c.delay=0),f&&!i&&t.get()!==void 0){let d=ao(c.keyframes,a);if(d!==void 0)return H.update(()=>{c.onUpdate(d),c.onComplete()}),new ad([])}return!i&&Ql.supports(c)?new Ql(c):new Ei(c)};var GS=e=>!!(e&&typeof e=="object"&&e.mix&&e.toValue),XS=e=>Ul(e)?e[e.length-1]||0:e;function Qs(e,t){e.indexOf(t)===-1&&e.push(t)}function Js(e,t){let n=e.indexOf(t);n>-1&&e.splice(n,1)}var po=class{constructor(){this.subscriptions=[]}add(t){return Qs(this.subscriptions,t),()=>Js(this.subscriptions,t)}notify(t,n,r){let o=this.subscriptions.length;if(o)if(o===1)this.subscriptions[0](t,n,r);else for(let i=0;i<o;i++){let s=this.subscriptions[i];s&&s(t,n,r)}}getSize(){return this.subscriptions.length}clear(){this.subscriptions.length=0}};var qS=30,Vk=e=>!isNaN(parseFloat(e)),YS={current:void 0},my=class{constructor(t,n={}){this.version="11.11.4",this.canTrackVelocity=null,this.events={},this.updateAndNotify=(r,o=!0)=>{let i=it.now();this.updatedAt!==i&&this.setPrevFrameValue(),this.prev=this.current,this.setCurrent(r),this.current!==this.prev&&this.events.change&&this.events.change.notify(this.current),o&&this.events.renderRequest&&this.events.renderRequest.notify(this.current)},this.hasAnimated=!1,this.setCurrent(t),this.owner=n.owner}setCurrent(t){this.current=t,this.updatedAt=it.now(),this.canTrackVelocity===null&&t!==void 0&&(this.canTrackVelocity=Vk(this.current))}setPrevFrameValue(t=this.current){this.prevFrameValue=t,this.prevUpdatedAt=this.updatedAt}onChange(t){return this.on("change",t)}on(t,n){this.events[t]||(this.events[t]=new po);let r=this.events[t].add(n);return t==="change"?()=>{r(),H.read(()=>{this.events.change.getSize()||this.stop()})}:r}clearListeners(){for(let t in this.events)this.events[t].clear()}attach(t,n){this.passiveEffect=t,this.stopPassiveEffect=n}set(t,n=!0){!n||!this.passiveEffect?this.updateAndNotify(t,n):this.passiveEffect(t,this.updateAndNotify)}setWithVelocity(t,n,r){this.set(n),this.prev=void 0,this.prevFrameValue=t,this.prevUpdatedAt=this.updatedAt-r}jump(t,n=!0){this.updateAndNotify(t),this.prev=t,this.prevUpdatedAt=this.prevFrameValue=void 0,n&&this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}get(){return YS.current&&YS.current.push(this),this.current}getPrevious(){return this.prev}getVelocity(){let t=it.now();if(!this.canTrackVelocity||this.prevFrameValue===void 0||t-this.updatedAt>qS)return 0;let n=Math.min(this.updatedAt-this.prevUpdatedAt,qS);return Qf(parseFloat(this.current)-parseFloat(this.prevFrameValue),n)}start(t){return this.stop(),new Promise(n=>{this.hasAnimated=!0,this.animation=t(n),this.events.animationStart&&this.events.animationStart.notify()}).then(()=>{this.events.animationComplete&&this.events.animationComplete.notify(),this.clearAnimation()})}stop(){this.animation&&(this.animation.stop(),this.events.animationCancel&&this.events.animationCancel.notify()),this.clearAnimation()}isAnimating(){return!!this.animation}clearAnimation(){delete this.animation}destroy(){this.clearListeners(),this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}};function ur(e,t){return new my(e,t)}function Bk(e,t,n){e.hasValue(t)?e.getValue(t).set(n):e.addValue(t,ur(n))}function QS(e,t){let n=io(e,t),{transitionEnd:r={},transition:o={},...i}=n||{};i={...i,...r};for(let s in i){let a=XS(i[s]);Bk(e,s,a)}}var ho=e=>e.replace(/([a-z])([A-Z])/gu,"$1-$2").toLowerCase();var jk="framerAppearId",ld="data-"+ho(jk);function ud(e){return e.props[ld]}var le=e=>!!(e&&e.getVelocity);function JS(e){return!!(le(e)&&e.add)}function cd(e){if(rt.has(e))return"transform";if(id.has(e))return ho(e)}function Jl(e,t){var n;if(!e.applyWillChange)return;let r=e.getValue("willChange");if(JS(r))return r.add(t);!(!((n=e.props.style)===null||n===void 0)&&n.willChange)&&cd(t)&&e.setStaticValue("willChange","transform")}function Uk({protectedKeys:e,needsAnimating:t},n){let r=e.hasOwnProperty(n)&&t[n]!==!0;return t[n]=!1,r}function fd(e,t,{delay:n=0,transitionOverride:r,type:o}={}){var i;let{transition:s=e.getDefaultTransition(),transitionEnd:a,...l}=t;r&&(s=r);let u=[],c=o&&e.animationState&&e.animationState.getState()[o];for(let f in l){let d=e.getValue(f,(i=e.latestValues[f])!==null&&i!==void 0?i:null),h=l[f];if(h===void 0||c&&Uk(c,f))continue;let y={delay:n,...Fs(s||{},f)},v=!1;if(window.MotionHandoffAnimation){let g=ud(e);if(g){let m=window.MotionHandoffAnimation(g,f,H);m!==null&&(y.startTime=m,v=!0)}}Jl(e,f),d.start(Ys(f,d,h,e.shouldReduceMotion&&rt.has(f)?{type:!1}:y,e,v));let x=d.animation;x&&u.push(x)}return a&&Promise.all(u).then(()=>{H.update(()=>{a&&QS(e,a)})}),u}function dd(e,t,n={}){var r;let o=io(e,t,n.type==="exit"?(r=e.presenceContext)===null||r===void 0?void 0:r.custom:void 0),{transition:i=e.getDefaultTransition()||{}}=o||{};n.transitionOverride&&(i=n.transitionOverride);let s=o?()=>Promise.all(fd(e,o,n)):()=>Promise.resolve(),a=e.variantChildren&&e.variantChildren.size?(u=0)=>{let{delayChildren:c=0,staggerChildren:f,staggerDirection:d}=i;return $k(e,t,c+u,f,d,n)}:()=>Promise.resolve(),{when:l}=i;if(l){let[u,c]=l==="beforeChildren"?[s,a]:[a,s];return u().then(()=>c())}else return Promise.all([s(),a(n.delay)])}function $k(e,t,n=0,r=0,o=1,i){let s=[],a=(e.variantChildren.size-1)*r,l=o===1?(u=0)=>u*r:(u=0)=>a-u*r;return Array.from(e.variantChildren).sort(zk).forEach((u,c)=>{u.notify("AnimationStart",t),s.push(dd(u,t,{...i,delay:n+l(c)}).then(()=>u.notify("AnimationComplete",t)))}),Promise.all(s)}function zk(e,t){return e.sortNodePosition(t)}function ZS(e,t,n={}){e.notify("AnimationStart",t);let r;if(Array.isArray(t)){let o=t.map(i=>dd(e,i,n));r=Promise.all(o)}else if(typeof t=="string")r=dd(e,t,n);else{let o=typeof t=="function"?io(e,t,n.custom):t;r=Promise.all(fd(e,o,n))}return r.then(()=>{e.notify("AnimationComplete",t)})}var Wk=$l.length;function py(e){if(!e)return;if(!e.isControllingVariants){let n=e.parent?py(e.parent)||{}:{};return e.props.initial!==void 0&&(n.initial=e.props.initial),n}let t={};for(let n=0;n<Wk;n++){let r=$l[n],o=e.props[r];(ar(o)||o===!1)&&(t[r]=o)}return t}var Hk=[...Mf].reverse(),Kk=Mf.length;function Gk(e){return t=>Promise.all(t.map(({animation:n,options:r})=>ZS(e,n,r)))}function tP(e){let t=Gk(e),n=eP(),r=!0,o=l=>(u,c)=>{var f;let d=io(e,c,l==="exit"?(f=e.presenceContext)===null||f===void 0?void 0:f.custom:void 0);if(d){let{transition:h,transitionEnd:y,...v}=d;u={...u,...v,...y}}return u};function i(l){t=l(e)}function s(l){let{props:u}=e,c=py(e.parent)||{},f=[],d=new Set,h={},y=1/0;for(let x=0;x<Kk;x++){let g=Hk[x],m=n[g],p=u[g]!==void 0?u[g]:c[g],w=ar(p),C=g===l?m.isActive:null;C===!1&&(y=x);let P=p===c[g]&&p!==u[g]&&w;if(P&&r&&e.manuallyAnimateOnMount&&(P=!1),m.protectedKeys={...h},!m.isActive&&C===null||!p&&!m.prevProp||sr(p)||typeof p=="boolean")continue;let S=Xk(m.prevProp,p),E=S||g===l&&m.isActive&&!P&&w||x>y&&w,T=!1,R=Array.isArray(p)?p:[p],A=R.reduce(o(g),{});C===!1&&(A={});let{prevResolvedValues:b={}}=m,D={...b,...A},L=B=>{E=!0,d.has(B)&&(T=!0,d.delete(B)),m.needsAnimating[B]=!0;let W=e.getValue(B);W&&(W.liveStyle=!1)};for(let B in D){let W=A[B],V=b[B];if(h.hasOwnProperty(B))continue;let de=!1;Ul(W)&&Ul(V)?de=!Hg(W,V):de=W!==V,de?W!=null?L(B):d.add(B):W!==void 0&&d.has(B)?L(B):m.protectedKeys[B]=!0}m.prevProp=p,m.prevResolvedValues=A,m.isActive&&(h={...h,...A}),r&&e.blockInitialAnimation&&(E=!1),E&&(!(P&&S)||T)&&f.push(...R.map(B=>({animation:B,options:{type:g}})))}if(d.size){let x={};d.forEach(g=>{let m=e.getBaseTarget(g),p=e.getValue(g);p&&(p.liveStyle=!0),x[g]=m!=null?m:null}),f.push({animation:x})}let v=!!f.length;return r&&(u.initial===!1||u.initial===u.animate)&&!e.manuallyAnimateOnMount&&(v=!1),r=!1,v?t(f):Promise.resolve()}function a(l,u){var c;if(n[l].isActive===u)return Promise.resolve();(c=e.variantChildren)===null||c===void 0||c.forEach(d=>{var h;return(h=d.animationState)===null||h===void 0?void 0:h.setActive(l,u)}),n[l].isActive=u;let f=s(l);for(let d in n)n[d].protectedKeys={};return f}return{animateChanges:s,setActive:a,setAnimateFunction:i,getState:()=>n,reset:()=>{n=eP(),r=!0}}}function Xk(e,t){return typeof t=="string"?t!==e:Array.isArray(t)?!Hg(t,e):!1}function Ri(e=!1){return{isActive:e,protectedKeys:{},needsAnimating:{},prevResolvedValues:{}}}function eP(){return{animate:Ri(!0),whileInView:Ri(),whileHover:Ri(),whileTap:Ri(),whileDrag:Ri(),whileFocus:Ri(),exit:Ri()}}var Ue=class{constructor(t){this.isMounted=!1,this.node=t}update(){}};var md=class extends Ue{constructor(t){super(t),t.animationState||(t.animationState=tP(t))}updateAnimationControlsSubscription(){let{animate:t}=this.node.getProps();sr(t)&&(this.unmountControls=t.subscribe(this.node))}mount(){this.updateAnimationControlsSubscription()}update(){let{animate:t}=this.node.getProps(),{animate:n}=this.node.prevProps||{};t!==n&&this.updateAnimationControlsSubscription()}unmount(){var t;this.node.animationState.reset(),(t=this.unmountControls)===null||t===void 0||t.call(this)}};var qk=0,pd=class extends Ue{constructor(){super(...arguments),this.id=qk++}update(){if(!this.node.presenceContext)return;let{isPresent:t,onExitComplete:n}=this.node.presenceContext,{isPresent:r}=this.node.prevPresenceContext||{};if(!this.node.animationState||t===r)return;let o=this.node.animationState.setActive("exit",!t);n&&!t&&o.then(()=>n(this.id))}mount(){let{register:t}=this.node.presenceContext||{};t&&(this.unmount=t(this.id))}unmount(){}};var nP={animation:{Feature:md},exit:{Feature:pd}};var hd=e=>e.pointerType==="mouse"?typeof e.button!="number"||e.button<=0:e.isPrimary!==!1;function Ti(e,t="page"){return{point:{x:e[`${t}X`],y:e[`${t}Y`]}}}var rP=e=>t=>hd(t)&&e(t,Ti(t));function Rt(e,t,n,r={passive:!0}){return e.addEventListener(t,n,r),()=>e.removeEventListener(t,n)}function Tt(e,t,n,r){return Rt(e,t,rP(n),r)}var oP=(e,t)=>Math.abs(e-t);function iP(e,t){let n=oP(e.x,t.x),r=oP(e.y,t.y);return Math.sqrt(n**2+r**2)}var Zs=class{constructor(t,n,{transformPagePoint:r,contextWindow:o,dragSnapToOrigin:i=!1}={}){if(this.startEvent=null,this.lastMoveEvent=null,this.lastMoveEventInfo=null,this.handlers={},this.contextWindow=window,this.updatePoint=()=>{if(!(this.lastMoveEvent&&this.lastMoveEventInfo))return;let f=gy(this.lastMoveEventInfo,this.history),d=this.startEvent!==null,h=iP(f.offset,{x:0,y:0})>=3;if(!d&&!h)return;let{point:y}=f,{timestamp:v}=Ee;this.history.push({...y,timestamp:v});let{onStart:x,onMove:g}=this.handlers;d||(x&&x(this.lastMoveEvent,f),this.startEvent=this.lastMoveEvent),g&&g(this.lastMoveEvent,f)},this.handlePointerMove=(f,d)=>{this.lastMoveEvent=f,this.lastMoveEventInfo=hy(d,this.transformPagePoint),H.update(this.updatePoint,!0)},this.handlePointerUp=(f,d)=>{this.end();let{onEnd:h,onSessionEnd:y,resumeAnimation:v}=this.handlers;if(this.dragSnapToOrigin&&v&&v(),!(this.lastMoveEvent&&this.lastMoveEventInfo))return;let x=gy(f.type==="pointercancel"?this.lastMoveEventInfo:hy(d,this.transformPagePoint),this.history);this.startEvent&&h&&h(f,x),y&&y(f,x)},!hd(t))return;this.dragSnapToOrigin=i,this.handlers=n,this.transformPagePoint=r,this.contextWindow=o||window;let s=Ti(t),a=hy(s,this.transformPagePoint),{point:l}=a,{timestamp:u}=Ee;this.history=[{...l,timestamp:u}];let{onSessionStart:c}=n;c&&c(t,gy(a,this.history)),this.removeListeners=st(Tt(this.contextWindow,"pointermove",this.handlePointerMove),Tt(this.contextWindow,"pointerup",this.handlePointerUp),Tt(this.contextWindow,"pointercancel",this.handlePointerUp))}updateHandlers(t){this.handlers=t}end(){this.removeListeners&&this.removeListeners(),Bt(this.updatePoint)}};function hy(e,t){return t?{point:t(e.point)}:e}function sP(e,t){return{x:e.x-t.x,y:e.y-t.y}}function gy({point:e},t){return{point:e,delta:sP(e,aP(t)),offset:sP(e,Yk(t)),velocity:Qk(t,.1)}}function Yk(e){return e[0]}function aP(e){return e[e.length-1]}function Qk(e,t){if(e.length<2)return{x:0,y:0};let n=e.length-1,r=null,o=aP(e);for(;n>=0&&(r=e[n],!(o.timestamp-r.timestamp>ot(t)));)n--;if(!r)return{x:0,y:0};let i=Et(o.timestamp-r.timestamp);if(i===0)return{x:0,y:0};let s={x:(o.x-r.x)/i,y:(o.y-r.y)/i};return s.x===1/0&&(s.x=0),s.y===1/0&&(s.y=0),s}function cP(e){let t=null;return()=>{let n=()=>{t=null};return t===null?(t=e,n):!1}}var lP=cP("dragHorizontal"),uP=cP("dragVertical");function yy(e){let t=!1;if(e==="y")t=uP();else if(e==="x")t=lP();else{let n=lP(),r=uP();n&&r?t=()=>{n(),r()}:(n&&n(),r&&r())}return t}function gd(){let e=yy(!0);return e?(e(),!1):!0}function cr(e){return e&&typeof e=="object"&&Object.prototype.hasOwnProperty.call(e,"current")}var pP=1e-4,Jk=1-pP,Zk=1+pP,hP=.01,eM=0-hP,tM=0+hP;function qe(e){return e.max-e.min}function gP(e,t,n){return Math.abs(e-t)<=n}function fP(e,t,n,r=.5){e.origin=r,e.originPoint=Q(t.min,t.max,e.origin),e.scale=qe(n)/qe(t),e.translate=Q(n.min,n.max,e.origin)-e.originPoint,(e.scale>=Jk&&e.scale<=Zk||isNaN(e.scale))&&(e.scale=1),(e.translate>=eM&&e.translate<=tM||isNaN(e.translate))&&(e.translate=0)}function ea(e,t,n,r){fP(e.x,t.x,n.x,r?r.originX:void 0),fP(e.y,t.y,n.y,r?r.originY:void 0)}function dP(e,t,n){e.min=n.min+t.min,e.max=e.min+qe(t)}function yP(e,t,n){dP(e.x,t.x,n.x),dP(e.y,t.y,n.y)}function mP(e,t,n){e.min=t.min-n.min,e.max=e.min+qe(t)}function ta(e,t,n){mP(e.x,t.x,n.x),mP(e.y,t.y,n.y)}function SP(e,{min:t,max:n},r){return t!==void 0&&e<t?e=r?Q(t,e,r.min):Math.max(e,t):n!==void 0&&e>n&&(e=r?Q(n,e,r.max):Math.min(e,n)),e}function vP(e,t,n){return{min:t!==void 0?e.min+t:void 0,max:n!==void 0?e.max+n-(e.max-e.min):void 0}}function PP(e,{top:t,left:n,bottom:r,right:o}){return{x:vP(e.x,n,o),y:vP(e.y,t,r)}}function wP(e,t){let n=t.min-e.min,r=t.max-e.max;return t.max-t.min<e.max-e.min&&([n,r]=[r,n]),{min:n,max:r}}function EP(e,t){return{x:wP(e.x,t.x),y:wP(e.y,t.y)}}function RP(e,t){let n=.5,r=qe(e),o=qe(t);return o>r?n=pn(t.min,t.max-r,e.min):r>o&&(n=pn(e.min,e.max-o,t.min)),ht(0,1,n)}function TP(e,t){let n={};return t.min!==void 0&&(n.min=t.min-e.min),t.max!==void 0&&(n.max=t.max-e.min),n}var yd=.35;function bP(e=yd){return e===!1?e=0:e===!0&&(e=yd),{x:xP(e,"left","right"),y:xP(e,"top","bottom")}}function xP(e,t,n){return{min:CP(e,t),max:CP(e,n)}}function CP(e,t){return typeof e=="number"?e:e[t]||0}var AP=()=>({translate:0,scale:1,origin:0,originPoint:0}),bi=()=>({x:AP(),y:AP()}),_P=()=>({min:0,max:0}),fe=()=>({x:_P(),y:_P()});function bt(e){return[e("x"),e("y")]}function vd({top:e,left:t,right:n,bottom:r}){return{x:{min:t,max:n},y:{min:e,max:r}}}function IP({x:e,y:t}){return{top:t.min,right:e.max,bottom:t.max,left:e.min}}function kP(e,t){if(!t)return e;let n=t({x:e.left,y:e.top}),r=t({x:e.right,y:e.bottom});return{top:n.y,left:n.x,bottom:r.y,right:r.x}}function vy(e){return e===void 0||e===1}function wd({scale:e,scaleX:t,scaleY:n}){return!vy(e)||!vy(t)||!vy(n)}function fr(e){return wd(e)||wy(e)||e.z||e.rotate||e.rotateX||e.rotateY||e.skewX||e.skewY}function wy(e){return MP(e.x)||MP(e.y)}function MP(e){return e&&e!=="0%"}function Zl(e,t,n){let r=e-n,o=t*r;return n+o}function OP(e,t,n,r,o){return o!==void 0&&(e=Zl(e,o,r)),Zl(e,n,r)+t}function xy(e,t=0,n=1,r,o){e.min=OP(e.min,t,n,r,o),e.max=OP(e.max,t,n,r,o)}function Cy(e,{x:t,y:n}){xy(e.x,t.translate,t.scale,t.originPoint),xy(e.y,n.translate,n.scale,n.originPoint)}var NP=.999999999999,DP=1.0000000000001;function FP(e,t,n,r=!1){let o=n.length;if(!o)return;t.x=t.y=1;let i,s;for(let a=0;a<o;a++){i=n[a],s=i.projectionDelta;let{visualElement:l}=i.options;l&&l.props.style&&l.props.style.display==="contents"||(r&&i.options.layoutScroll&&i.scroll&&i!==i.root&&Ai(e,{x:-i.scroll.offset.x,y:-i.scroll.offset.y}),s&&(t.x*=s.x.scale,t.y*=s.y.scale,Cy(e,s)),r&&fr(i.latestValues)&&Ai(e,i.latestValues))}t.x<DP&&t.x>NP&&(t.x=1),t.y<DP&&t.y>NP&&(t.y=1)}function go(e,t){e.min=e.min+t,e.max=e.max+t}function LP(e,t,n,r,o=.5){let i=Q(e.min,e.max,o);xy(e,t,n,i,r)}function Ai(e,t){LP(e.x,t.x,t.scaleX,t.scale,t.originX),LP(e.y,t.y,t.scaleY,t.scale,t.originY)}function Sy(e,t){return vd(kP(e.getBoundingClientRect(),t))}function VP(e,t,n){let r=Sy(e,n),{scroll:o}=t;return o&&(go(r.x,o.offset.x),go(r.y,o.offset.y)),r}var xd=({current:e})=>e?e.ownerDocument.defaultView:null;var nM=new WeakMap,Sd=class{constructor(t){this.openGlobalLock=null,this.isDragging=!1,this.currentDirection=null,this.originPoint={x:0,y:0},this.constraints=!1,this.hasMutatedConstraints=!1,this.elastic=fe(),this.visualElement=t}start(t,{snapToCursor:n=!1}={}){let{presenceContext:r}=this.visualElement;if(r&&r.isPresent===!1)return;let o=c=>{let{dragSnapToOrigin:f}=this.getProps();f?this.pauseAnimation():this.stopAnimation(),n&&this.snapToCursor(Ti(c,"page").point)},i=(c,f)=>{let{drag:d,dragPropagation:h,onDragStart:y}=this.getProps();if(d&&!h&&(this.openGlobalLock&&this.openGlobalLock(),this.openGlobalLock=yy(d),!this.openGlobalLock))return;this.isDragging=!0,this.currentDirection=null,this.resolveConstraints(),this.visualElement.projection&&(this.visualElement.projection.isAnimationBlocked=!0,this.visualElement.projection.target=void 0),bt(x=>{let g=this.getAxisMotionValue(x).get()||0;if(gt.test(g)){let{projection:m}=this.visualElement;if(m&&m.layout){let p=m.layout.layoutBox[x];p&&(g=qe(p)*(parseFloat(g)/100))}}this.originPoint[x]=g}),y&&H.postRender(()=>y(c,f)),Jl(this.visualElement,"transform");let{animationState:v}=this.visualElement;v&&v.setActive("whileDrag",!0)},s=(c,f)=>{let{dragPropagation:d,dragDirectionLock:h,onDirectionLock:y,onDrag:v}=this.getProps();if(!d&&!this.openGlobalLock)return;let{offset:x}=f;if(h&&this.currentDirection===null){this.currentDirection=rM(x),this.currentDirection!==null&&y&&y(this.currentDirection);return}this.updateAxis("x",f.point,x),this.updateAxis("y",f.point,x),this.visualElement.render(),v&&v(c,f)},a=(c,f)=>this.stop(c,f),l=()=>bt(c=>{var f;return this.getAnimationState(c)==="paused"&&((f=this.getAxisMotionValue(c).animation)===null||f===void 0?void 0:f.play())}),{dragSnapToOrigin:u}=this.getProps();this.panSession=new Zs(t,{onSessionStart:o,onStart:i,onMove:s,onSessionEnd:a,resumeAnimation:l},{transformPagePoint:this.visualElement.getTransformPagePoint(),dragSnapToOrigin:u,contextWindow:xd(this.visualElement)})}stop(t,n){let r=this.isDragging;if(this.cancel(),!r)return;let{velocity:o}=n;this.startAnimation(o);let{onDragEnd:i}=this.getProps();i&&H.postRender(()=>i(t,n))}cancel(){this.isDragging=!1;let{projection:t,animationState:n}=this.visualElement;t&&(t.isAnimationBlocked=!1),this.panSession&&this.panSession.end(),this.panSession=void 0;let{dragPropagation:r}=this.getProps();!r&&this.openGlobalLock&&(this.openGlobalLock(),this.openGlobalLock=null),n&&n.setActive("whileDrag",!1)}updateAxis(t,n,r){let{drag:o}=this.getProps();if(!r||!Cd(t,o,this.currentDirection))return;let i=this.getAxisMotionValue(t),s=this.originPoint[t]+r[t];this.constraints&&this.constraints[t]&&(s=SP(s,this.constraints[t],this.elastic[t])),i.set(s)}resolveConstraints(){var t;let{dragConstraints:n,dragElastic:r}=this.getProps(),o=this.visualElement.projection&&!this.visualElement.projection.layout?this.visualElement.projection.measure(!1):(t=this.visualElement.projection)===null||t===void 0?void 0:t.layout,i=this.constraints;n&&cr(n)?this.constraints||(this.constraints=this.resolveRefConstraints()):n&&o?this.constraints=PP(o.layoutBox,n):this.constraints=!1,this.elastic=bP(r),i!==this.constraints&&o&&this.constraints&&!this.hasMutatedConstraints&&bt(s=>{this.constraints!==!1&&this.getAxisMotionValue(s)&&(this.constraints[s]=TP(o.layoutBox[s],this.constraints[s]))})}resolveRefConstraints(){let{dragConstraints:t,onMeasureDragConstraints:n}=this.getProps();if(!t||!cr(t))return!1;let r=t.current;mn(r!==null,"If `dragConstraints` is set as a React ref, that ref must be passed to another component's `ref` prop.");let{projection:o}=this.visualElement;if(!o||!o.layout)return!1;let i=VP(r,o.root,this.visualElement.getTransformPagePoint()),s=EP(o.layout.layoutBox,i);if(n){let a=n(IP(s));this.hasMutatedConstraints=!!a,a&&(s=vd(a))}return s}startAnimation(t){let{drag:n,dragMomentum:r,dragElastic:o,dragTransition:i,dragSnapToOrigin:s,onDragTransitionEnd:a}=this.getProps(),l=this.constraints||{},u=bt(c=>{if(!Cd(c,n,this.currentDirection))return;let f=l&&l[c]||{};s&&(f={min:0,max:0});let d=o?200:1e6,h=o?40:1e7,y={type:"inertia",velocity:r?t[c]:0,bounceStiffness:d,bounceDamping:h,timeConstant:750,restDelta:1,restSpeed:10,...i,...f};return this.startAxisValueAnimation(c,y)});return Promise.all(u).then(a)}startAxisValueAnimation(t,n){let r=this.getAxisMotionValue(t);return Jl(this.visualElement,t),r.start(Ys(t,r,0,n,this.visualElement,!1))}stopAnimation(){bt(t=>this.getAxisMotionValue(t).stop())}pauseAnimation(){bt(t=>{var n;return(n=this.getAxisMotionValue(t).animation)===null||n===void 0?void 0:n.pause()})}getAnimationState(t){var n;return(n=this.getAxisMotionValue(t).animation)===null||n===void 0?void 0:n.state}getAxisMotionValue(t){let n=`_drag${t.toUpperCase()}`,r=this.visualElement.getProps(),o=r[n];return o||this.visualElement.getValue(t,(r.initial?r.initial[t]:void 0)||0)}snapToCursor(t){bt(n=>{let{drag:r}=this.getProps();if(!Cd(n,r,this.currentDirection))return;let{projection:o}=this.visualElement,i=this.getAxisMotionValue(n);if(o&&o.layout){let{min:s,max:a}=o.layout.layoutBox[n];i.set(t[n]-Q(s,a,.5))}})}scalePositionWithinConstraints(){if(!this.visualElement.current)return;let{drag:t,dragConstraints:n}=this.getProps(),{projection:r}=this.visualElement;if(!cr(n)||!r||!this.constraints)return;this.stopAnimation();let o={x:0,y:0};bt(s=>{let a=this.getAxisMotionValue(s);if(a&&this.constraints!==!1){let l=a.get();o[s]=RP({min:l,max:l},this.constraints[s])}});let{transformTemplate:i}=this.visualElement.getProps();this.visualElement.current.style.transform=i?i({},""):"none",r.root&&r.root.updateScroll(),r.updateLayout(),this.resolveConstraints(),bt(s=>{if(!Cd(s,t,null))return;let a=this.getAxisMotionValue(s),{min:l,max:u}=this.constraints[s];a.set(Q(l,u,o[s]))})}addListeners(){if(!this.visualElement.current)return;nM.set(this.visualElement,this);let t=this.visualElement.current,n=Tt(t,"pointerdown",l=>{let{drag:u,dragListener:c=!0}=this.getProps();u&&c&&this.start(l)}),r=()=>{let{dragConstraints:l}=this.getProps();cr(l)&&l.current&&(this.constraints=this.resolveRefConstraints())},{projection:o}=this.visualElement,i=o.addEventListener("measure",r);o&&!o.layout&&(o.root&&o.root.updateScroll(),o.updateLayout()),H.read(r);let s=Rt(window,"resize",()=>this.scalePositionWithinConstraints()),a=o.addEventListener("didUpdate",({delta:l,hasLayoutChanged:u})=>{this.isDragging&&u&&(bt(c=>{let f=this.getAxisMotionValue(c);f&&(this.originPoint[c]+=l[c].translate,f.set(f.get()+l[c].translate))}),this.visualElement.render())});return()=>{s(),n(),i(),a&&a()}}getProps(){let t=this.visualElement.getProps(),{drag:n=!1,dragDirectionLock:r=!1,dragPropagation:o=!1,dragConstraints:i=!1,dragElastic:s=yd,dragMomentum:a=!0}=t;return{...t,drag:n,dragDirectionLock:r,dragPropagation:o,dragConstraints:i,dragElastic:s,dragMomentum:a}}};function Cd(e,t,n){return(t===!0||t===e)&&(n===null||n===e)}function rM(e,t=10){let n=null;return Math.abs(e.y)>t?n="y":Math.abs(e.x)>t&&(n="x"),n}var Pd=class extends Ue{constructor(t){super(t),this.removeGroupControls=oe,this.removeListeners=oe,this.controls=new Sd(t)}mount(){let{dragControls:t}=this.node.getProps();t&&(this.removeGroupControls=t.subscribe(this.controls)),this.removeListeners=this.controls.addListeners()||oe}unmount(){this.removeGroupControls(),this.removeListeners()}};var BP=e=>(t,n)=>{e&&H.postRender(()=>e(t,n))},Ed=class extends Ue{constructor(){super(...arguments),this.removePointerDownListener=oe}onPointerDown(t){this.session=new Zs(t,this.createPanHandlers(),{transformPagePoint:this.node.getTransformPagePoint(),contextWindow:xd(this.node)})}createPanHandlers(){let{onPanSessionStart:t,onPanStart:n,onPan:r,onPanEnd:o}=this.node.getProps();return{onSessionStart:BP(t),onStart:BP(n),onMove:r,onEnd:(i,s)=>{delete this.session,o&&H.postRender(()=>o(i,s))}}}mount(){this.removePointerDownListener=Tt(this.node.current,"pointerdown",t=>this.onPointerDown(t))}update(){this.session&&this.session.updateHandlers(this.createPanHandlers())}unmount(){this.removePointerDownListener(),this.session&&this.session.end()}};var GP=I(X(),1),eu=I(j(),1);var vo=I(j(),1);var jP=I(j(),1),yo=(0,jP.createContext)(null);function UP(){let e=(0,vo.useContext)(yo);if(e===null)return[!0,null];let{isPresent:t,onExitComplete:n,register:r}=e,o=(0,vo.useId)();(0,vo.useEffect)(()=>r(o),[]);let i=(0,vo.useCallback)(()=>n&&n(o),[o,n]);return!t&&n?[!1,i]:[!0]}var $P=I(j(),1),na=(0,$P.createContext)({});var zP=I(j(),1),Rd=(0,zP.createContext)({});var ra={hasAnimatedSinceResize:!0,hasEverUpdated:!1};function WP(e,t){return t.max===t.min?0:e/(t.max-t.min)*100}var oa={correct:(e,t)=>{if(!t.target)return e;if(typeof e=="string")if(O.test(e))e=parseFloat(e);else return e;let n=WP(e,t.target.x),r=WP(e,t.target.y);return`${n}% ${r}%`}};var HP={correct:(e,{treeScale:t,projectionDelta:n})=>{let r=e,o=yt.parse(e);if(o.length>5)return r;let i=yt.createTransformer(e),s=typeof o[0]!="number"?1:0,a=n.x.scale*t.x,l=n.y.scale*t.y;o[0+s]/=a,o[1+s]/=l;let u=Q(a,l,.5);return typeof o[2+s]=="number"&&(o[2+s]/=u),typeof o[3+s]=="number"&&(o[3+s]/=u),i(o)}};var ia={};function KP(e){Object.assign(ia,e)}var{schedule:sa,cancel:i9}=Df(queueMicrotask,!1);var Py=class extends eu.Component{componentDidMount(){let{visualElement:t,layoutGroup:n,switchLayoutGroup:r,layoutId:o}=this.props,{projection:i}=t;KP(oM),i&&(n.group&&n.group.add(i),r&&r.register&&o&&r.register(i),i.root.didUpdate(),i.addEventListener("animationComplete",()=>{this.safeToRemove()}),i.setOptions({...i.options,onExitComplete:()=>this.safeToRemove()})),ra.hasEverUpdated=!0}getSnapshotBeforeUpdate(t){let{layoutDependency:n,visualElement:r,drag:o,isPresent:i}=this.props,s=r.projection;return s&&(s.isPresent=i,o||t.layoutDependency!==n||n===void 0?s.willUpdate():this.safeToRemove(),t.isPresent!==i&&(i?s.promote():s.relegate()||H.postRender(()=>{let a=s.getStack();(!a||!a.members.length)&&this.safeToRemove()}))),null}componentDidUpdate(){let{projection:t}=this.props.visualElement;t&&(t.root.didUpdate(),sa.postRender(()=>{!t.currentAnimation&&t.isLead()&&this.safeToRemove()}))}componentWillUnmount(){let{visualElement:t,layoutGroup:n,switchLayoutGroup:r}=this.props,{projection:o}=t;o&&(o.scheduleCheckAfterUnmount(),n&&n.group&&n.group.remove(o),r&&r.deregister&&r.deregister(o))}safeToRemove(){let{safeToRemove:t}=this.props;t&&t()}render(){return null}};function Td(e){let[t,n]=UP(),r=(0,eu.useContext)(na);return(0,GP.jsx)(Py,{...e,layoutGroup:r,switchLayoutGroup:(0,eu.useContext)(Rd),isPresent:t,safeToRemove:n})}var oM={borderRadius:{...oa,applyTo:["borderTopLeftRadius","borderTopRightRadius","borderBottomLeftRadius","borderBottomRightRadius"]},borderTopLeftRadius:oa,borderTopRightRadius:oa,borderBottomLeftRadius:oa,borderBottomRightRadius:oa,boxShadow:HP};var QP=["TopLeft","TopRight","BottomLeft","BottomRight"],iM=QP.length,XP=e=>typeof e=="string"?parseFloat(e):e,qP=e=>typeof e=="number"||O.test(e);function JP(e,t,n,r,o,i){o?(e.opacity=Q(0,n.opacity!==void 0?n.opacity:1,sM(r)),e.opacityExit=Q(t.opacity!==void 0?t.opacity:1,0,aM(r))):i&&(e.opacity=Q(t.opacity!==void 0?t.opacity:1,n.opacity!==void 0?n.opacity:1,r));for(let s=0;s<iM;s++){let a=`border${QP[s]}Radius`,l=YP(t,a),u=YP(n,a);if(l===void 0&&u===void 0)continue;l||(l=0),u||(u=0),l===0||u===0||qP(l)===qP(u)?(e[a]=Math.max(Q(XP(l),XP(u),r),0),(gt.test(u)||gt.test(l))&&(e[a]+="%")):e[a]=u}(t.rotate||n.rotate)&&(e.rotate=Q(t.rotate||0,n.rotate||0,r))}function YP(e,t){return e[t]!==void 0?e[t]:e.borderRadius}var sM=ZP(0,.5,$f),aM=ZP(.5,.95,oe);function ZP(e,t,n){return r=>r<e?0:r>t?1:n(pn(e,t,r))}function eE(e,t){e.min=t.min,e.max=t.max}function jt(e,t){eE(e.x,t.x),eE(e.y,t.y)}function Ey(e,t){e.translate=t.translate,e.scale=t.scale,e.originPoint=t.originPoint,e.origin=t.origin}function tE(e,t,n,r,o){return e-=t,e=Zl(e,1/n,r),o!==void 0&&(e=Zl(e,1/o,r)),e}function lM(e,t=0,n=1,r=.5,o,i=e,s=e){if(gt.test(t)&&(t=parseFloat(t),t=Q(s.min,s.max,t/100)-s.min),typeof t!="number")return;let a=Q(i.min,i.max,r);e===i&&(a-=t),e.min=tE(e.min,t,n,a,o),e.max=tE(e.max,t,n,a,o)}function nE(e,t,[n,r,o],i,s){lM(e,t[n],t[r],t[o],t.scale,i,s)}var uM=["x","scaleX","originX"],cM=["y","scaleY","originY"];function Ry(e,t,n,r){nE(e.x,t,uM,n?n.x:void 0,r?r.x:void 0),nE(e.y,t,cM,n?n.y:void 0,r?r.y:void 0)}function rE(e){return e.translate===0&&e.scale===1}function Ty(e){return rE(e.x)&&rE(e.y)}function oE(e,t){return e.min===t.min&&e.max===t.max}function sE(e,t){return oE(e.x,t.x)&&oE(e.y,t.y)}function iE(e,t){return Math.round(e.min)===Math.round(t.min)&&Math.round(e.max)===Math.round(t.max)}function by(e,t){return iE(e.x,t.x)&&iE(e.y,t.y)}function Ay(e){return qe(e.x)/qe(e.y)}function _y(e,t){return e.translate===t.translate&&e.scale===t.scale&&e.originPoint===t.originPoint}var bd=class{constructor(){this.members=[]}add(t){Qs(this.members,t),t.scheduleRender()}remove(t){if(Js(this.members,t),t===this.prevLead&&(this.prevLead=void 0),t===this.lead){let n=this.members[this.members.length-1];n&&this.promote(n)}}relegate(t){let n=this.members.findIndex(o=>t===o);if(n===0)return!1;let r;for(let o=n;o>=0;o--){let i=this.members[o];if(i.isPresent!==!1){r=i;break}}return r?(this.promote(r),!0):!1}promote(t,n){let r=this.lead;if(t!==r&&(this.prevLead=r,this.lead=t,t.show(),r)){r.instance&&r.scheduleRender(),t.scheduleRender(),t.resumeFrom=r,n&&(t.resumeFrom.preserveOpacity=!0),r.snapshot&&(t.snapshot=r.snapshot,t.snapshot.latestValues=r.animationValues||r.latestValues),t.root&&t.root.isUpdating&&(t.isLayoutDirty=!0);let{crossfade:o}=t.options;o===!1&&r.hide()}}exitAnimationComplete(){this.members.forEach(t=>{let{options:n,resumingFrom:r}=t;n.onExitComplete&&n.onExitComplete(),r&&r.options.onExitComplete&&r.options.onExitComplete()})}scheduleRender(){this.members.forEach(t=>{t.instance&&t.scheduleRender(!1)})}removeLeadSnapshot(){this.lead&&this.lead.snapshot&&(this.lead.snapshot=void 0)}};function aE(e,t,n){let r="",o=e.x.translate/t.x,i=e.y.translate/t.y,s=(n==null?void 0:n.z)||0;if((o||i||s)&&(r=`translate3d(${o}px, ${i}px, ${s}px) `),(t.x!==1||t.y!==1)&&(r+=`scale(${1/t.x}, ${1/t.y}) `),n){let{transformPerspective:u,rotate:c,rotateX:f,rotateY:d,skewX:h,skewY:y}=n;u&&(r=`perspective(${u}px) ${r}`),c&&(r+=`rotate(${c}deg) `),f&&(r+=`rotateX(${f}deg) `),d&&(r+=`rotateY(${d}deg) `),h&&(r+=`skewX(${h}deg) `),y&&(r+=`skewY(${y}deg) `)}let a=e.x.scale*t.x,l=e.y.scale*t.y;return(a!==1||l!==1)&&(r+=`scale(${a}, ${l})`),r||"none"}var lE=(e,t)=>e.depth-t.depth;var Ad=class{constructor(){this.children=[],this.isDirty=!1}add(t){Qs(this.children,t),this.isDirty=!0}remove(t){Js(this.children,t),this.isDirty=!0}forEach(t){this.isDirty&&this.children.sort(lE),this.isDirty=!1,this.children.forEach(t)}};function aa(e){let t=le(e)?e.get():e;return GS(t)?t.toValue():t}function uE(e,t){let n=it.now(),r=({timestamp:o})=>{let i=o-n;i>=t&&(Bt(r),e(i-t))};return H.read(r,!0),()=>Bt(r)}function cE(e){return e instanceof SVGElement&&e.tagName!=="svg"}function fE(e,t,n){let r=le(e)?e:ur(e);return r.start(Ys("",r,t,n)),r.animation}var _i={type:"projectionFrame",totalNodes:0,resolvedTargetDeltas:0,recalculatedProjection:0},tu=typeof window!="undefined"&&window.MotionDebug!==void 0,Iy=["","X","Y","Z"],fM={visibility:"hidden"},dE=1e3,dM=0;function ky(e,t,n,r){let{latestValues:o}=t;o[e]&&(n[e]=o[e],t.setStaticValue(e,0),r&&(r[e]=0))}function xE(e){if(e.hasCheckedOptimisedAppear=!0,e.root===e)return;let{visualElement:t}=e.options;if(!t)return;let n=ud(t);if(window.MotionHasOptimisedAnimation(n,"transform")){let{layout:o,layoutId:i}=e.options;window.MotionCancelOptimisedAnimation(n,"transform",H,!(o||i))}let{parent:r}=e;r&&!r.hasCheckedOptimisedAppear&&xE(r)}function _d({attachResizeListener:e,defaultParent:t,measureScroll:n,checkIsScrollRoot:r,resetTransform:o}){return class{constructor(s={},a=t==null?void 0:t()){this.id=dM++,this.animationId=0,this.children=new Set,this.options={},this.isTreeAnimating=!1,this.isAnimationBlocked=!1,this.isLayoutDirty=!1,this.isProjectionDirty=!1,this.isSharedProjectionDirty=!1,this.isTransformDirty=!1,this.updateManuallyBlocked=!1,this.updateBlockedByResize=!1,this.isUpdating=!1,this.isSVG=!1,this.needsReset=!1,this.shouldResetTransform=!1,this.hasCheckedOptimisedAppear=!1,this.treeScale={x:1,y:1},this.eventHandlers=new Map,this.hasTreeAnimated=!1,this.updateScheduled=!1,this.scheduleUpdate=()=>this.update(),this.projectionUpdateScheduled=!1,this.checkUpdateFailed=()=>{this.isUpdating&&(this.isUpdating=!1,this.clearAllSnapshots())},this.updateProjection=()=>{this.projectionUpdateScheduled=!1,tu&&(_i.totalNodes=_i.resolvedTargetDeltas=_i.recalculatedProjection=0),this.nodes.forEach(hM),this.nodes.forEach(xM),this.nodes.forEach(CM),this.nodes.forEach(gM),tu&&window.MotionDebug.record(_i)},this.resolvedRelativeTargetAt=0,this.hasProjected=!1,this.isVisible=!0,this.animationProgress=0,this.sharedNodes=new Map,this.latestValues=s,this.root=a?a.root||a:this,this.path=a?[...a.path,a]:[],this.parent=a,this.depth=a?a.depth+1:0;for(let l=0;l<this.path.length;l++)this.path[l].shouldResetTransform=!0;this.root===this&&(this.nodes=new Ad)}addEventListener(s,a){return this.eventHandlers.has(s)||this.eventHandlers.set(s,new po),this.eventHandlers.get(s).add(a)}notifyListeners(s,...a){let l=this.eventHandlers.get(s);l&&l.notify(...a)}hasListeners(s){return this.eventHandlers.has(s)}mount(s,a=this.root.hasTreeAnimated){if(this.instance)return;this.isSVG=cE(s),this.instance=s;let{layoutId:l,layout:u,visualElement:c}=this.options;if(c&&!c.current&&c.mount(s),this.root.nodes.add(this),this.parent&&this.parent.children.add(this),a&&(u||l)&&(this.isLayoutDirty=!0),e){let f,d=()=>this.root.updateBlockedByResize=!1;e(s,()=>{this.root.updateBlockedByResize=!0,f&&f(),f=uE(d,250),ra.hasAnimatedSinceResize&&(ra.hasAnimatedSinceResize=!1,this.nodes.forEach(pE))})}l&&this.root.registerSharedNode(l,this),this.options.animate!==!1&&c&&(l||u)&&this.addEventListener("didUpdate",({delta:f,hasLayoutChanged:d,hasRelativeTargetChanged:h,layout:y})=>{if(this.isTreeAnimationBlocked()){this.target=void 0,this.relativeTarget=void 0;return}let v=this.options.transition||c.getDefaultTransition()||TM,{onLayoutAnimationStart:x,onLayoutAnimationComplete:g}=c.getProps(),m=!this.targetLayout||!by(this.targetLayout,y)||h,p=!d&&h;if(this.options.layoutRoot||this.resumeFrom&&this.resumeFrom.instance||p||d&&(m||!this.currentAnimation)){this.resumeFrom&&(this.resumingFrom=this.resumeFrom,this.resumingFrom.resumingFrom=void 0),this.setAnimationOrigin(f,p);let w={...Fs(v,"layout"),onPlay:x,onComplete:g};(c.shouldReduceMotion||this.options.layoutRoot)&&(w.delay=0,w.type=!1),this.startAnimation(w)}else d||pE(this),this.isLead()&&this.options.onExitComplete&&this.options.onExitComplete();this.targetLayout=y})}unmount(){this.options.layoutId&&this.willUpdate(),this.root.nodes.remove(this);let s=this.getStack();s&&s.remove(this),this.parent&&this.parent.children.delete(this),this.instance=void 0,Bt(this.updateProjection)}blockUpdate(){this.updateManuallyBlocked=!0}unblockUpdate(){this.updateManuallyBlocked=!1}isUpdateBlocked(){return this.updateManuallyBlocked||this.updateBlockedByResize}isTreeAnimationBlocked(){return this.isAnimationBlocked||this.parent&&this.parent.isTreeAnimationBlocked()||!1}startUpdate(){this.isUpdateBlocked()||(this.isUpdating=!0,this.nodes&&this.nodes.forEach(SM),this.animationId++)}getTransformTemplate(){let{visualElement:s}=this.options;return s&&s.getProps().transformTemplate}willUpdate(s=!0){if(this.root.hasTreeAnimated=!0,this.root.isUpdateBlocked()){this.options.onExitComplete&&this.options.onExitComplete();return}if(window.MotionCancelOptimisedAnimation&&!this.hasCheckedOptimisedAppear&&xE(this),!this.root.isUpdating&&this.root.startUpdate(),this.isLayoutDirty)return;this.isLayoutDirty=!0;for(let c=0;c<this.path.length;c++){let f=this.path[c];f.shouldResetTransform=!0,f.updateScroll("snapshot"),f.options.layoutRoot&&f.willUpdate(!1)}let{layoutId:a,layout:l}=this.options;if(a===void 0&&!l)return;let u=this.getTransformTemplate();this.prevTransformTemplateValue=u?u(this.latestValues,""):void 0,this.updateSnapshot(),s&&this.notifyListeners("willUpdate")}update(){if(this.updateScheduled=!1,this.isUpdateBlocked()){this.unblockUpdate(),this.clearAllSnapshots(),this.nodes.forEach(mE);return}this.isUpdating||this.nodes.forEach(vM),this.isUpdating=!1,this.nodes.forEach(wM),this.nodes.forEach(mM),this.nodes.forEach(pM),this.clearAllSnapshots();let a=it.now();Ee.delta=ht(0,1e3/60,a-Ee.timestamp),Ee.timestamp=a,Ee.isProcessing=!0,Lf.update.process(Ee),Lf.preRender.process(Ee),Lf.render.process(Ee),Ee.isProcessing=!1}didUpdate(){this.updateScheduled||(this.updateScheduled=!0,sa.read(this.scheduleUpdate))}clearAllSnapshots(){this.nodes.forEach(yM),this.sharedNodes.forEach(PM)}scheduleUpdateProjection(){this.projectionUpdateScheduled||(this.projectionUpdateScheduled=!0,H.preRender(this.updateProjection,!1,!0))}scheduleCheckAfterUnmount(){H.postRender(()=>{this.isLayoutDirty?this.root.didUpdate():this.root.checkUpdateFailed()})}updateSnapshot(){this.snapshot||!this.instance||(this.snapshot=this.measure())}updateLayout(){if(!this.instance||(this.updateScroll(),!(this.options.alwaysMeasureLayout&&this.isLead())&&!this.isLayoutDirty))return;if(this.resumeFrom&&!this.resumeFrom.instance)for(let l=0;l<this.path.length;l++)this.path[l].updateScroll();let s=this.layout;this.layout=this.measure(!1),this.layoutCorrected=fe(),this.isLayoutDirty=!1,this.projectionDelta=void 0,this.notifyListeners("measure",this.layout.layoutBox);let{visualElement:a}=this.options;a&&a.notify("LayoutMeasure",this.layout.layoutBox,s?s.layoutBox:void 0)}updateScroll(s="measure"){let a=!!(this.options.layoutScroll&&this.instance);if(this.scroll&&this.scroll.animationId===this.root.animationId&&this.scroll.phase===s&&(a=!1),a){let l=r(this.instance);this.scroll={animationId:this.root.animationId,phase:s,isRoot:l,offset:n(this.instance),wasRoot:this.scroll?this.scroll.isRoot:l}}}resetTransform(){if(!o)return;let s=this.isLayoutDirty||this.shouldResetTransform||this.options.alwaysMeasureLayout,a=this.projectionDelta&&!Ty(this.projectionDelta),l=this.getTransformTemplate(),u=l?l(this.latestValues,""):void 0,c=u!==this.prevTransformTemplateValue;s&&(a||fr(this.latestValues)||c)&&(o(this.instance,u),this.shouldResetTransform=!1,this.scheduleRender())}measure(s=!0){let a=this.measurePageBox(),l=this.removeElementScroll(a);return s&&(l=this.removeTransform(l)),bM(l),{animationId:this.root.animationId,measuredBox:a,layoutBox:l,latestValues:{},source:this.id}}measurePageBox(){var s;let{visualElement:a}=this.options;if(!a)return fe();let l=a.measureViewportBox();if(!(((s=this.scroll)===null||s===void 0?void 0:s.wasRoot)||this.path.some(AM))){let{scroll:c}=this.root;c&&(go(l.x,c.offset.x),go(l.y,c.offset.y))}return l}removeElementScroll(s){var a;let l=fe();if(jt(l,s),!((a=this.scroll)===null||a===void 0)&&a.wasRoot)return l;for(let u=0;u<this.path.length;u++){let c=this.path[u],{scroll:f,options:d}=c;c!==this.root&&f&&d.layoutScroll&&(f.wasRoot&&jt(l,s),go(l.x,f.offset.x),go(l.y,f.offset.y))}return l}applyTransform(s,a=!1){let l=fe();jt(l,s);for(let u=0;u<this.path.length;u++){let c=this.path[u];!a&&c.options.layoutScroll&&c.scroll&&c!==c.root&&Ai(l,{x:-c.scroll.offset.x,y:-c.scroll.offset.y}),fr(c.latestValues)&&Ai(l,c.latestValues)}return fr(this.latestValues)&&Ai(l,this.latestValues),l}removeTransform(s){let a=fe();jt(a,s);for(let l=0;l<this.path.length;l++){let u=this.path[l];if(!u.instance||!fr(u.latestValues))continue;wd(u.latestValues)&&u.updateSnapshot();let c=fe(),f=u.measurePageBox();jt(c,f),Ry(a,u.latestValues,u.snapshot?u.snapshot.layoutBox:void 0,c)}return fr(this.latestValues)&&Ry(a,this.latestValues),a}setTargetDelta(s){this.targetDelta=s,this.root.scheduleUpdateProjection(),this.isProjectionDirty=!0}setOptions(s){this.options={...this.options,...s,crossfade:s.crossfade!==void 0?s.crossfade:!0}}clearMeasurements(){this.scroll=void 0,this.layout=void 0,this.snapshot=void 0,this.prevTransformTemplateValue=void 0,this.targetDelta=void 0,this.target=void 0,this.isLayoutDirty=!1}forceRelativeParentToResolveTarget(){this.relativeParent&&this.relativeParent.resolvedRelativeTargetAt!==Ee.timestamp&&this.relativeParent.resolveTargetDelta(!0)}resolveTargetDelta(s=!1){var a;let l=this.getLead();this.isProjectionDirty||(this.isProjectionDirty=l.isProjectionDirty),this.isTransformDirty||(this.isTransformDirty=l.isTransformDirty),this.isSharedProjectionDirty||(this.isSharedProjectionDirty=l.isSharedProjectionDirty);let u=!!this.resumingFrom||this!==l;if(!(s||u&&this.isSharedProjectionDirty||this.isProjectionDirty||!((a=this.parent)===null||a===void 0)&&a.isProjectionDirty||this.attemptToResolveRelativeTarget||this.root.updateBlockedByResize))return;let{layout:f,layoutId:d}=this.options;if(!(!this.layout||!(f||d))){if(this.resolvedRelativeTargetAt=Ee.timestamp,!this.targetDelta&&!this.relativeTarget){let h=this.getClosestProjectingParent();h&&h.layout&&this.animationProgress!==1?(this.relativeParent=h,this.forceRelativeParentToResolveTarget(),this.relativeTarget=fe(),this.relativeTargetOrigin=fe(),ta(this.relativeTargetOrigin,this.layout.layoutBox,h.layout.layoutBox),jt(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}if(!(!this.relativeTarget&&!this.targetDelta)){if(this.target||(this.target=fe(),this.targetWithTransforms=fe()),this.relativeTarget&&this.relativeTargetOrigin&&this.relativeParent&&this.relativeParent.target?(this.forceRelativeParentToResolveTarget(),yP(this.target,this.relativeTarget,this.relativeParent.target)):this.targetDelta?(this.resumingFrom?this.target=this.applyTransform(this.layout.layoutBox):jt(this.target,this.layout.layoutBox),Cy(this.target,this.targetDelta)):jt(this.target,this.layout.layoutBox),this.attemptToResolveRelativeTarget){this.attemptToResolveRelativeTarget=!1;let h=this.getClosestProjectingParent();h&&!!h.resumingFrom==!!this.resumingFrom&&!h.options.layoutScroll&&h.target&&this.animationProgress!==1?(this.relativeParent=h,this.forceRelativeParentToResolveTarget(),this.relativeTarget=fe(),this.relativeTargetOrigin=fe(),ta(this.relativeTargetOrigin,this.target,h.target),jt(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}tu&&_i.resolvedTargetDeltas++}}}getClosestProjectingParent(){if(!(!this.parent||wd(this.parent.latestValues)||wy(this.parent.latestValues)))return this.parent.isProjecting()?this.parent:this.parent.getClosestProjectingParent()}isProjecting(){return!!((this.relativeTarget||this.targetDelta||this.options.layoutRoot)&&this.layout)}calcProjection(){var s;let a=this.getLead(),l=!!this.resumingFrom||this!==a,u=!0;if((this.isProjectionDirty||!((s=this.parent)===null||s===void 0)&&s.isProjectionDirty)&&(u=!1),l&&(this.isSharedProjectionDirty||this.isTransformDirty)&&(u=!1),this.resolvedRelativeTargetAt===Ee.timestamp&&(u=!1),u)return;let{layout:c,layoutId:f}=this.options;if(this.isTreeAnimating=!!(this.parent&&this.parent.isTreeAnimating||this.currentAnimation||this.pendingAnimation),this.isTreeAnimating||(this.targetDelta=this.relativeTarget=void 0),!this.layout||!(c||f))return;jt(this.layoutCorrected,this.layout.layoutBox);let d=this.treeScale.x,h=this.treeScale.y;FP(this.layoutCorrected,this.treeScale,this.path,l),a.layout&&!a.target&&(this.treeScale.x!==1||this.treeScale.y!==1)&&(a.target=a.layout.layoutBox,a.targetWithTransforms=fe());let{target:y}=a;if(!y){this.prevProjectionDelta&&(this.createProjectionDeltas(),this.scheduleRender());return}!this.projectionDelta||!this.prevProjectionDelta?this.createProjectionDeltas():(Ey(this.prevProjectionDelta.x,this.projectionDelta.x),Ey(this.prevProjectionDelta.y,this.projectionDelta.y)),ea(this.projectionDelta,this.layoutCorrected,y,this.latestValues),(this.treeScale.x!==d||this.treeScale.y!==h||!_y(this.projectionDelta.x,this.prevProjectionDelta.x)||!_y(this.projectionDelta.y,this.prevProjectionDelta.y))&&(this.hasProjected=!0,this.scheduleRender(),this.notifyListeners("projectionUpdate",y)),tu&&_i.recalculatedProjection++}hide(){this.isVisible=!1}show(){this.isVisible=!0}scheduleRender(s=!0){var a;if((a=this.options.visualElement)===null||a===void 0||a.scheduleRender(),s){let l=this.getStack();l&&l.scheduleRender()}this.resumingFrom&&!this.resumingFrom.instance&&(this.resumingFrom=void 0)}createProjectionDeltas(){this.prevProjectionDelta=bi(),this.projectionDelta=bi(),this.projectionDeltaWithTransform=bi()}setAnimationOrigin(s,a=!1){let l=this.snapshot,u=l?l.latestValues:{},c={...this.latestValues},f=bi();(!this.relativeParent||!this.relativeParent.options.layoutRoot)&&(this.relativeTarget=this.relativeTargetOrigin=void 0),this.attemptToResolveRelativeTarget=!a;let d=fe(),h=l?l.source:void 0,y=this.layout?this.layout.source:void 0,v=h!==y,x=this.getStack(),g=!x||x.members.length<=1,m=!!(v&&!g&&this.options.crossfade===!0&&!this.path.some(RM));this.animationProgress=0;let p;this.mixTargetDelta=w=>{let C=w/1e3;hE(f.x,s.x,C),hE(f.y,s.y,C),this.setTargetDelta(f),this.relativeTarget&&this.relativeTargetOrigin&&this.layout&&this.relativeParent&&this.relativeParent.layout&&(ta(d,this.layout.layoutBox,this.relativeParent.layout.layoutBox),EM(this.relativeTarget,this.relativeTargetOrigin,d,C),p&&sE(this.relativeTarget,p)&&(this.isProjectionDirty=!1),p||(p=fe()),jt(p,this.relativeTarget)),v&&(this.animationValues=c,JP(c,u,this.latestValues,C,m,g)),this.root.scheduleUpdateProjection(),this.scheduleRender(),this.animationProgress=C},this.mixTargetDelta(this.options.layoutRoot?1e3:0)}startAnimation(s){this.notifyListeners("animationStart"),this.currentAnimation&&this.currentAnimation.stop(),this.resumingFrom&&this.resumingFrom.currentAnimation&&this.resumingFrom.currentAnimation.stop(),this.pendingAnimation&&(Bt(this.pendingAnimation),this.pendingAnimation=void 0),this.pendingAnimation=H.update(()=>{ra.hasAnimatedSinceResize=!0,this.currentAnimation=fE(0,dE,{...s,onUpdate:a=>{this.mixTargetDelta(a),s.onUpdate&&s.onUpdate(a)},onComplete:()=>{s.onComplete&&s.onComplete(),this.completeAnimation()}}),this.resumingFrom&&(this.resumingFrom.currentAnimation=this.currentAnimation),this.pendingAnimation=void 0})}completeAnimation(){this.resumingFrom&&(this.resumingFrom.currentAnimation=void 0,this.resumingFrom.preserveOpacity=void 0);let s=this.getStack();s&&s.exitAnimationComplete(),this.resumingFrom=this.currentAnimation=this.animationValues=void 0,this.notifyListeners("animationComplete")}finishAnimation(){this.currentAnimation&&(this.mixTargetDelta&&this.mixTargetDelta(dE),this.currentAnimation.stop()),this.completeAnimation()}applyTransformsToTarget(){let s=this.getLead(),{targetWithTransforms:a,target:l,layout:u,latestValues:c}=s;if(!(!a||!l||!u)){if(this!==s&&this.layout&&u&&CE(this.options.animationType,this.layout.layoutBox,u.layoutBox)){l=this.target||fe();let f=qe(this.layout.layoutBox.x);l.x.min=s.target.x.min,l.x.max=l.x.min+f;let d=qe(this.layout.layoutBox.y);l.y.min=s.target.y.min,l.y.max=l.y.min+d}jt(a,l),Ai(a,c),ea(this.projectionDeltaWithTransform,this.layoutCorrected,a,c)}}registerSharedNode(s,a){this.sharedNodes.has(s)||this.sharedNodes.set(s,new bd),this.sharedNodes.get(s).add(a);let u=a.options.initialPromotionConfig;a.promote({transition:u?u.transition:void 0,preserveFollowOpacity:u&&u.shouldPreserveFollowOpacity?u.shouldPreserveFollowOpacity(a):void 0})}isLead(){let s=this.getStack();return s?s.lead===this:!0}getLead(){var s;let{layoutId:a}=this.options;return a?((s=this.getStack())===null||s===void 0?void 0:s.lead)||this:this}getPrevLead(){var s;let{layoutId:a}=this.options;return a?(s=this.getStack())===null||s===void 0?void 0:s.prevLead:void 0}getStack(){let{layoutId:s}=this.options;if(s)return this.root.sharedNodes.get(s)}promote({needsReset:s,transition:a,preserveFollowOpacity:l}={}){let u=this.getStack();u&&u.promote(this,l),s&&(this.projectionDelta=void 0,this.needsReset=!0),a&&this.setOptions({transition:a})}relegate(){let s=this.getStack();return s?s.relegate(this):!1}resetSkewAndRotation(){let{visualElement:s}=this.options;if(!s)return;let a=!1,{latestValues:l}=s;if((l.z||l.rotate||l.rotateX||l.rotateY||l.rotateZ||l.skewX||l.skewY)&&(a=!0),!a)return;let u={};l.z&&ky("z",s,u,this.animationValues);for(let c=0;c<Iy.length;c++)ky(`rotate${Iy[c]}`,s,u,this.animationValues),ky(`skew${Iy[c]}`,s,u,this.animationValues);s.render();for(let c in u)s.setStaticValue(c,u[c]),this.animationValues&&(this.animationValues[c]=u[c]);s.scheduleRender()}getProjectionStyles(s){var a,l;if(!this.instance||this.isSVG)return;if(!this.isVisible)return fM;let u={visibility:""},c=this.getTransformTemplate();if(this.needsReset)return this.needsReset=!1,u.opacity="",u.pointerEvents=aa(s==null?void 0:s.pointerEvents)||"",u.transform=c?c(this.latestValues,""):"none",u;let f=this.getLead();if(!this.projectionDelta||!this.layout||!f.target){let v={};return this.options.layoutId&&(v.opacity=this.latestValues.opacity!==void 0?this.latestValues.opacity:1,v.pointerEvents=aa(s==null?void 0:s.pointerEvents)||""),this.hasProjected&&!fr(this.latestValues)&&(v.transform=c?c({},""):"none",this.hasProjected=!1),v}let d=f.animationValues||f.latestValues;this.applyTransformsToTarget(),u.transform=aE(this.projectionDeltaWithTransform,this.treeScale,d),c&&(u.transform=c(d,u.transform));let{x:h,y}=this.projectionDelta;u.transformOrigin=`${h.origin*100}% ${y.origin*100}% 0`,f.animationValues?u.opacity=f===this?(l=(a=d.opacity)!==null&&a!==void 0?a:this.latestValues.opacity)!==null&&l!==void 0?l:1:this.preserveOpacity?this.latestValues.opacity:d.opacityExit:u.opacity=f===this?d.opacity!==void 0?d.opacity:"":d.opacityExit!==void 0?d.opacityExit:0;for(let v in ia){if(d[v]===void 0)continue;let{correct:x,applyTo:g}=ia[v],m=u.transform==="none"?d[v]:x(d[v],f);if(g){let p=g.length;for(let w=0;w<p;w++)u[g[w]]=m}else u[v]=m}return this.options.layoutId&&(u.pointerEvents=f===this?aa(s==null?void 0:s.pointerEvents)||"":"none"),u}clearSnapshot(){this.resumeFrom=this.snapshot=void 0}resetTree(){this.root.nodes.forEach(s=>{var a;return(a=s.currentAnimation)===null||a===void 0?void 0:a.stop()}),this.root.nodes.forEach(mE),this.root.sharedNodes.clear()}}}function mM(e){e.updateLayout()}function pM(e){var t;let n=((t=e.resumeFrom)===null||t===void 0?void 0:t.snapshot)||e.snapshot;if(e.isLead()&&e.layout&&n&&e.hasListeners("didUpdate")){let{layoutBox:r,measuredBox:o}=e.layout,{animationType:i}=e.options,s=n.source!==e.layout.source;i==="size"?bt(f=>{let d=s?n.measuredBox[f]:n.layoutBox[f],h=qe(d);d.min=r[f].min,d.max=d.min+h}):CE(i,n.layoutBox,r)&&bt(f=>{let d=s?n.measuredBox[f]:n.layoutBox[f],h=qe(r[f]);d.max=d.min+h,e.relativeTarget&&!e.currentAnimation&&(e.isProjectionDirty=!0,e.relativeTarget[f].max=e.relativeTarget[f].min+h)});let a=bi();ea(a,r,n.layoutBox);let l=bi();s?ea(l,e.applyTransform(o,!0),n.measuredBox):ea(l,r,n.layoutBox);let u=!Ty(a),c=!1;if(!e.resumeFrom){let f=e.getClosestProjectingParent();if(f&&!f.resumeFrom){let{snapshot:d,layout:h}=f;if(d&&h){let y=fe();ta(y,n.layoutBox,d.layoutBox);let v=fe();ta(v,r,h.layoutBox),by(y,v)||(c=!0),f.options.layoutRoot&&(e.relativeTarget=v,e.relativeTargetOrigin=y,e.relativeParent=f)}}}e.notifyListeners("didUpdate",{layout:r,snapshot:n,delta:l,layoutDelta:a,hasLayoutChanged:u,hasRelativeTargetChanged:c})}else if(e.isLead()){let{onExitComplete:r}=e.options;r&&r()}e.options.transition=void 0}function hM(e){tu&&_i.totalNodes++,e.parent&&(e.isProjecting()||(e.isProjectionDirty=e.parent.isProjectionDirty),e.isSharedProjectionDirty||(e.isSharedProjectionDirty=!!(e.isProjectionDirty||e.parent.isProjectionDirty||e.parent.isSharedProjectionDirty)),e.isTransformDirty||(e.isTransformDirty=e.parent.isTransformDirty))}function gM(e){e.isProjectionDirty=e.isSharedProjectionDirty=e.isTransformDirty=!1}function yM(e){e.clearSnapshot()}function mE(e){e.clearMeasurements()}function vM(e){e.isLayoutDirty=!1}function wM(e){let{visualElement:t}=e.options;t&&t.getProps().onBeforeLayoutMeasure&&t.notify("BeforeLayoutMeasure"),e.resetTransform()}function pE(e){e.finishAnimation(),e.targetDelta=e.relativeTarget=e.target=void 0,e.isProjectionDirty=!0}function xM(e){e.resolveTargetDelta()}function CM(e){e.calcProjection()}function SM(e){e.resetSkewAndRotation()}function PM(e){e.removeLeadSnapshot()}function hE(e,t,n){e.translate=Q(t.translate,0,n),e.scale=Q(t.scale,1,n),e.origin=t.origin,e.originPoint=t.originPoint}function gE(e,t,n,r){e.min=Q(t.min,n.min,r),e.max=Q(t.max,n.max,r)}function EM(e,t,n,r){gE(e.x,t.x,n.x,r),gE(e.y,t.y,n.y,r)}function RM(e){return e.animationValues&&e.animationValues.opacityExit!==void 0}var TM={duration:.45,ease:[.4,0,.1,1]},yE=e=>typeof navigator!="undefined"&&navigator.userAgent&&navigator.userAgent.toLowerCase().includes(e),vE=yE("applewebkit/")&&!yE("chrome/")?Math.round:oe;function wE(e){e.min=vE(e.min),e.max=vE(e.max)}function bM(e){wE(e.x),wE(e.y)}function CE(e,t,n){return e==="position"||e==="preserve-aspect"&&!gP(Ay(t),Ay(n),.2)}function AM(e){var t;return e!==e.root&&((t=e.scroll)===null||t===void 0?void 0:t.wasRoot)}var SE=_d({attachResizeListener:(e,t)=>Rt(e,"resize",t),measureScroll:()=>({x:document.documentElement.scrollLeft||document.body.scrollLeft,y:document.documentElement.scrollTop||document.body.scrollTop}),checkIsScrollRoot:()=>!0});var My={current:void 0},Id=_d({measureScroll:e=>({x:e.scrollLeft,y:e.scrollTop}),defaultParent:()=>{if(!My.current){let e=new SE({});e.mount(window),e.setOptions({layoutScroll:!0}),My.current=e}return My.current},resetTransform:(e,t)=>{e.style.transform=t!==void 0?t:"none"},checkIsScrollRoot:e=>window.getComputedStyle(e).position==="fixed"});var PE={pan:{Feature:Ed},drag:{Feature:Pd,ProjectionNode:Id,MeasureLayout:Td}};function EE(e,t){let n=t?"pointerenter":"pointerleave",r=t?"onHoverStart":"onHoverEnd",o=(i,s)=>{if(i.pointerType==="touch"||gd())return;let a=e.getProps();e.animationState&&a.whileHover&&e.animationState.setActive("whileHover",t);let l=a[r];l&&H.postRender(()=>l(i,s))};return Tt(e.current,n,o,{passive:!e.getProps()[r]})}var kd=class extends Ue{mount(){this.unmount=st(EE(this.node,!0),EE(this.node,!1))}unmount(){}};var Md=class extends Ue{constructor(){super(...arguments),this.isActive=!1}onFocus(){let t=!1;try{t=this.node.current.matches(":focus-visible")}catch(n){t=!0}!t||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!0),this.isActive=!0)}onBlur(){!this.isActive||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!1),this.isActive=!1)}mount(){this.unmount=st(Rt(this.node.current,"focus",()=>this.onFocus()),Rt(this.node.current,"blur",()=>this.onBlur()))}unmount(){}};var Oy=(e,t)=>t?e===t?!0:Oy(e,t.parentElement):!1;function Ny(e,t){if(!t)return;let n=new PointerEvent("pointer"+e);t(n,Ti(n))}var Od=class extends Ue{constructor(){super(...arguments),this.removeStartListeners=oe,this.removeEndListeners=oe,this.removeAccessibleListeners=oe,this.startPointerPress=(t,n)=>{if(this.isPressing)return;this.removeEndListeners();let r=this.node.getProps(),i=Tt(window,"pointerup",(a,l)=>{if(!this.checkPressEnd())return;let{onTap:u,onTapCancel:c,globalTapTarget:f}=this.node.getProps(),d=!f&&!Oy(this.node.current,a.target)?c:u;d&&H.update(()=>d(a,l))},{passive:!(r.onTap||r.onPointerUp)}),s=Tt(window,"pointercancel",(a,l)=>this.cancelPress(a,l),{passive:!(r.onTapCancel||r.onPointerCancel)});this.removeEndListeners=st(i,s),this.startPress(t,n)},this.startAccessiblePress=()=>{let t=i=>{if(i.key!=="Enter"||this.isPressing)return;let s=a=>{a.key!=="Enter"||!this.checkPressEnd()||Ny("up",(l,u)=>{let{onTap:c}=this.node.getProps();c&&H.postRender(()=>c(l,u))})};this.removeEndListeners(),this.removeEndListeners=Rt(this.node.current,"keyup",s),Ny("down",(a,l)=>{this.startPress(a,l)})},n=Rt(this.node.current,"keydown",t),r=()=>{this.isPressing&&Ny("cancel",(i,s)=>this.cancelPress(i,s))},o=Rt(this.node.current,"blur",r);this.removeAccessibleListeners=st(n,o)}}startPress(t,n){this.isPressing=!0;let{onTapStart:r,whileTap:o}=this.node.getProps();o&&this.node.animationState&&this.node.animationState.setActive("whileTap",!0),r&&H.postRender(()=>r(t,n))}checkPressEnd(){return this.removeEndListeners(),this.isPressing=!1,this.node.getProps().whileTap&&this.node.animationState&&this.node.animationState.setActive("whileTap",!1),!gd()}cancelPress(t,n){if(!this.checkPressEnd())return;let{onTapCancel:r}=this.node.getProps();r&&H.postRender(()=>r(t,n))}mount(){let t=this.node.getProps(),n=Tt(t.globalTapTarget?window:this.node.current,"pointerdown",this.startPointerPress,{passive:!(t.onTapStart||t.onPointerStart)}),r=Rt(this.node.current,"focus",this.startAccessiblePress);this.removeStartListeners=st(n,r)}unmount(){this.removeStartListeners(),this.removeEndListeners(),this.removeAccessibleListeners()}};var Ly=new WeakMap,Dy=new WeakMap,_M=e=>{let t=Ly.get(e.target);t&&t(e)},IM=e=>{e.forEach(_M)};function kM({root:e,...t}){let n=e||document;Dy.has(n)||Dy.set(n,{});let r=Dy.get(n),o=JSON.stringify(t);return r[o]||(r[o]=new IntersectionObserver(IM,{root:e,...t})),r[o]}function RE(e,t,n){let r=kM(t);return Ly.set(e,n),r.observe(e),()=>{Ly.delete(e),r.unobserve(e)}}var MM={some:0,all:1},Nd=class extends Ue{constructor(){super(...arguments),this.hasEnteredView=!1,this.isInView=!1}startObserver(){this.unmount();let{viewport:t={}}=this.node.getProps(),{root:n,margin:r,amount:o="some",once:i}=t,s={root:n?n.current:void 0,rootMargin:r,threshold:typeof o=="number"?o:MM[o]},a=l=>{let{isIntersecting:u}=l;if(this.isInView===u||(this.isInView=u,i&&!u&&this.hasEnteredView))return;u&&(this.hasEnteredView=!0),this.node.animationState&&this.node.animationState.setActive("whileInView",u);let{onViewportEnter:c,onViewportLeave:f}=this.node.getProps(),d=u?c:f;d&&d(l)};return RE(this.node.current,s,a)}mount(){this.startObserver()}update(){if(typeof IntersectionObserver=="undefined")return;let{props:t,prevProps:n}=this.node;["amount","margin","root"].some(OM(t,n))&&this.startObserver()}unmount(){}};function OM({viewport:e={}},{viewport:t={}}={}){return n=>e[n]!==t[n]}var TE={inView:{Feature:Nd},tap:{Feature:Od},focus:{Feature:Md},hover:{Feature:kd}};var bE={layout:{ProjectionNode:Id,MeasureLayout:Td}};var jd=I(X(),1),ca=I(j(),1);var AE=I(j(),1),la=(0,AE.createContext)({transformPagePoint:e=>e,isStatic:!1,reducedMotion:"never"});var _E=I(j(),1),wo=(0,_E.createContext)({});var Ut=I(j(),1);var Dd=I(j(),1);var ua=typeof window!="undefined";var Ld=ua?Dd.useLayoutEffect:Dd.useEffect;var IE=I(j(),1),Fd=(0,IE.createContext)({strict:!1});function kE(e,t,n,r,o){var i,s;let{visualElement:a}=(0,Ut.useContext)(wo),l=(0,Ut.useContext)(Fd),u=(0,Ut.useContext)(yo),c=(0,Ut.useContext)(la).reducedMotion,f=(0,Ut.useRef)();r=r||l.renderer,!f.current&&r&&(f.current=r(e,{visualState:t,parent:a,props:n,presenceContext:u,blockInitialAnimation:u?u.initial===!1:!1,reducedMotionConfig:c}));let d=f.current,h=(0,Ut.useContext)(Rd);d&&!d.projection&&o&&(d.type==="html"||d.type==="svg")&&NM(f.current,n,o,h),(0,Ut.useInsertionEffect)(()=>{d&&d.update(n,u)});let y=n[ld],v=(0,Ut.useRef)(!!y&&!(!((i=window.MotionHandoffIsComplete)===null||i===void 0)&&i.call(window,y))&&((s=window.MotionHasOptimisedAnimation)===null||s===void 0?void 0:s.call(window,y)));return Ld(()=>{d&&(window.MotionIsMounted=!0,d.updateFeatures(),sa.render(d.render),v.current&&d.animationState&&d.animationState.animateChanges())}),(0,Ut.useEffect)(()=>{d&&(!v.current&&d.animationState&&d.animationState.animateChanges(),v.current&&(queueMicrotask(()=>{var x;(x=window.MotionHandoffMarkAsComplete)===null||x===void 0||x.call(window,y)}),v.current=!1))}),d}function NM(e,t,n,r){let{layoutId:o,layout:i,drag:s,dragConstraints:a,layoutScroll:l,layoutRoot:u}=t;e.projection=new n(e.latestValues,t["data-framer-portal-id"]?void 0:ME(e.parent)),e.projection.setOptions({layoutId:o,layout:i,alwaysMeasureLayout:!!s||a&&cr(a),visualElement:e,animationType:typeof i=="string"?i:"both",initialPromotionConfig:r,layoutScroll:l,layoutRoot:u})}function ME(e){if(e)return e.options.allowProjection!==!1?e.projection:ME(e.parent)}var OE=I(j(),1);function NE(e,t,n){return(0,OE.useCallback)(r=>{r&&e.mount&&e.mount(r),t&&(r?t.mount(r):t.unmount()),n&&(typeof n=="function"?n(r):cr(n)&&(n.current=r))},[t])}var Bd=I(j(),1);function Ii(e){return sr(e.animate)||$l.some(t=>ar(e[t]))}function Vd(e){return!!(Ii(e)||e.variants)}function DE(e,t){if(Ii(e)){let{initial:n,animate:r}=e;return{initial:n===!1||ar(n)?n:void 0,animate:ar(r)?r:void 0}}return e.inherit!==!1?t:{}}function FE(e){let{initial:t,animate:n}=DE(e,(0,Bd.useContext)(wo));return(0,Bd.useMemo)(()=>({initial:t,animate:n}),[LE(t),LE(n)])}function LE(e){return Array.isArray(e)?e.join(" "):e}var VE={animation:["animate","variants","whileHover","whileTap","exit","whileInView","whileFocus","whileDrag"],exit:["exit"],drag:["drag","dragControls"],focus:["whileFocus"],hover:["whileHover","onHoverStart","onHoverEnd"],tap:["whileTap","onTap","onTapStart","onTapCancel"],pan:["onPan","onPanStart","onPanSessionStart","onPanEnd"],inView:["whileInView","onViewportEnter","onViewportLeave"],layout:["layout","layoutId"]},dr={};for(let e in VE)dr[e]={isEnabled:t=>VE[e].some(n=>!!t[n])};function BE(e){for(let t in e)dr[t]={...dr[t],...e[t]}}var jE=Symbol.for("motionComponentSymbol");function UE({preloadedFeatures:e,createVisualElement:t,useRender:n,useVisualState:r,Component:o}){e&&BE(e);function i(a,l){let u,c={...(0,ca.useContext)(la),...a,layoutId:DM(a)},{isStatic:f}=c,d=FE(a),h=r(a,f);if(!f&&ua){LM(c,e);let y=FM(c);u=y.MeasureLayout,d.visualElement=kE(o,h,c,t,y.ProjectionNode)}return(0,jd.jsxs)(wo.Provider,{value:d,children:[u&&d.visualElement?(0,jd.jsx)(u,{visualElement:d.visualElement,...c}):null,n(o,a,NE(h,d.visualElement,l),h,f,d.visualElement)]})}let s=(0,ca.forwardRef)(i);return s[jE]=o,s}function DM({layoutId:e}){let t=(0,ca.useContext)(na).id;return t&&e!==void 0?t+"-"+e:e}function LM(e,t){let n=(0,ca.useContext)(Fd).strict}function FM(e){let{drag:t,layout:n}=dr;if(!t&&!n)return{};let r={...t,...n};return{MeasureLayout:t!=null&&t.isEnabled(e)||n!=null&&n.isEnabled(e)?r.MeasureLayout:void 0,ProjectionNode:r.ProjectionNode}}var $E=["animate","circle","defs","desc","ellipse","g","image","line","filter","marker","mask","metadata","path","pattern","polygon","polyline","rect","stop","switch","symbol","svg","text","tspan","use","view"];function fa(e){return typeof e!="string"||e.includes("-")?!1:!!($E.indexOf(e)>-1||/[A-Z]/u.test(e))}function Ud(e,{style:t,vars:n},r,o){Object.assign(e.style,t,o&&o.getProjectionStyles(r));for(let i in n)e.style.setProperty(i,n[i])}var $d=new Set(["baseFrequency","diffuseConstant","kernelMatrix","kernelUnitLength","keySplines","keyTimes","limitingConeAngle","markerHeight","markerWidth","numOctaves","targetX","targetY","surfaceScale","specularConstant","specularExponent","stdDeviation","tableValues","viewBox","gradientTransform","pathLength","startOffset","textLength","lengthAdjust"]);function zd(e,t,n,r){Ud(e,t,void 0,r);for(let o in t.attrs)e.setAttribute($d.has(o)?o:ho(o),t.attrs[o])}function Wd(e,{layout:t,layoutId:n}){return rt.has(e)||e.startsWith("origin")||(t||n!==void 0)&&(!!ia[e]||e==="opacity")}function da(e,t,n){var r;let{style:o}=e,i={};for(let s in o)(le(o[s])||t.style&&le(t.style[s])||Wd(s,e)||((r=n==null?void 0:n.getValue(s))===null||r===void 0?void 0:r.liveStyle)!==void 0)&&(i[s]=o[s]);return n&&o&&typeof o.willChange=="string"&&(n.applyWillChange=!1),i}function Hd(e,t,n){let r=da(e,t,n);for(let o in e)if(le(e[o])||le(t[o])){let i=so.indexOf(o)!==-1?"attr"+o.charAt(0).toUpperCase()+o.substring(1):o;r[i]=e[o]}return r}var Fy=I(j(),1);var zE=I(j(),1);function ma(e){let t=(0,zE.useRef)(null);return t.current===null&&(t.current=e()),t.current}function VM({applyWillChange:e=!1,scrapeMotionValuesFromProps:t,createRenderState:n,onMount:r},o,i,s,a){let l={latestValues:BM(o,i,s,a?!1:e,t),renderState:n()};return r&&(l.mount=u=>r(o,u,l)),l}var Kd=e=>(t,n)=>{let r=(0,Fy.useContext)(wo),o=(0,Fy.useContext)(yo),i=()=>VM(e,t,r,o,n);return n?i():ma(i)};function WE(e,t,n){let r=Array.isArray(t)?t:[t];for(let o=0;o<r.length;o++){let i=Ls(e,r[o]);if(i){let{transitionEnd:s,transition:a,...l}=i;n(l,s)}}}function BM(e,t,n,r,o){var i;let s={},a=r&&((i=e.style)===null||i===void 0?void 0:i.willChange)===void 0,l=o(e,{});for(let v in l)s[v]=aa(l[v]);let{initial:u,animate:c}=e,f=Ii(e),d=Vd(e);t&&d&&!f&&e.inherit!==!1&&(u===void 0&&(u=t.initial),c===void 0&&(c=t.animate));let h=n?n.initial===!1:!1;h=h||u===!1;let y=h?c:u;return y&&typeof y!="boolean"&&!sr(y)&&WE(e,y,(v,x)=>{for(let g in v){let m=v[g];if(Array.isArray(m)){let p=h?m.length-1:0;m=m[p]}m!==null&&(s[g]=m)}for(let g in x)s[g]=x[g]}),a&&c&&u!==!1&&!sr(c)&&WE(e,c,v=>{for(let x in v)if(cd(x)){s.willChange="transform";return}}),s}var pa=()=>({style:{},transform:{},transformOrigin:{},vars:{}});var Gd=()=>({...pa(),attrs:{}});var Xd=(e,t)=>t&&typeof e=="number"?t.transform(e):e;var jM={x:"translateX",y:"translateY",z:"translateZ",transformPerspective:"perspective"},UM=so.length;function HE(e,t,n){let r="",o=!0;for(let i=0;i<UM;i++){let s=so[i],a=e[s];if(a===void 0)continue;let l=!0;if(typeof a=="number"?l=a===(s.startsWith("scale")?1:0):l=parseFloat(a)===0,!l||n){let u=Xd(a,$s[s]);if(!l){o=!1;let c=jM[s]||s;r+=`${c}(${u}) `}n&&(t[s]=u)}}return r=r.trim(),n?r=n(t,o?"":r):o&&(r="none"),r}function ha(e,t,n){let{style:r,vars:o,transformOrigin:i}=e,s=!1,a=!1;for(let l in t){let u=t[l];if(rt.has(l)){s=!0;continue}else if(Kf(l)){o[l]=u;continue}else{let c=Xd(u,$s[l]);l.startsWith("origin")?(a=!0,i[l]=c):r[l]=c}}if(t.transform||(s||n?r.transform=HE(t,e.transform,n):r.transform&&(r.transform="none")),a){let{originX:l="50%",originY:u="50%",originZ:c=0}=i;r.transformOrigin=`${l} ${u} ${c}`}}function KE(e,t,n){return typeof e=="string"?e:O.transform(t+n*e)}function GE(e,t,n){let r=KE(t,e.x,e.width),o=KE(n,e.y,e.height);return`${r} ${o}`}var $M={offset:"stroke-dashoffset",array:"stroke-dasharray"},zM={offset:"strokeDashoffset",array:"strokeDasharray"};function XE(e,t,n=1,r=0,o=!0){e.pathLength=1;let i=o?$M:zM;e[i.offset]=O.transform(-r);let s=O.transform(t),a=O.transform(n);e[i.array]=`${s} ${a}`}function ga(e,{attrX:t,attrY:n,attrScale:r,originX:o,originY:i,pathLength:s,pathSpacing:a=1,pathOffset:l=0,...u},c,f){if(ha(e,u,f),c){e.style.viewBox&&(e.attrs.viewBox=e.style.viewBox);return}e.attrs=e.style,e.style={};let{attrs:d,style:h,dimensions:y}=e;d.transform&&(y&&(h.transform=d.transform),delete d.transform),y&&(o!==void 0||i!==void 0||h.transform)&&(h.transformOrigin=GE(y,o!==void 0?o:.5,i!==void 0?i:.5)),t!==void 0&&(d.x=t),n!==void 0&&(d.y=n),r!==void 0&&(d.scale=r),s!==void 0&&XE(d,s,a,l,!1)}var ya=e=>typeof e=="string"&&e.toLowerCase()==="svg";var qE={useVisualState:Kd({scrapeMotionValuesFromProps:Hd,createRenderState:Gd,onMount:(e,t,{renderState:n,latestValues:r})=>{H.read(()=>{try{n.dimensions=typeof t.getBBox=="function"?t.getBBox():t.getBoundingClientRect()}catch(o){n.dimensions={x:0,y:0,width:0,height:0}}}),H.render(()=>{ga(n,r,ya(t.tagName),e.transformTemplate),zd(t,n)})}})};var YE={useVisualState:Kd({applyWillChange:!0,scrapeMotionValuesFromProps:da,createRenderState:pa})};var va=I(j(),1);var QE=I(j(),1);function Vy(e,t,n){for(let r in t)!le(t[r])&&!Wd(r,n)&&(e[r]=t[r])}function WM({transformTemplate:e},t){return(0,QE.useMemo)(()=>{let n=pa();return ha(n,t,e),Object.assign({},n.vars,n.style)},[t])}function HM(e,t){let n=e.style||{},r={};return Vy(r,n,e),Object.assign(r,WM(e,t)),r}function JE(e,t){let n={},r=HM(e,t);return e.drag&&e.dragListener!==!1&&(n.draggable=!1,r.userSelect=r.WebkitUserSelect=r.WebkitTouchCallout="none",r.touchAction=e.drag===!0?"none":`pan-${e.drag==="x"?"y":"x"}`),e.tabIndex===void 0&&(e.onTap||e.onTapStart||e.whileTap)&&(n.tabIndex=0),n.style=r,n}var KM=new Set(["animate","exit","variants","initial","style","values","variants","transition","transformTemplate","custom","inherit","onBeforeLayoutMeasure","onAnimationStart","onAnimationComplete","onUpdate","onDragStart","onDrag","onDragEnd","onMeasureDragConstraints","onDirectionLock","onDragTransitionEnd","_dragX","_dragY","onHoverStart","onHoverEnd","onViewportEnter","onViewportLeave","globalTapTarget","ignoreStrict","viewport"]);function nu(e){return e.startsWith("while")||e.startsWith("drag")&&e!=="draggable"||e.startsWith("layout")||e.startsWith("onTap")||e.startsWith("onPan")||e.startsWith("onLayout")||KM.has(e)}var ZE=e=>!nu(e);function GM(e){e&&(ZE=t=>t.startsWith("on")?!nu(t):e(t))}try{GM(require("@emotion/is-prop-valid").default)}catch(e){}function eR(e,t,n){let r={};for(let o in e)o==="values"&&typeof e.values=="object"||(ZE(o)||n===!0&&nu(o)||!t&&!nu(o)||e.draggable&&o.startsWith("onDrag"))&&(r[o]=e[o]);return r}var tR=I(j(),1);function nR(e,t,n,r){let o=(0,tR.useMemo)(()=>{let i=Gd();return ga(i,t,ya(r),e.transformTemplate),{...i.attrs,style:{...i.style}}},[t]);if(e.style){let i={};Vy(i,e.style,e),o.style={...i,...o.style}}return o}function rR(e=!1){return(n,r,o,{latestValues:i},s)=>{let l=(fa(n)?nR:JE)(r,i,s,n),u=eR(r,typeof n=="string",e),c=n!==va.Fragment?{...u,...l,ref:o}:{},{children:f}=r,d=(0,va.useMemo)(()=>le(f)?f.get():f,[f]);return(0,va.createElement)(n,{...c,children:d})}}function oR(e,t){return function(r,{forwardMotionProps:o}={forwardMotionProps:!1}){let s={...fa(r)?qE:YE,preloadedFeatures:e,useRender:rR(o),createVisualElement:t,Component:r};return UE(s)}}var uR=I(j(),1);var ru={current:null},qd={current:!1};function iR(){if(qd.current=!0,!!ua)if(window.matchMedia){let e=window.matchMedia("(prefers-reduced-motion)"),t=()=>ru.current=e.matches;e.addListener(t),t()}else ru.current=!1}function sR(e,t,n){for(let r in t){let o=t[r],i=n[r];if(le(o))e.addValue(r,o);else if(le(i))e.addValue(r,ur(o,{owner:e}));else if(i!==o)if(e.hasValue(r)){let s=e.getValue(r);s.liveStyle===!0?s.jump(o):s.hasAnimated||s.set(o)}else{let s=e.getStaticValue(r);e.addValue(r,ur(s!==void 0?s:o,{owner:e}))}}for(let r in n)t[r]===void 0&&e.removeValue(r);return t}var By=new WeakMap;var XM=[...Yg,Ie,yt],aR=e=>XM.find(Gf(e));var lR=["AnimationStart","AnimationComplete","Update","BeforeLayoutMeasure","LayoutMeasure","LayoutAnimationStart","LayoutAnimationComplete"],Yd=class{scrapeMotionValuesFromProps(t,n,r){return{}}constructor({parent:t,props:n,presenceContext:r,reducedMotionConfig:o,blockInitialAnimation:i,visualState:s},a={}){this.applyWillChange=!1,this.current=null,this.children=new Set,this.isVariantNode=!1,this.isControllingVariants=!1,this.shouldReduceMotion=null,this.values=new Map,this.KeyframeResolver=co,this.features={},this.valueSubscriptions=new Map,this.prevMotionValues={},this.events={},this.propEventSubscriptions={},this.notifyUpdate=()=>this.notify("Update",this.latestValues),this.render=()=>{this.current&&(this.triggerBuild(),this.renderInstance(this.current,this.renderState,this.props.style,this.projection))},this.renderScheduledAt=0,this.scheduleRender=()=>{let d=it.now();this.renderScheduledAt<d&&(this.renderScheduledAt=d,H.render(this.render,!1,!0))};let{latestValues:l,renderState:u}=s;this.latestValues=l,this.baseTarget={...l},this.initialValues=n.initial?{...l}:{},this.renderState=u,this.parent=t,this.props=n,this.presenceContext=r,this.depth=t?t.depth+1:0,this.reducedMotionConfig=o,this.options=a,this.blockInitialAnimation=!!i,this.isControllingVariants=Ii(n),this.isVariantNode=Vd(n),this.isVariantNode&&(this.variantChildren=new Set),this.manuallyAnimateOnMount=!!(t&&t.current);let{willChange:c,...f}=this.scrapeMotionValuesFromProps(n,{},this);for(let d in f){let h=f[d];l[d]!==void 0&&le(h)&&h.set(l[d],!1)}}mount(t){this.current=t,By.set(t,this),this.projection&&!this.projection.instance&&this.projection.mount(t),this.parent&&this.isVariantNode&&!this.isControllingVariants&&(this.removeFromVariantTree=this.parent.addVariantChild(this)),this.values.forEach((n,r)=>this.bindToMotionValue(r,n)),qd.current||iR(),this.shouldReduceMotion=this.reducedMotionConfig==="never"?!1:this.reducedMotionConfig==="always"?!0:ru.current,this.parent&&this.parent.children.add(this),this.update(this.props,this.presenceContext)}unmount(){By.delete(this.current),this.projection&&this.projection.unmount(),Bt(this.notifyUpdate),Bt(this.render),this.valueSubscriptions.forEach(t=>t()),this.valueSubscriptions.clear(),this.removeFromVariantTree&&this.removeFromVariantTree(),this.parent&&this.parent.children.delete(this);for(let t in this.events)this.events[t].clear();for(let t in this.features){let n=this.features[t];n&&(n.unmount(),n.isMounted=!1)}this.current=null}bindToMotionValue(t,n){this.valueSubscriptions.has(t)&&this.valueSubscriptions.get(t)();let r=rt.has(t),o=n.on("change",a=>{this.latestValues[t]=a,this.props.onUpdate&&H.preRender(this.notifyUpdate),r&&this.projection&&(this.projection.isTransformDirty=!0)}),i=n.on("renderRequest",this.scheduleRender),s;window.MotionCheckAppearSync&&(s=window.MotionCheckAppearSync(this,t,n)),this.valueSubscriptions.set(t,()=>{o(),i(),s&&s(),n.owner&&n.stop()})}sortNodePosition(t){return!this.current||!this.sortInstanceNodePosition||this.type!==t.type?0:this.sortInstanceNodePosition(this.current,t.current)}updateFeatures(){let t="animation";for(t in dr){let n=dr[t];if(!n)continue;let{isEnabled:r,Feature:o}=n;if(!this.features[t]&&o&&r(this.props)&&(this.features[t]=new o(this)),this.features[t]){let i=this.features[t];i.isMounted?i.update():(i.mount(),i.isMounted=!0)}}}triggerBuild(){this.build(this.renderState,this.latestValues,this.props)}measureViewportBox(){return this.current?this.measureInstanceViewportBox(this.current,this.props):fe()}getStaticValue(t){return this.latestValues[t]}setStaticValue(t,n){this.latestValues[t]=n}update(t,n){(t.transformTemplate||this.props.transformTemplate)&&this.scheduleRender(),this.prevProps=this.props,this.props=t,this.prevPresenceContext=this.presenceContext,this.presenceContext=n;for(let r=0;r<lR.length;r++){let o=lR[r];this.propEventSubscriptions[o]&&(this.propEventSubscriptions[o](),delete this.propEventSubscriptions[o]);let i="on"+o,s=t[i];s&&(this.propEventSubscriptions[o]=this.on(o,s))}this.prevMotionValues=sR(this,this.scrapeMotionValuesFromProps(t,this.prevProps,this),this.prevMotionValues),this.handleChildMotionValue&&this.handleChildMotionValue()}getProps(){return this.props}getVariant(t){return this.props.variants?this.props.variants[t]:void 0}getDefaultTransition(){return this.props.transition}getTransformPagePoint(){return this.props.transformPagePoint}getClosestVariantNode(){return this.isVariantNode?this:this.parent?this.parent.getClosestVariantNode():void 0}addVariantChild(t){let n=this.getClosestVariantNode();if(n)return n.variantChildren&&n.variantChildren.add(t),()=>n.variantChildren.delete(t)}addValue(t,n){let r=this.values.get(t);n!==r&&(r&&this.removeValue(t),this.bindToMotionValue(t,n),this.values.set(t,n),this.latestValues[t]=n.get())}removeValue(t){this.values.delete(t);let n=this.valueSubscriptions.get(t);n&&(n(),this.valueSubscriptions.delete(t)),delete this.latestValues[t],this.removeValueFromRenderState(t,this.renderState)}hasValue(t){return this.values.has(t)}getValue(t,n){if(this.props.values&&this.props.values[t])return this.props.values[t];let r=this.values.get(t);return r===void 0&&n!==void 0&&(r=ur(n===null?void 0:n,{owner:this}),this.addValue(t,r)),r}readValue(t,n){var r;let o=this.latestValues[t]!==void 0||!this.current?this.latestValues[t]:(r=this.getBaseTargetFromProps(this.props,t))!==null&&r!==void 0?r:this.readValueFromInstance(this.current,t,this.options);return o!=null&&(typeof o=="string"&&(Hf(o)||Wf(o))?o=parseFloat(o):!aR(o)&&yt.test(n)&&(o=qf(t,n)),this.setBaseTarget(t,le(o)?o.get():o)),le(o)?o.get():o}setBaseTarget(t,n){this.baseTarget[t]=n}getBaseTarget(t){var n;let{initial:r}=this.props,o;if(typeof r=="string"||typeof r=="object"){let s=Ls(this.props,r,(n=this.presenceContext)===null||n===void 0?void 0:n.custom);s&&(o=s[t])}if(r&&o!==void 0)return o;let i=this.getBaseTargetFromProps(this.props,t);return i!==void 0&&!le(i)?i:this.initialValues[t]!==void 0&&o===void 0?void 0:this.baseTarget[t]}on(t,n){return this.events[t]||(this.events[t]=new po),this.events[t].add(n)}notify(t,...n){this.events[t]&&this.events[t].notify(...n)}};var wa=class extends Yd{constructor(){super(...arguments),this.KeyframeResolver=Ws}sortInstanceNodePosition(t,n){return t.compareDocumentPosition(n)&2?1:-1}getBaseTargetFromProps(t,n){return t.style?t.style[n]:void 0}removeValueFromRenderState(t,{vars:n,style:r}){delete n[t],delete r[t]}};function qM(e){return window.getComputedStyle(e)}var Qd=class extends wa{constructor(){super(...arguments),this.type="html",this.applyWillChange=!0,this.renderInstance=Ud}readValueFromInstance(t,n){if(rt.has(n)){let r=zs(n);return r&&r.default||0}else{let r=qM(t),o=(Kf(n)?r.getPropertyValue(n):r[n])||0;return typeof o=="string"?o.trim():o}}measureInstanceViewportBox(t,{transformPagePoint:n}){return Sy(t,n)}build(t,n,r){ha(t,n,r.transformTemplate)}scrapeMotionValuesFromProps(t,n,r){return da(t,n,r)}handleChildMotionValue(){this.childSubscription&&(this.childSubscription(),delete this.childSubscription);let{children:t}=this.props;le(t)&&(this.childSubscription=t.on("change",n=>{this.current&&(this.current.textContent=`${n}`)}))}};var Jd=class extends wa{constructor(){super(...arguments),this.type="svg",this.isSVGTag=!1,this.measureInstanceViewportBox=fe}getBaseTargetFromProps(t,n){return t[n]}readValueFromInstance(t,n){if(rt.has(n)){let r=zs(n);return r&&r.default||0}return n=$d.has(n)?n:ho(n),t.getAttribute(n)}scrapeMotionValuesFromProps(t,n,r){return Hd(t,n,r)}build(t,n,r){ga(t,n,this.isSVGTag,r.transformTemplate)}renderInstance(t,n,r,o){zd(t,n,r,o)}mount(t){this.isSVGTag=ya(t.tagName),super.mount(t)}};var cR=(e,t)=>fa(e)?new Jd(t):new Qd(t,{allowProjection:e!==uR.Fragment});var fR=oR({...nP,...TE,...PE,...bE},cR);var $t=GC(fR);var iu=I(X(),1),Dn=I(j(),1);var Uy=I(X(),1),pR=I(j(),1),ki=I(j(),1);var dR=I(X(),1),Zd=I(j(),1),mr=I(j(),1);var jy=class extends Zd.Component{getSnapshotBeforeUpdate(t){let n=this.props.childRef.current;if(n&&t.isPresent&&!this.props.isPresent){let r=this.props.sizeRef.current;r.height=n.offsetHeight||0,r.width=n.offsetWidth||0,r.top=n.offsetTop,r.left=n.offsetLeft}return null}componentDidUpdate(){}render(){return this.props.children}};function mR({children:e,isPresent:t}){let n=(0,mr.useId)(),r=(0,mr.useRef)(null),o=(0,mr.useRef)({width:0,height:0,top:0,left:0}),{nonce:i}=(0,mr.useContext)(la);return(0,mr.useInsertionEffect)(()=>{let{width:s,height:a,top:l,left:u}=o.current;if(t||!r.current||!s||!a)return;r.current.dataset.motionPopId=n;let c=document.createElement("style");return i&&(c.nonce=i),document.head.appendChild(c),c.sheet&&c.sheet.insertRule(`
          [data-motion-pop-id="${n}"] {
            position: absolute !important;
            width: ${s}px !important;
            height: ${a}px !important;
            top: ${l}px !important;
            left: ${u}px !important;
          }
        `),()=>{document.head.removeChild(c)}},[t]),(0,dR.jsx)(jy,{isPresent:t,childRef:r,sizeRef:o,children:Zd.cloneElement(e,{ref:r})})}var hR=({children:e,initial:t,isPresent:n,onExitComplete:r,custom:o,presenceAffectsLayout:i,mode:s})=>{let a=ma(YM),l=(0,ki.useId)(),u=(0,ki.useCallback)(f=>{a.set(f,!0);for(let d of a.values())if(!d)return;r&&r()},[a,r]),c=(0,ki.useMemo)(()=>({id:l,initial:t,isPresent:n,custom:o,onExitComplete:u,register:f=>(a.set(f,!1),()=>a.delete(f))}),i?[Math.random(),u]:[n,u]);return(0,ki.useMemo)(()=>{a.forEach((f,d)=>a.set(d,!1))},[n]),pR.useEffect(()=>{!n&&!a.size&&r&&r()},[n]),s==="popLayout"&&(e=(0,Uy.jsx)(mR,{isPresent:n,children:e})),(0,Uy.jsx)(yo.Provider,{value:c,children:e})};function YM(){return new Map}var em=I(j(),1),ou=e=>e.key||"";function $y(e){let t=[];return em.Children.forEach(e,n=>{(0,em.isValidElement)(n)&&t.push(n)}),t}var pr=({children:e,exitBeforeEnter:t,custom:n,initial:r=!0,onExitComplete:o,presenceAffectsLayout:i=!0,mode:s="sync"})=>{mn(!t,"Replace exitBeforeEnter with mode='wait'");let a=(0,Dn.useMemo)(()=>$y(e),[e]),l=a.map(ou),u=(0,Dn.useRef)(!0),c=(0,Dn.useRef)(a),f=ma(()=>new Map),[d,h]=(0,Dn.useState)(a),[y,v]=(0,Dn.useState)(a);Ld(()=>{u.current=!1,c.current=a;for(let m=0;m<y.length;m++){let p=ou(y[m]);l.includes(p)?f.delete(p):f.get(p)!==!0&&f.set(p,!1)}},[y,l.length,l.join("-")]);let x=[];if(a!==d){let m=[...a];for(let p=0;p<y.length;p++){let w=y[p],C=ou(w);l.includes(C)||(m.splice(p,0,w),x.push(w))}s==="wait"&&x.length&&(m=x),v($y(m)),h(a);return}let{forceRender:g}=(0,Dn.useContext)(na);return(0,iu.jsx)(iu.Fragment,{children:y.map(m=>{let p=ou(m),w=a===y||l.includes(p),C=()=>{if(f.has(p))f.set(p,!0);else return;let P=!0;f.forEach(S=>{S||(P=!1)}),P&&(g==null||g(),v(c.current),o&&o())};return(0,iu.jsx)(hR,{isPresent:w,initial:!u.current||r?void 0:!1,custom:w?void 0:n,presenceAffectsLayout:i,mode:s,onExitComplete:w?void 0:C,children:m},p)})})};var gR=I(j()),yR=e=>(0,gR.useMemo)(()=>{let n={},r=o=>{var a,l;let i=e[o];if(!i)return 0;if(n[o])return n[o];let s=(l=(a=i.message)==null?void 0:a.create_time)!=null?l:0;return i.children.forEach(u=>{let c=r(u);c>s&&(s=c)}),n[o]=s,s};return Object.keys(e).forEach(o=>{r(o)}),n},[e]);var $e=I(j());var xa=I(X()),vR=()=>(0,xa.jsx)(te,{svg:(0,xa.jsxs)("svg",{width:"16",height:"16",viewBox:"0 0 41 41",fill:"none",xmlns:"http://www.w3.org/2000/svg",className:"icon-md",role:"img",children:[(0,xa.jsx)("text",{x:"-9999",y:"-9999",children:"ChatGPT"}),(0,xa.jsx)("path",{d:"M37.5324 16.8707C37.9808 15.5241 38.1363 14.0974 37.9886 12.6859C37.8409 11.2744 37.3934 9.91076 36.676 8.68622C35.6126 6.83404 33.9882 5.3676 32.0373 4.4985C30.0864 3.62941 27.9098 3.40259 25.8215 3.85078C24.8796 2.7893 23.7219 1.94125 22.4257 1.36341C21.1295 0.785575 19.7249 0.491269 18.3058 0.500197C16.1708 0.495044 14.0893 1.16803 12.3614 2.42214C10.6335 3.67624 9.34853 5.44666 8.6917 7.47815C7.30085 7.76286 5.98686 8.3414 4.8377 9.17505C3.68854 10.0087 2.73073 11.0782 2.02839 12.312C0.956464 14.1591 0.498905 16.2988 0.721698 18.4228C0.944492 20.5467 1.83612 22.5449 3.268 24.1293C2.81966 25.4759 2.66413 26.9026 2.81182 28.3141C2.95951 29.7256 3.40701 31.0892 4.12437 32.3138C5.18791 34.1659 6.8123 35.6322 8.76321 36.5013C10.7141 37.3704 12.8907 37.5973 14.9789 37.1492C15.9208 38.2107 17.0786 39.0587 18.3747 39.6366C19.6709 40.2144 21.0755 40.5087 22.4946 40.4998C24.6307 40.5054 26.7133 39.8321 28.4418 38.5772C30.1704 37.3223 31.4556 35.5506 32.1119 33.5179C33.5027 33.2332 34.8167 32.6547 35.9659 31.821C37.115 30.9874 38.0728 29.9178 38.7752 28.684C39.8458 26.8371 40.3023 24.6979 40.0789 22.5748C39.8556 20.4517 38.9639 18.4544 37.5324 16.8707ZM22.4978 37.8849C20.7443 37.8874 19.0459 37.2733 17.6994 36.1501C17.7601 36.117 17.8666 36.0586 17.936 36.0161L25.9004 31.4156C26.1003 31.3019 26.2663 31.137 26.3813 30.9378C26.4964 30.7386 26.5563 30.5124 26.5549 30.2825V19.0542L29.9213 20.998C29.9389 21.0068 29.9541 21.0198 29.9656 21.0359C29.977 21.052 29.9842 21.0707 29.9867 21.0902V30.3889C29.9842 32.375 29.1946 34.2791 27.7909 35.6841C26.3872 37.0892 24.4838 37.8806 22.4978 37.8849ZM6.39227 31.0064C5.51397 29.4888 5.19742 27.7107 5.49804 25.9832C5.55718 26.0187 5.66048 26.0818 5.73461 26.1244L13.699 30.7248C13.8975 30.8408 14.1233 30.902 14.3532 30.902C14.583 30.902 14.8088 30.8408 15.0073 30.7248L24.731 25.1103V28.9979C24.7321 29.0177 24.7283 29.0376 24.7199 29.0556C24.7115 29.0736 24.6988 29.0893 24.6829 29.1012L16.6317 33.7497C14.9096 34.7416 12.8643 35.0097 10.9447 34.4954C9.02506 33.9811 7.38785 32.7263 6.39227 31.0064ZM4.29707 13.6194C5.17156 12.0998 6.55279 10.9364 8.19885 10.3327C8.19885 10.4013 8.19491 10.5228 8.19491 10.6071V19.808C8.19351 20.0378 8.25334 20.2638 8.36823 20.4629C8.48312 20.6619 8.64893 20.8267 8.84863 20.9404L18.5723 26.5542L15.206 28.4979C15.1894 28.5089 15.1703 28.5155 15.1505 28.5173C15.1307 28.5191 15.1107 28.516 15.0924 28.5082L7.04046 23.8557C5.32135 22.8601 4.06716 21.2235 3.55289 19.3046C3.03862 17.3858 3.30624 15.3413 4.29707 13.6194ZM31.955 20.0556L22.2312 14.4411L25.5976 12.4981C25.6142 12.4872 25.6333 12.4805 25.6531 12.4787C25.6729 12.4769 25.6928 12.4801 25.7111 12.4879L33.7631 17.1364C34.9967 17.849 36.0017 18.8982 36.6606 20.1613C37.3194 21.4244 37.6047 22.849 37.4832 24.2684C37.3617 25.6878 36.8382 27.0432 35.9743 28.1759C35.1103 29.3086 33.9415 30.1717 32.6047 30.6641C32.6047 30.5947 32.6047 30.4733 32.6047 30.3889V21.188C32.6066 20.9586 32.5474 20.7328 32.4332 20.5338C32.319 20.3348 32.154 20.1698 31.955 20.0556ZM35.3055 15.0128C35.2464 14.9765 35.1431 14.9142 35.069 14.8717L27.1045 10.2712C26.906 10.1554 26.6803 10.0943 26.4504 10.0943C26.2206 10.0943 25.9948 10.1554 25.7963 10.2712L16.0726 15.8858V11.9982C16.0715 11.9783 16.0753 11.9585 16.0837 11.9405C16.0921 11.9225 16.1048 11.9068 16.1207 11.8949L24.1719 7.25025C25.4053 6.53903 26.8158 6.19376 28.2383 6.25482C29.6608 6.31589 31.0364 6.78077 32.2044 7.59508C33.3723 8.40939 34.2842 9.53945 34.8334 10.8531C35.3826 12.1667 35.5464 13.6095 35.3055 15.0128ZM14.2424 21.9419L10.8752 19.9981C10.8576 19.9893 10.8423 19.9763 10.8309 19.9602C10.8195 19.9441 10.8122 19.9254 10.8098 19.9058V10.6071C10.8107 9.18295 11.2173 7.78848 11.9819 6.58696C12.7466 5.38544 13.8377 4.42659 15.1275 3.82264C16.4173 3.21869 17.8524 2.99464 19.2649 3.1767C20.6775 3.35876 22.0089 3.93941 23.1034 4.85067C23.0427 4.88379 22.937 4.94215 22.8668 4.98473L14.9024 9.58517C14.7025 9.69878 14.5366 9.86356 14.4215 10.0626C14.3065 10.2616 14.2466 10.4877 14.2479 10.7175L14.2424 21.9419ZM16.071 17.9991L20.4018 15.4978L24.7325 17.9975V22.9985L20.4018 25.4983L16.071 22.9985V17.9991Z",fill:"currentColor"})]})});var tm=require("obsidian");var nm=I(j()),wR=I(X()),Mi=({content:e})=>{let t=Sn().app,[n,r]=(0,nm.useState)(null);return(0,nm.useEffect)(()=>{let o=!0,i=document.createElement("div"),s=new tm.Component;return tm.MarkdownRenderer.render(t,e,i,"",s).then(()=>{o&&r({__html:i.innerHTML}),s.unload()}).catch(a=>{console.error("Markdown rendering failed:",a),o&&r({__html:"<p>Error rendering content.</p>"}),s.unload()}),()=>{o=!1,s.unload()}},[e,t]),(0,wR.jsx)("div",{className:"ow-rendered-md-content",dangerouslySetInnerHTML:n||{__html:""}})};var hn=I(j());var rm=I(j()),zy=I(X()),om=({referenceElement:e,renderContent:t,placement:n,middleware:r,isOpen:o,onClose:i})=>{let{refs:s,floatingStyles:a,context:l}=If({whileElementsMounted:ks,placement:n,middleware:r});return(0,rm.useEffect)(()=>{e.current&&s.setReference(e.current)},[e,s]),(0,rm.useEffect)(()=>{let u=c=>{var f;s.floating.current&&!s.floating.current.contains(c.target)&&!((f=e.current)!=null&&f.contains(c.target))&&i()};return o?document.addEventListener("mousedown",u):document.removeEventListener("mousedown",u),()=>{document.removeEventListener("mousedown",u)}},[o,s,i,e]),(0,rm.useEffect)(()=>{let u=c=>{c.key==="Escape"&&i()};return o?document.addEventListener("keydown",u):document.removeEventListener("keydown",u),()=>{document.removeEventListener("keydown",u)}},[o,i]),o?(0,zy.jsx)(WC,{context:l,modal:!1,children:(0,zy.jsx)("div",{ref:s.setFloating,style:a,className:"popover-content",children:t()})}):null};var su=(n=>(n.GPT_4o="gpt-4o",n.GPT_4o_mini="gpt-4o-mini",n))(su||{}),xR={"gpt-4o":"Great for most tasks","gpt-4o-mini":"Faster for everyday tasks"};var CR=I(j()),Ce=I(X()),im=({referenceElement:e,placement:t,boundaryRef:n,isChatModelSwitcherOpen:r,setIsChatModelSwitcherOpen:o,currentModel:i,onSelect:s})=>{let a={open:{opacity:1,y:0,display:"block",transition:{duration:.2}},closed:{opacity:0,y:-10,transitionEnd:{display:"none"},transition:{duration:.2}}};return(0,CR.useEffect)(()=>{r&&(n!=null&&n.current)?n.current.style.overflow="hidden":n!=null&&n.current&&(n.current.style.overflow="auto")},[r,n]),(0,Ce.jsx)("div",{className:"ow-chat-model-switcher",children:(0,Ce.jsx)(om,{referenceElement:e,renderContent:()=>(0,Ce.jsx)(pr,{children:(0,Ce.jsxs)($t.ul,{className:"ow-model-switcher-menu",initial:"closed",animate:"open",exit:"closed",variants:a,role:"listbox",children:[(0,Ce.jsx)("li",{className:"ow-model-switcher-header","aria-disabled":"true",children:"Switch Model"}),(0,Ce.jsx)("hr",{}),Object.values(su).map(u=>(0,Ce.jsx)("li",{className:"ow-model-switcher-item",onClick:()=>{s(u),o(!1)},role:"option",children:(0,Ce.jsxs)("div",{className:"model-item-content",children:[(0,Ce.jsx)("span",{className:"model-name",children:u.toUpperCase()}),(0,Ce.jsx)("span",{className:"model-description",children:xR[u]})]})},u)),i?(0,Ce.jsxs)(Ce.Fragment,{children:[(0,Ce.jsx)("hr",{}),(0,Ce.jsxs)("li",{className:"ow-model-switcher-item try-again-current",onClick:()=>{s(i),o(!1)},children:[(0,Ce.jsxs)("div",{className:"model-item-content",children:[(0,Ce.jsx)("span",{children:"Try again"}),(0,Ce.jsx)("span",{className:"model-name",children:(i||"").toUpperCase()})]}),(0,Ce.jsx)("div",{children:(0,Ce.jsx)(te,{iconId:"refresh-ccw"})})]})]}):null]})}),placement:t||"top-start",middleware:[Ms(0),Vg({fallbackPlacements:["bottom-start"],boundary:(n==null?void 0:n.current)||void 0}),Fg({boundary:(n==null?void 0:n.current)||void 0})],isOpen:r,onClose:()=>o(!1)})})};var z=I(X()),SR=({messageNode:e,hasBranches:t,currentBranchIndex:n,totalBranches:r,onPrevBranch:o,onNextBranch:i,isLatest:s,isEditing:a,setEditingMessageId:l,boundaryRef:u})=>{var D;let{generateAssistantMessage:c,editUserMessage:f,isGenerating:d}=Ht(),[h,y]=(0,hn.useState)(!1),[v,x]=(0,hn.useState)(""),[g,m]=(0,hn.useState)(!1),p=(0,hn.useRef)(null),[w,C]=(0,hn.useState)(!1),P=(0,hn.useRef)(null),S=e.message;if((0,hn.useEffect)(()=>{a||((S==null?void 0:S.content.content_type)!=="text-with-user-selection"?x((S==null?void 0:S.content.parts.join(`
`))||""):x((S==null?void 0:S.content.parts[3])||""))},[a,S]),(0,hn.useEffect)(()=>{a&&P.current&&(P.current.style.height="auto",P.current.style.height=`${P.current.scrollHeight}px`)},[v,a]),!S)return null;let E=()=>{navigator.clipboard.writeText(S.content.parts.join(`
`)),y(!0),setTimeout(()=>{y(!1)},1500)},T=()=>{l(e.id)},R=()=>{l(null)},A=async()=>{if(v.trim()!==""){if(S.content.content_type==="text-with-user-selection"){let L=[...S.content.parts];L[3]=v.trim(),await f(e.id,S.content.content_type,L)}else await f(e.id,S.content.content_type,[v.trim()]);l(null)}},b=()=>{m(L=>!L)};return(0,z.jsxs)("div",{className:`ow-chat-message-bubble ${S.author.role} ${s?"latest":""} ${a?"editing":""}`,children:[(0,z.jsxs)("div",{className:"ow-message",children:[(0,z.jsx)("div",{className:"ow-message-content",children:a?(0,z.jsxs)("div",{className:"editing-area",children:[(0,z.jsx)("textarea",{ref:P,value:v,onChange:L=>x(L.target.value),className:"ow-edit-textarea",rows:1}),(0,z.jsxs)("div",{className:"editing-buttons",children:[(0,z.jsx)("button",{className:"ow-btn cancel",onClick:R,children:"Cancel"}),(0,z.jsx)("button",{className:"ow-btn save",onClick:A,children:"Save"})]})]}):S.author.role==="assistant"?(0,z.jsxs)(z.Fragment,{children:[(0,z.jsx)("div",{className:"ow-openai-icon",children:(0,z.jsx)(vR,{})}),(0,z.jsxs)("div",{className:"ow-parts",children:[(0,z.jsx)(Mi,{content:S.content.parts.join(`
`)}),d&&s&&(0,z.jsx)(z.Fragment,{children:"#"})]})]}):(0,z.jsx)(z.Fragment,{children:S.content.content_type==="text-with-user-selection"?(0,z.jsxs)("div",{className:"text-with-user-selection",children:[(0,z.jsxs)("div",{className:"ow-user-selection",children:[(0,z.jsx)("span",{children:"Selected content"}),(0,z.jsx)(Mi,{content:S.content.parts[1]})]}),(0,z.jsx)("div",{className:"ow-user-text",children:(0,z.jsx)(Mi,{content:S.content.parts[3]})})]}):(0,z.jsx)(Mi,{content:S.content.parts.join(`
`)})})}),S.author.role==="user"&&!a&&(0,z.jsx)("div",{className:"ow-user-actions",children:(0,z.jsx)("button",{className:"ow-btn edit",onClick:T,children:(0,z.jsx)(te,{iconId:"pen"})})})]}),(0,z.jsxs)("div",{className:`ow-message-utility-bar ${g?"model-switcher-open":""}`,children:[t&&(0,z.jsxs)("div",{className:"ow-branch-navigation",children:[(0,z.jsx)("button",{className:"ow-btn",onClick:o,children:(0,z.jsx)(te,{iconId:"chevron-left"})}),(0,z.jsxs)("span",{className:"ow-branch-index",children:[n+1," / ",r]}),(0,z.jsx)("button",{className:"ow-btn",onClick:i,children:(0,z.jsx)(te,{iconId:"chevron-right"})})]}),S.author.role==="assistant"&&(0,z.jsxs)("div",{className:"ow-user-actions",children:[(0,z.jsx)("button",{className:"ow-btn copy",onClick:E,children:(0,z.jsx)(te,{iconId:h?"check":"copy"})}),(0,z.jsxs)("button",{className:"ow-btn regenerate",onMouseEnter:()=>C(!0),onMouseLeave:()=>C(!1),onClick:b,ref:p,children:[(0,z.jsx)("div",{children:(0,z.jsx)(te,{iconId:"refresh-ccw"})}),w&&(0,z.jsx)($t.span,{initial:{opacity:0},animate:{opacity:1},transition:{duration:.3},className:"ow-model-slug",children:(D=S.metadata.model_slug)==null?void 0:D.toUpperCase()}),(0,z.jsx)("div",{children:(0,z.jsx)(te,{iconId:"chevron-down"})})]}),(0,z.jsx)(im,{referenceElement:p,boundaryRef:u,isChatModelSwitcherOpen:g,setIsChatModelSwitcherOpen:m,currentModel:S.metadata.model_slug,onSelect:L=>c("",null,S.id,L)})]})]})]})};var zt=I(X()),PR=()=>{let e=Sn(),{conversation:t,navigateToNode:n}=Ht(),r=yR((t==null?void 0:t.mapping)||{}),[o,i]=(0,$e.useState)(null),s=(0,$e.useRef)(null),a=(0,$e.useRef)(null),[l,u]=(0,$e.useState)(!0),{refs:c,floatingStyles:f}=If({whileElementsMounted:ks,placement:"bottom-end",middleware:[Ms(-40)]});(0,$e.useEffect)(()=>{s.current&&c.setReference(s.current)},[s,c]);let d=(0,$e.useMemo)(()=>{if(!(t!=null&&t.current_node))return[];let p=[],w=t.current_node;for(;w;){let C=t.mapping[w];if(!C)break;p.unshift(C),w=C.parent}return p},[t]),h=(0,$e.useCallback)(p=>p?p.children.map(C=>t==null?void 0:t.mapping[C]).filter(C=>C!==void 0).sort((C,P)=>{var S,E,T,R;return((E=(S=C.message)==null?void 0:S.create_time)!=null?E:0)-((R=(T=P.message)==null?void 0:T.create_time)!=null?R:0)}):[],[t]),y=(0,$e.useCallback)(async(p,w,C)=>{if(p.length===0)return;let P=C==="prev"?(w-1+p.length)%p.length:(w+1)%p.length,S=p[P];for(;S.children.length>0;){let E=S.children.map(T=>t==null?void 0:t.mapping[T]).filter(T=>T!==void 0).sort((T,R)=>{var A,b;return((A=r[R.id])!=null?A:0)-((b=r[T.id])!=null?b:0)});if(E.length===0)break;S=E[0]}await n(S.id)},[t,n,r]),v=(0,$e.useMemo)(()=>{var w;if(!d.length)return null;let p=(w=d.map((C,P)=>({node:C,index:P})).reverse().find(({node:C})=>{var P;return((P=C.message)==null?void 0:P.author.role)==="assistant"}))==null?void 0:w.index;return d.map((C,P)=>{var U,K;let S=C.parent&&(t==null?void 0:t.mapping[C.parent])||null,E=h(S),T=E.length>1,R=E.findIndex(B=>B.id===C.id),A=E.length,b=()=>y(E,R,"prev"),D=()=>y(E,R,"next"),L=((U=C.message)==null?void 0:U.author.role)==="assistant"&&P===p;return((K=C.message)==null?void 0:K.metadata.is_visually_hidden_from_conversation)===!0?null:(0,zt.jsx)(SR,{messageNode:C,hasBranches:T,currentBranchIndex:R,totalBranches:A,onPrevBranch:b,onNextBranch:D,isLatest:L,isEditing:o===C.id,setEditingMessageId:i,boundaryRef:s},C.id)})},[d,h,y,t,o]);(0,$e.useEffect)(()=>{let w=setTimeout(()=>{a.current&&a.current.scrollIntoView({behavior:"smooth"})},300);return()=>clearTimeout(w)},[d]);let x=(0,$e.useCallback)(()=>{let p=s.current;if(!p)return;let{scrollTop:w,scrollHeight:C,clientHeight:P}=p,E=C-w-P<=50;u(E)},[]);(0,$e.useEffect)(()=>{let p=s.current;if(p)return p.addEventListener("scroll",x),x(),()=>{p.removeEventListener("scroll",x)}},[x]);let g={initial:{opacity:0,y:0},animate:{opacity:1,y:0},exit:{opacity:0,y:0}},m=(0,$e.useCallback)(()=>{a.current&&a.current.scrollIntoView({behavior:"smooth"})},[]);return(0,zt.jsxs)("div",{ref:s,className:"ow-chat-dialogue-feed",style:{overflowY:"auto",height:"100%"},children:[(0,zt.jsx)(pr,{children:d.length===1&&e.settings.apiKey.trim()===""&&(0,zt.jsxs)($t.div,{className:"ow-info warning",variants:g,initial:"initial",animate:"animate",exit:"exit",transition:{duration:.3},children:[(0,zt.jsxs)("div",{className:"ow-info-title",children:[(0,zt.jsx)(te,{iconId:"triangle-alert"}),(0,zt.jsx)("span",{children:"API Key Required"})]}),(0,zt.jsx)("div",{className:"ow-info-msg",children:"Please set your OpenAI API key in the plugin settings to enable chat functionality."})]})}),v,!l&&(0,zt.jsx)("button",{ref:c.setFloating,className:"ow-floatting-btn",style:f,onClick:m,children:(0,zt.jsx)(te,{iconId:"arrow-down"})}),(0,zt.jsx)("div",{ref:a,id:"anchor"})]})};var At=I(j());var at=I(X()),ER=({referenceElement:e,placement:t,isChatOptionsOpen:n,setIsChatOptionsOpen:r,onRename:o,onDelete:i})=>{let s={open:{opacity:1,y:0,display:"block",transition:{duration:.2}},closed:{opacity:0,y:-10,transitionEnd:{display:"none"},transition:{duration:.2}}},a=u=>{u(),r(!1)};return(0,at.jsx)("div",{className:"ow-chat-options",children:(0,at.jsx)(om,{referenceElement:e,renderContent:()=>(0,at.jsx)(pr,{children:n&&(0,at.jsxs)($t.ul,{className:"ow-chat-options-menu",initial:"closed",animate:"open",exit:"closed",variants:s,role:"menu","aria-label":"Chat Options",children:[(0,at.jsx)("li",{className:"ow-chat-options-header","aria-disabled":"true",children:"Chat Options"}),(0,at.jsx)("hr",{}),(0,at.jsx)("li",{className:"ow-chat-options-item",onClick:()=>o&&a(o),role:"menuitem",tabIndex:0,children:(0,at.jsxs)("div",{className:"option-item-content",children:[(0,at.jsx)(te,{iconId:"edit",className:"option-icon"}),(0,at.jsx)("span",{children:"Rename"})]})}),(0,at.jsx)("li",{className:"ow-chat-options-item delete",onClick:()=>i&&a(i),role:"menuitem",tabIndex:0,children:(0,at.jsxs)("div",{className:"option-item-content",children:[(0,at.jsx)(te,{iconId:"trash",className:"option-icon"}),(0,at.jsx)("span",{children:"Delete"})]})})]})}),placement:t||"bottom-start",isOpen:n,onClose:()=>r(!1)})})};var ke=I(X()),RR=()=>{let{conversation:e,updateConversationTitle:t,updateConversationModel:n,deleteConversationById:r}=Ht(),[o,i]=(0,At.useState)(!1),[s,a]=(0,At.useState)(!1),[l,u]=(0,At.useState)(!1),[c,f]=(0,At.useState)(""),{switchToConversationList:d}=Qi(),h=(0,At.useRef)(null),y=(0,At.useRef)(null),v=(0,At.useRef)(null),x=(0,At.useRef)(!1);(0,At.useEffect)(()=>{if(l&&v.current){v.current.focus();let A=v.current.value.length;v.current.setSelectionRange(A,A)}},[l]);let g=()=>{e!=null&&e.title&&(f(e.title),u(!0))},m=A=>{f(A.target.value)},p=(0,At.useCallback)(async()=>{let A=c.trim();A&&A!==(e==null?void 0:e.title)&&await t(A),u(!1)},[c,e,t]),w=A=>{A.key==="Enter"?p():A.key==="Escape"&&u(!1)},C=()=>{x.current||p()},P=async A=>{A!==(e==null?void 0:e.default_model_slug)&&await n(A)},S=()=>{i(A=>!A)},E=()=>{a(A=>!A)},T=()=>{e!=null&&e.title&&(x.current=!0,f(e.title),u(!0),setTimeout(()=>{x.current=!1,v.current&&v.current.focus()},0))},R=async()=>{d(),await r(e==null?void 0:e.id)};return(0,ke.jsxs)("div",{className:"ow-chat-header",children:[(0,ke.jsxs)("div",{className:"ow-header-actions",children:[(0,ke.jsx)("button",{className:"ow-btn-back",onClick:d,children:(0,ke.jsx)(te,{iconId:"arrow-left"})}),(0,ke.jsxs)("button",{ref:h,className:"ow-model-info-select",onClick:S,children:[(0,ke.jsx)("span",{className:"icon",children:(0,ke.jsx)(te,{iconId:"sparkles"})}),(0,ke.jsx)("span",{className:"model-name",children:e!=null&&e.default_model_slug?e.default_model_slug.toUpperCase():"SELECT MODEL"}),(0,ke.jsx)("span",{className:"icon",children:(0,ke.jsx)(te,{iconId:"chevron-down"})})]}),(0,ke.jsx)(im,{referenceElement:h,placement:"bottom-start",isChatModelSwitcherOpen:o,setIsChatModelSwitcherOpen:i,onSelect:P})]}),(0,ke.jsxs)("div",{className:"ow-chat-titlebar",children:[(0,ke.jsx)("div",{className:"ow-chat-title-container",children:l?(0,ke.jsx)("input",{ref:v,type:"text",value:c,onChange:m,onKeyDown:w,onBlur:C,className:"ow-chat-title-input","aria-label":"Edit conversation title",style:{width:"100%"}}):(0,ke.jsx)("div",{className:"ow-chat-title",onDoubleClick:g,children:(e==null?void 0:e.title)||"Untitled Conversation"})}),(0,ke.jsx)("button",{ref:y,className:"ow-chat-title-options",onClick:E,children:(0,ke.jsx)(te,{iconId:"ellipsis"})}),(0,ke.jsx)(ER,{referenceElement:y,placement:"bottom-end",isChatOptionsOpen:s,setIsChatOptionsOpen:a,onRename:T,onDelete:R})]})]})};var bR=require("obsidian");var _t=I(j());var xo=I(X()),TR=({userSelection:e,setUserSelection:t})=>(0,xo.jsxs)("div",{className:"ow-selected-text-modal",children:[(0,xo.jsx)("div",{className:"ow-modal-title",children:"Selected content"}),(0,xo.jsx)("div",{className:"ow-user-selection",children:(0,xo.jsx)(Mi,{content:e.text})}),(0,xo.jsx)("div",{className:"ow-actions",children:(0,xo.jsx)("button",{className:"ow-btn cancel",onClick:()=>{t(null)},children:"Cancel"})})]});var Se=I(X()),Wy=14,QM={hidden:{opacity:0},visible:{opacity:1},exit:{opacity:0}},AR=()=>{let[e,t]=(0,_t.useState)(""),[n,r]=(0,_t.useState)(0),[o,i]=(0,_t.useState)(0),[s,a]=(0,_t.useState)(!1),[l,u]=(0,_t.useState)(!1),[c,f]=(0,_t.useState)(!1),[d,h]=(0,_t.useState)(null),y=Sn(),v=Ht(),x=(0,_t.useRef)(null),[g,m]=(0,_t.useState)(!0);(0,_t.useEffect)(()=>{if(!y)return;let b=D=>{h(D)};return y.events.on("selection-changed",b),()=>{y.events.off("selection-changed",b)}},[y]),(0,_t.useEffect)(()=>{let b=()=>m(!0),D=()=>m(!1);return window.addEventListener("focus",b),window.addEventListener("blur",D),()=>{window.removeEventListener("focus",b),window.removeEventListener("blur",D)}},[]);let p=async()=>{if(y.settings.apiKey==="")new bR.Notice("Can't do that. Please set your OpenAI API key in the plugin settings to enable chat functionality.");else try{t(""),r(0),i(0);let b=d;h(null),await(v==null?void 0:v.generateAssistantMessage(e,b))}catch(b){console.error("Error sending message:",b)}},w=async b=>{b.preventDefault(),await p()},C=b=>b.trim()===""?0:b.trim().split(/\s+/).length,P=b=>{let D=b.target.value;t(D),i(D.length),r(C(D))},S=b=>{b.preventDefault();let D=b.clipboardData.getData("text"),U=e+D;t(U),i(U.length),r(C(U))},E=()=>{u(!0)},T=()=>{setTimeout(()=>{g?document.activeElement!==x.current&&u(!1):u(!1)},0)},R=b=>{b.key==="Enter"&&!b.shiftKey&&(b.preventDefault(),p())},A=s||l||e.length>0||c;return(0,Se.jsxs)("div",{className:"ow-chat-user-input",children:[d&&(0,Se.jsx)(TR,{userSelection:d,setUserSelection:h}),(0,Se.jsxs)("div",{className:"ow-chat-user-input-inner-wrapper",children:[(0,Se.jsx)("div",{className:"ow-user-actions",children:(0,Se.jsx)(pr,{children:!s&&(0,Se.jsx)($t.button,{className:"ow-btn create-new-chat",type:"button",variants:QM,initial:"hidden",animate:"visible",exit:"exit",transition:{duration:.2,ease:"easeInOut"},onClick:()=>v.initConversation(!0),children:(0,Se.jsx)(te,{iconId:"message-circle-plus",className:"new-chat-icon"})})})}),(0,Se.jsxs)($t.div,{className:"ow-chat-user-input-form-wrapper",initial:{marginLeft:0,width:"calc(100% - 50px)"},animate:{marginLeft:s?-50:0,width:s?"100%":"calc(100% - 50px)"},transition:{duration:.3,ease:"easeInOut"},children:[(0,Se.jsxs)("form",{onSubmit:w,children:[(0,Se.jsx)($t.textarea,{ref:x,placeholder:"Ask me anything...",value:e,onChange:P,onPaste:S,className:"ow-textarea",onFocus:E,onBlur:T,onMouseEnter:()=>a(!0),onMouseLeave:()=>a(!1),onKeyDown:R,initial:!1,animate:{height:c?`${12*Wy}px`:A?`${6*Wy}px`:`${3*Wy}px`},transition:{duration:.3,ease:"easeInOut"}}),e.length>0?(0,Se.jsx)("button",{className:"ow-btn submit",type:"submit",disabled:e.trim().length===0,children:(0,Se.jsx)(te,{iconId:"arrow-up"})}):v.isGenerating&&(0,Se.jsx)("button",{className:"ow-btn submit",type:"button",onClick:()=>v.stopMessageGeneration(),children:(0,Se.jsx)(te,{iconId:"square"})})]}),(0,Se.jsxs)("div",{className:"ow-inline-input-utilities",children:[e.length>0&&(y.settings.enableWordCounter||y.settings.enableCharacterCounter)?(0,Se.jsxs)("div",{className:"ow-input-counters",children:[y.settings.enableWordCounter?(0,Se.jsx)("div",{className:"ow-input-word-counter",children:n}):null,y.settings.enableCharacterCounter?(0,Se.jsx)("div",{className:"ow-input-character-counter",children:o}):null]}):null,(0,Se.jsx)("button",{className:`ow-btn pin-input ${c?"pinned":""}`,type:"button",onClick:()=>f(b=>!b),children:(0,Se.jsx)(te,{iconId:"pin"})})]})]})]})]})};var Ca=I(X()),_R=()=>(0,Ca.jsxs)("div",{className:"ow-chat",children:[(0,Ca.jsx)(RR,{}),(0,Ca.jsx)(PR,{}),(0,Ca.jsx)(AR,{})]});function IR(e){if(typeof e!="number"||isNaN(e))throw new Error("Invalid timestamp: timestamp must be a valid number.");let t=e*1e3,n=new Date(t);if(isNaN(n.getTime()))throw new Error("Invalid timestamp: unable to create a valid Date object.");return new Intl.DateTimeFormat("en-US",{year:"numeric",month:"2-digit",day:"2-digit",timeZone:"UTC"}).format(n).replace(/\//g,"-")}var Ln=I(j()),kR=()=>{let e=Sn(),t=(0,Ln.useMemo)(()=>e.app.vault.adapter,[e.app.vault]),[n,r]=(0,Ln.useState)([]),[o,i]=(0,Ln.useState)(!1),[s,a]=(0,Ln.useState)(null),l=(0,Ln.useCallback)(async()=>{i(!0),a(null);try{let u=await Yv(t,e.settings.weaverDirectory);r(u)}catch(u){a(u)}finally{i(!1)}},[t,e.settings.weaverDirectory]);return(0,Ln.useEffect)(()=>{l()},[l]),{conversations:n,loading:o,error:s}};var en=I(X()),MR=()=>{let{conversations:e,loading:t,error:n}=kR(),{switchToChat:r}=Qi(),{loadConversation:o,initConversation:i}=Ht(),s=[...e].sort((a,l)=>new Date(l.create_time).getTime()-new Date(a.create_time).getTime());return(0,en.jsxs)("div",{className:"ow-conversation-list",children:[(0,en.jsxs)("div",{className:"ow-conversation-list-header",children:[(0,en.jsx)("div",{className:"ow-title",children:"Conversation List"}),(0,en.jsx)("div",{className:"ow-actions",children:(0,en.jsx)("button",{className:"ow-btn new",onClick:async()=>{await i(!0),r()},children:(0,en.jsx)(te,{iconId:"plus"})})})]}),(0,en.jsx)("div",{className:"ow-list",children:s.map(a=>(0,en.jsxs)("div",{className:"ow-conversation-preview-card",onClick:async()=>{await o(a.id),r()},children:[(0,en.jsx)("div",{className:"ow-conversation-title",children:a.title}),(0,en.jsx)("div",{className:"ow-conversation-date",children:IR(a.create_time)})]},a.id))})]})};var Fn=I(X()),OR=()=>{let{initConversation:e}=Ht(),t=(0,sm.useRef)(!1);return(0,sm.useEffect)(()=>{t.current||(t.current=!0,e())},[e]),(0,Fn.jsx)(P0,{children:(0,Fn.jsx)("div",{className:"obsidian-weaver",children:(0,Fn.jsx)(JM,{})})})},JM=()=>{let{currentTab:e}=Qi();return(0,Fn.jsxs)(Fn.Fragment,{children:[e==="chat"&&(0,Fn.jsx)(_R,{}),e==="conversationList"&&(0,Fn.jsx)(MR,{})]})};var BR=require("obsidian");var jR=I(j()),UR=I(DR());var VR=I(require("path"));var am={previousConversationId:null},ZM={...am,conversation:null,isGenerating:!1},LR=e=>(t,n)=>{let r=e.settings,o=e.app.vault.adapter,i=async(s,a)=>{try{let l=am;if(await o.exists(r.weaverContextStorage)){let c=await o.read(r.weaverContextStorage);l=JSON.parse(c)}let u={...l,...a};await o.write(r.weaverContextStorage,JSON.stringify(u,null,4))}catch(l){console.error(`Error writing to: ${r.weaverContextStorage}`,l)}};return{...ZM,setConversation:s=>t({conversation:s}),setPreviousConversationId:s=>{t({previousConversationId:s}),i(e,{previousConversationId:s})},setIsGenerating:s=>t({isGenerating:s})}};var FR=(e,t)=>p0()((...n)=>({...LR(e)(...n),...t}));var lm=class{constructor(t){this.plugin=t;this.store=null}async initializeStore(){await this.ensureLocalStorage();let t=await this.hydrateStore();return this.store=FR(this.plugin,t),this.store}async ensureLocalStorage(){let t=this.plugin.settings.weaverDirectory,n=VR.join(t,"conversations");await Hv(this.plugin.app.vault.adapter,[t,n])}getStore(){if(!this.store)throw new Error("Store has not been initialized. Call initializeStore() first.");return this.store}async hydrateStore(){return{previousConversationId:(await this.getContextData()).previousConversationId}}async getContextData(){try{let t=await this.plugin.app.vault.adapter.read(this.plugin.settings.weaverContextStorage);return JSON.parse(t)}catch(t){if(t.message.includes("ENOENT"))return am;throw t}}};var au=I(X()),Sa="weaver-view",um=class extends BR.ItemView{constructor(n,r){super(n);this.plugin=r;this.root=null;this.storeService=new lm(r)}getViewType(){return Sa}getDisplayText(){return"Weaver"}getIcon(){return"drafting-compass"}async onOpen(){let n=await this.storeService.initializeStore();this.root=(0,UR.createRoot)(this.containerEl.children[1]),this.root.render((0,au.jsx)(jR.StrictMode,{children:(0,au.jsx)(ju.Provider,{value:this.plugin,children:(0,au.jsx)(Uu.Provider,{value:n,children:(0,au.jsx)(OR,{})})})}))}async onClose(){var n;(n=this.root)==null||n.unmount()}};var dm=require("obsidian");var Vn=require("obsidian"),$R={apiKey:"",weaverDirectory:".weaver",get weaverContextStorage(){return`${this.weaverDirectory}/context.json`},loadLastConversation:!0,model:"gpt-4o",systemPrompt:"As an AI assistant integrated with Obsidian.md, provide responses formatted in Markdown. Use $ ... $ for inline LaTeX and $$ ... $$ on separate lines for block LaTeX.",openOnStartup:!0,sendSelectionToChat:!1,enableWordCounter:!1,enableCharacterCounter:!0},cm=class extends Vn.PluginSettingTab{constructor(t,n){super(t,n),this.plugin=n}display(){let{containerEl:t}=this;t.empty(),t.createEl("h1",{text:"Weaver Settings"}),t.createEl("h2",{text:"General"}),new Vn.Setting(t).setName("Open Weaver on Startup").setDesc("Automatically open the Weaver view when Obsidian starts.").addToggle(r=>r.setValue(this.plugin.settings.openOnStartup).onChange(async o=>{this.plugin.settings.openOnStartup=o,await this.plugin.saveSettings()})),new Vn.Setting(t).setName("Enable Word Counter").setDesc("Toggle the display of the word counter in the chat input area.").addToggle(r=>r.setValue(this.plugin.settings.enableWordCounter).onChange(async o=>{this.plugin.settings.enableWordCounter=o,await this.plugin.saveSettings()})),new Vn.Setting(t).setName("Enable Character Counter").setDesc("Toggle the display of the character counter in the chat input area.").addToggle(r=>r.setValue(this.plugin.settings.enableCharacterCounter).onChange(async o=>{this.plugin.settings.enableCharacterCounter=o,await this.plugin.saveSettings()})),t.createEl("h2",{text:"OpenAI"});let n;new Vn.Setting(t).setName("API Key").setDesc("Enter your OpenAI API Key to enable AI functionalities. You can obtain an API Key from your OpenAI account.").addText(r=>r.setPlaceholder("sk-proj-_XXXXXXXXXXXXXXXXXXXX").setValue(this.plugin.settings.apiKey).onChange(async o=>{this.plugin.settings.apiKey=o.trim(),await this.plugin.saveSettings()}).then(o=>{n=o}).inputEl.setAttribute("type","password")),new Vn.Setting(t).setName("Model").setDesc("Select the default AI model for new chat conversations.").addDropdown(r=>{Object.values(su).forEach(o=>{let i=o.toUpperCase().replace(/_/g," ");r.addOption(o,i)}),r.setValue(this.plugin.settings.model),r.onChange(async o=>{this.plugin.settings.model=o,await this.plugin.saveSettings()})}),t.createEl("h2",{text:"Model Configuration"}),new Vn.Setting(t).setName("System Prompt").setDesc("Define the initial instructions or context for the AI assistant. This prompt will guide the behavior and responses of the model.").addTextArea(r=>r.setPlaceholder('e.g., "You are a helpful assistant that summarizes markdown notes."').setValue(this.plugin.settings.systemPrompt).onChange(async o=>{this.plugin.settings.systemPrompt=o,await this.plugin.saveSettings()})),t.createEl("h2",{text:"Experimental"}),new Vn.Setting(t).setName("Send Selection to Chat").setDesc("When in editing mode, send the selected content to the chat interface for context.").addToggle(r=>r.setValue(this.plugin.settings.sendSelectionToChat).onChange(async o=>{this.plugin.settings.sendSelectionToChat=o,await this.plugin.saveSettings()}))}};var fm=class extends dm.Plugin{async onload(){await this.loadSettings(),this.addSettingTab(new cm(this.app,this)),this.events=new dm.Events,this.registerView(Sa,t=>new um(t,this)),this.registerEditorExtension(Qy(this)),this.registerEventListeners(),this.registerCommands(),this.app.workspace.onLayoutReady(this.onLayoutReady.bind(this))}async onLayoutReady(){this.settings.openOnStartup&&this.activateView()}async onunload(){this.app.workspace.detachLeavesOfType(Sa)}async loadSettings(){this.settings=Object.assign({},$R,await this.loadData())}async saveSettings(){await this.saveData(this.settings)}registerEventListeners(){}registerCommands(){this.addCommand({id:"open-weaver-view",name:"Open Weaver",callback:()=>this.activateView()})}async activateView(){let{workspace:t}=this.app,n=null,r=t.getLeavesOfType(Sa);r.length>0?n=r[0]:(n=t.getRightLeaf(!1),await(n==null?void 0:n.setViewState({type:Sa,active:!0}))),t.revealLeaf(n)}};
/*! Bundled license information:

react/cjs/react.production.min.js:
  (**
   * @license React
   * react.production.min.js
   *
   * Copyright (c) Facebook, Inc. and its affiliates.
   *
   * This source code is licensed under the MIT license found in the
   * LICENSE file in the root directory of this source tree.
   *)

react/cjs/react-jsx-runtime.production.min.js:
  (**
   * @license React
   * react-jsx-runtime.production.min.js
   *
   * Copyright (c) Facebook, Inc. and its affiliates.
   *
   * This source code is licensed under the MIT license found in the
   * LICENSE file in the root directory of this source tree.
   *)

scheduler/cjs/scheduler.production.min.js:
  (**
   * @license React
   * scheduler.production.min.js
   *
   * Copyright (c) Facebook, Inc. and its affiliates.
   *
   * This source code is licensed under the MIT license found in the
   * LICENSE file in the root directory of this source tree.
   *)

react-dom/cjs/react-dom.production.min.js:
  (**
   * @license React
   * react-dom.production.min.js
   *
   * Copyright (c) Facebook, Inc. and its affiliates.
   *
   * This source code is licensed under the MIT license found in the
   * LICENSE file in the root directory of this source tree.
   *)

tabbable/dist/index.esm.js:
  (*!
  * tabbable 6.2.0
  * @license MIT, https://github.com/focus-trap/tabbable/blob/master/LICENSE
  *)
*/
