{"schemaVersion":2,"id":"38b93748-d34b-4516-a85f-339dbc1fab0d","title":"from this youtube link @https://youtu.be/wQxahZUwY","createdAt":1733392982083,"updatedAt":1733393185096,"messages":[{"role":"user","content":{"root":{"children":[{"children":[{"detail":0,"format":0,"mode":"normal","style":"","text":"from this youtube link ","type":"text","version":1},{"detail":1,"format":0,"mode":"token","style":"","text":"@https://youtu.be/wQxahZUwYoM?si=LIkcfCHts-sVMKtR","type":"mention","version":1,"mentionName":"https://youtu.be/wQxahZUwYoM?si=LIkcfCHts-sVMKtR","mentionable":{"type":"url","url":"https://youtu.be/wQxahZUwYoM?si=LIkcfCHts-sVMKtR"}},{"detail":0,"format":0,"mode":"normal","style":"","text":"  insert takeaway notes and give me some instructions to do this project","type":"text","version":1}],"direction":"ltr","format":"","indent":0,"type":"paragraph","version":1,"textFormat":0,"textStyle":""}],"direction":"ltr","format":"","indent":0,"type":"root","version":1}},"promptContent":[{"type":"text","text":"## Potentially Relevant Websearch Results\n```\nWebsite URL: https://youtu.be/wQxahZUwYoM?si=LIkcfCHts-sVMKtR\nWebsite Content:\nTitle: üé• Using Kubernetes Pods as Jenkins Pipeline Build Agents | Jenkins &amp; Kubernetes Integration Guide üåêüöÄ\nVideo Transcript:\n9.12: Hello friends welcome back to my channel\n12: I did a video in the past where I looked\n14.2: at how to use kubernetes cluster as\n16.76: Jenkin slave for Jenkins build jobs I\n20.519: did that a while ago I understand some\n22.48: of you are still having issues with it\n24.039: so this is going to be an update of that\n27.08: video all right so to start it I&amp;#39;m going\n30.119: to create an instance on\n35.2: AWS I call this jins\n38.6: kubernetes and it&amp;#39;s going to be antu\n44.719: instance so it&amp;#39;s going to be B\n49.559: 2404 for the instance type I&amp;#39;m going to\n52: use T3\n54.239: medium so that you have enough memory\n56.559: and CPU for processing so I&amp;#39;ll use T3\n62.519: medium and then for the keeper I&amp;#39;ll\n64.96: create a new\n66.52: keeper and I&amp;#39;ll give it the exact same\n68.759: name as I gave the\n70.96: instance Jun kubernetes key create\n76.32: keeper that&amp;#39;s already downloaded I&amp;#39;ll\n79.32: keep the network settings as default for\n81.799: now for the storage let&amp;#39;s bump it up to\n84.759: 30\n86.759: GB everything else will be default\n91.159: launch instance so by now instance\n94.079: should be up and\n96.56: running all right so this is aun\n99.799: instance so I&amp;#39;m going to select this\n102.68: copy the IP address and then go to my\n106.92: terminal I&amp;#39;m currently in my home\n108.92: directory so I have to CD into the\n110.96: downloads directory where the key PA is\n113.32: so before I SSH into the\n116.719: server need to change permissions for\n119.32: the server so I&amp;#39;m going to use CH mode\n122.28: 600 and our keeper is Jenkins kubernetes\n125.6: so make this executable then use the\n128.759: command SSH d i the key pair BTU add the\n134.72: IP\n135.879: address sign in\n139.12: yes okay so we are in the server now\n142.16: clear the screen so our server is ready\n145.239: so first things first let&amp;#39;s update it so\n148.72: sudo up update up upgrade at the same\n152.28: time press\n157.28: enter that&amp;#39;s done going to clear the\n160.12: screen here next going to install Docker\n164.28: so my browser go to install Docker on\n169.159: the\n171.8: btu like\n175.44: this there are several ways of\n177.36: installing I&amp;#39;m going to use the APT\n179.84: repository so I will copy these commands\n182: and run them on the terminal paste them\n183.959: here and run\n185.76: them\n190.84: yes that&amp;#39;s\n192.959: done next is to actually do the\n195.799: installation copy\n198.519: this past this here press\n202.519: enter yes\n210.04: that&amp;#39;s done so let&amp;#39;s run hello world\n214.2: see but this is hello world with\n217.959: sudo and you can clearly see hello from\n221.64: Docker but we need to set it up such\n224.519: that if you run do run hello world still\n228.04: works without the sudo so you have to\n230.799: add\n231.799: some root privileges to a\n234.959: user and for that you scroll all the way\n238.2: down\n240.519: to post installation\n244.319: steps first create a group\n247.959: Docker and this is already created so\n250.56: you see it already\n252.959: exists next add the user to the docker\n258.479: group that&amp;#39;s\n261.28: done at this point you can restart your\n265.04: server but you can also continue\n267.479: especially if you have a Linux server so\n270.08: I&amp;#39;m going to run new group Docker to\n273.08: activate it without restarting the\n275: virtual\n276.199: server and now you can\n278.759: run do run hello word it should give you\n282.56: the same\n283.68: output as the one we run using\n287.919: S then one more thing I will enable\n291.52: Docker start from boot of our server so\n294.4: I&amp;#39;ll copy this run this here so that&amp;#39;s\n297.52: dock run as a service so anytime I on my\n300.199: server Docker should start running\n302.96: that&amp;#39;s it for Docker let&amp;#39;s clear the\n305: screen so if I do\n307.199: Docker FR so you can see my Docker is\n310.72: installed\n313.32: correctly\n314.88: next now because we want to do an\n316.88: integration between Jenkins and\n318.4: kubernetes I&amp;#39;m going to create a mini\n320.639: Cube cluster as\n322.039: well and for that I&amp;#39;m going to use mini\n325.68: cube with a driver Docker okay so that&amp;#39;s\n328.6: the reason why I installed\n330.84: so for that let&amp;#39;s go to the browser go\n334.24: to install mini\n336.039: Cube mini Cube\n338.68: install go in here and our system is a\n342.639: Linux instance so select Linux and this\n345.479: is the command for installing mini Cube\n347.919: so copy\n349.44: it paste it here and run\n353.4: it and then you can do minibe start\n365.84: so the minibe installation is done if I\n368.88: do mini Cube status mini cube is\n372.12: currently running I want to be able to\n374.52: interact with the kuet cluster using\n377.16: keep CLE so I have to install that so on\n380.039: our browser to install keep CLE on The\n386.08: Bu go in here for the links\n394.12: all right so I&amp;#39;m going to copy these\n395.52: commands here and run them one by\n398.4: one copy\n405.639: this next download the public\n418.52: key and then let&amp;#39;s add the app\n424.639: repository copy and run\n429.919: this now we can update and install keep\n434.36: color there several ways you can do this\n436.639: so either way still\n440.72: fine so that&amp;#39;s\n445: done you do keep C version clients you\n448: see our version client right right here\n451.16: so at this point if you do keep\n453.039: CLE get\n454.879: noes you see the number of notes from\n457.84: our mini Cube cluster and it&amp;#39;s a single\n461.319: control playe\n463.24: node also if I do doer PS see that mini\n467.8: cube is running as a container and\n470.479: that&amp;#39;s because when we did the\n472: installation for mini\n474.56: Cube it used doer as it driver right\n478.96: here\n480.479: for some information about our\n482.36: cluster and do keep CLE\n485.319: cluster\n487.639: info this is a URL for kubernetes\n491.479: cluster so in case we need it this is\n493.96: how to get it you would also find out by\n497.28: running dock Network ls. mini cube when\n501.52: you create the instance it runs on a\n504.56: network called mini Cube which is a\n506.28: bridged Network so that is important\n509.759: because I&amp;#39;m going to use a container for\n512.56: the Jenkins I need to make sure that the\n514.839: Jenkins is equally running on this\n517.24: network so that the two containers can\n519.519: communicate with each\n521: other let&amp;#39;s go ahead and create our\n523.719: Jenkins\n525.36: instance clear the screen first now to\n529.08: run our Jenkins container we will use\n531.04: this command first we using the Jenkins\n534.16: LTS the long-term support image I&amp;#39;m\n537.76: calling this Jenkins Cube\n540.399: we exposing port 8080 for Jenkins UI and\n544.839: Port 50,000 for any junkins agents that\n547.959: we may have and then you mount volume\n550.72: for the docker\n552.56: soet and then this Mount volume for the\n557: binaries of our dock installation as\n559.44: well then we will use the user\n562.399: rout you set Docker group ID as an\n565.6: environment\n566.68: variable and you can see here we are\n568.92: putting the container on the network\n571.079: mini Cube which is the network of the\n573.72: mini Cube commity cluster press\n577.6: enter and this should start\n580.48: running it&amp;#39;s done so let&amp;#39;s do Docker\n584.519: PS so you can see two containers here\n587.48: one for mini Cube and the other one is\n590.36: for jenies and they are both running on\n593.04: the same\n594.519: network now at this point we will set up\n597.04: our Jenkins UI before I do that I will\n599.8: clear the\n601.76: screen so do\n604.2: PS continue now when I do Docker logs\n610.04: jenin\n612.88: Cube these are the logs the initial logs\n615.68: of our jenin server this is the initial\n618.16: password now before I even use this I&amp;#39;ll\n621.44: go to my eect instance to the security\n624.48: group\n629.959: and make sure that port 8080 and Port\n633.32: this is Port 880 is for Jenkins\n636.56: UI and then P 50,000 is for jenin agents\n642.36: so all of them from my IP this is for\n645.839: Jenkins\n647.639: agents save the\n650.12: rules can now go\n652.36: back all\n654.04: right at this point you can copy the IP\n657.399: address go to your browser\n660.48: P your IP colon\n666.8: 8080 so we need our initial password now\n670: which is what we saw right here copy\n672.92: this remember we use the command dock\n675.76: logs the container name of Jenkins to\n678.6: get\n679.72: that paste it in here and\n684.76: continue install suggested\n687.76: plugins but this take a while so I&amp;#39;ll\n690.12: pause the\n693.8: video I&amp;#39;m going to use the username\n697: admin password fill\n700.32: it call this\n702.92: admin\n705.04: iqu with an email address save and\n710.959: continue save and finish start using\n716.68: Jenkins uh Jenkins UI is ready\n721.639: I&amp;#39;ll go to manage\n725.76: Jenkins go to\n728.16: plugins and I have to install some\n730.76: plugins I&amp;#39;m going to install the plugin\n733.079: for\n733.959: Docker this and Docker\n736.88: Pipeline and then the plugin for\n742.36: kubernetes this\n744.079: one\n748.16: install that&amp;#39;s\n750.6: installed go back to manage\n753.32: Jenkins go the\n756.639: tools and scroll all the way down at\n760.12: Docker let&amp;#39;s call\n762.399: this Docker and installation install\n766.24: automatically from\n768.48: do.com apply and\n771.72: save that&amp;#39;s\n773.639: done because of the installation I would\n776.959: go back to my terminal\n779.8: let&amp;#39;s clear the screen\n781.56: here do\n783.88: PS and I&amp;#39;m going to do a restart of our\n787.519: dock in so dock\n791.12: restart L\n794.68: cube right let&amp;#39;s refresh this\n800.72: page sign in with your username and\n807.04: password okay here we back in now at\n811.24: this point go back to our\n814.279: dashboard and then we are going to\n816.079: configure a cloud okay so configure\n818.72: Cloud this is going to be a new\n821.24: cloud and I&amp;#39;ll call this\n825.32: kubernetes it&amp;#39;s soft type kubernetes\n829.04: create now we need to fill in with\n831.56: information about our kubernetes cluster\n834.199: but for the URL you do keep cuddle on\n837.959: the terminal\n839.6: cluster\n840.759: info this is our URL for the kubernetes\n844.16: cluster copy\n846.399: this and in here and paste\n851.16: that the server\n853.6: certificate that the server certificate\n856.079: is the caer of the within cluster and\n859.079: that is usually located the sl. cube\n862.839: directory you will find it inside this\n865.639: config file which is actually the cube\n867.759: config file right so I&amp;#39;m going to cut\n870.72: the do Cube\n873.399: config and this is our CS\n877.12: set so I&amp;#39;m going to try to get the\n879.48: content of that so I&amp;#39;ll use\n883.839: cut the location is this that I just\n888.399: copied and then I&amp;#39;ll pipe it with base\n892.16: 64\n895.44: encryption Echo and this it&amp;#39;s our server\n900.8: certificate so highlight the whole thing\n903.519: copy it and in here you can paste it all\n908.88: right now for now you can disable H\n911.48: https certificate\n914: check is name\n916.36: space I want to isolate stuff in the\n918.68: cluster so I&amp;#39;m going to create a new\n920.24: name space if I do keep\n922.959: cuddle get name\n925.8: spaces there is four name spaces here\n929.56: all of them default name spaces I&amp;#39;m\n932.079: going to create a new one so keep cuddle\n936.16: create name space or\n939.319: NS and I&amp;#39;ll call the Nam space\n944.12: jenin right so when I run get name\n947: spaces again this is our new name space\n950.279: so I&amp;#39;m going to use that as a kued this\n953.56: name space\n956.56: here agent Docker registry can leave\n959.48: that as blank\n961.6: credentials at the moment there are no\n964.92: credentials so in the past video I did\n967.68: use the keep config to configure the\n969.88: connection between the Jenkins server\n971.92: and the kubernetes cluster but that\n974.16: presents a lot of security issues so in\n977.12: this video I&amp;#39;m going to use the service\n979.48: account to configure the credentials\n981.72: instead so before we do cre credential\n985: here on the terminal still going to\n987.48: clear the screen\n989.6: let&amp;#39;s do keep\n991.12: cudle get service account or sa there&amp;#39;s\n995.519: only one service account which is a\n997.04: default\n999.04: one right now in our name space\n1004.079: Jenkins still only the default one so\n1007.92: when I do keep\n1010.519: CLE\n1012.079: create service account essay and I&amp;#39;ll\n1015.56: call the service account Jenkins and I&amp;#39;m\n1018.399: creating inside the Jenkins name\n1021.839: space press enter and that should create\n1024.679: it right now when you get service\n1029.28: accounts in the Jenkins name space you\n1031.799: should see our new Jenkins service\n1034.36: account\n1036.64: created when you do c cudle\n1039.88: describe service accounts our service\n1042.36: accounts is Jenkins and it&amp;#39;s in the name\n1045.24: space\n1047.84: Jenkins you see that there is no token\n1051.2: in this service account now this is\n1053.84: because the new updates of kubernetes\n1056.6: that came out after the version\n1059.76: 1.24 you have to create your own tokens\n1062.4: and attach it to it before that it would\n1065.2: automatically generate the token so for\n1068.16: now we have to create our own token and\n1070.64: that token is going to be our secret\n1072.24: text for the Jenkins\n1074.88: credential in order to create the token\n1078.24: we going to use arbach Ro based access\n1080.72: control for kubernetes in order to bind\n1083.64: Jenkins to the kubernetes cluster via\n1086.44: the service\n1087.88: account so before creating a token I&amp;#39;m\n1091.36: going to create a cluster\n1093.12: row now this cluster R will have admin\n1096.799: access or admin\n1098.24: privileges that way we can we can\n1100.799: interact with the kuet cluster more\n1103.6: effectively so this is SK create cluster\n1106.76: Ro binding\n1109.08: and we are creating the cluster row\n1111.84: binding Jenkins\n1114.2: binding and the cluster row is cluster\n1116.799: admin right and of course our service\n1119.48: account is Jenkins and it&amp;#39;s inside the\n1122.159: Jenkins name\n1123.919: space press enter and that should create\n1126.36: your class blinding we that out of the\n1129.2: way we can go ahead and create our\n1134.08: token using a simple\n1136.96: command C create Tok\n1140.52: we giving it the name Jenkins and don&amp;#39;t\n1143.88: forget we are still working in the\n1145.559: Jenkins name\n1147: space now when you create token and you\n1150: don&amp;#39;t specify the\n1151.36: duration it expires every hour and so if\n1155.2: you don&amp;#39;t take care you might think\n1156.64: something is wrong with your pipeline or\n1159.72: something is broken but tokens in the\n1162.039: new versions of cinet is expire every\n1164.24: hour so I&amp;#39;m setting my duration as 24\n1167.44: hours that way way I have the token\n1170.159: valid for the whole day\n1172.6: right of course you can change this if\n1175.28: you want it for multiple days let&amp;#39;s say\n1177.4: 7 days you can use 7D for that so for\n1181.2: now we just keep it as 24 H for one day\n1185.96: or 24\n1187.159: hours press enter and that should create\n1190.36: a token and this here is our\n1194.64: token copy this and this is going to be\n1197.96: our secur text for our credential so\n1199.919: back on our Jenkins\n1201.44: UI click add\n1204.28: Jenkins and select secret\n1207.679: text and then paste the token that we\n1210.96: copied\n1212.4: here paste it here as a secret text for\n1216.52: the\n1217.84: ID let&amp;#39;s call it service account when it\n1221.36: is\n1223.32: token same as a description add\n1228.76: and then we can select it here\n1233.08: right that&amp;#39;s selected jenin URL that is\n1237.2: just this address here can copy it from\n1241.32: rate paste this here it&amp;#39;s the same for\n1245: the tunnel the only difference is the\n1247: tunnel is for the agents so what\n1251.08: 50,000 you have everything we need at\n1253.32: this point so you can text connection\n1255.96: click testt connection\n1259.48: and you would see that we are connected\n1261.2: to kuber version\n1263.08: 1.31 so our connection is\n1267.08: successful I will leave the rest as\n1269.88: default so save\n1272.88: this all right so we have one cloud is\n1275.919: kubernetes cloud and it&amp;#39;s\n1278.84: saved\n1280.44: okay now let&amp;#39;s go back into the cloud\n1283.919: which is our KU you see p templates what\n1287.96: we did earlier here was for\n1289.679: configurations right let&amp;#39;s configure\n1292.52: some for templates\n1294.72: here for the name I&amp;#39;ll will give it CI\n1298.48: agent don&amp;#39;t forget our name space is\n1302.039: Jenkins leave the labels as it\n1308.12: is I leave all this as default go to\n1312: Containers add container container\n1316.52: template for container template\n1319.44: because we are creating an agent for\n1321.679: Jenkins or a slave for Jenkins so we\n1324.72: need to use the Jenkins slave doer image\n1328.88: and that is\n1330.48: jnlp now this is the default name for\n1333.88: the Jenkin slave Docker image to use so\n1336.88: I&amp;#39;m just using that now for the docker\n1339.08: image in the past the Jenkins slave\n1342.679: Docker image was Jenkins SL slave okay\n1348.919: that was the image let&amp;#39;s say col latest\n1351.96: which is a\n1353.2: tag but this is deprecated and so you\n1357.32: need to use a\n1358.96: different image that&amp;#39;s available but\n1362: pretty much performs the same purpose as\n1364.6: the slave that was used back then now\n1367.72: the new image is inbound agent so\n1371.919: Jenkins inbound Dash agent and the tag\n1375.96: is\n1376.919: latest so that is that for the work\n1380.2: directory I&amp;#39;ll keep it as Jenkins agent\n1383.559: for the commands to run I&amp;#39;ll clear this\n1387.2: don&amp;#39;t want any commands here to\n1390.24: run let&amp;#39;s see if there are some other\n1392.799: stuff you can fill in\n1395.64: here okay service account our service\n1398.279: account is called\n1400.039: Jenkins that&amp;#39;s it so hit\n1402.96: create so you can see our Port template\n1405.36: is created now let&amp;#39;s go back to our Dash\n1409.08: board and then I&amp;#39;m going to create a job\n1411.559: but before I do that I&amp;#39;ll open up my\n1415.2: terminal and open one more is a white\n1420.88: background CD to downloads directory SSH\n1425.919: d i\n1427.36: Jenkins\n1431.52: when IP address is\n1435.3: [Music]\n1436.88: 3.90 past it here here right\n1440.64: so we are logged into the server twice\n1444: one in the white terminal the other in\n1447.12: the black terminal so I&amp;#39;m going to push\n1449.6: the UI up a little bit so if I do keep\n1454.36: color get nodes so we still on the same\n1457.88: classroom I do dock PS these are the two\n1461.76: containers for\n1463.52: Docker containers for Jenkins and mini\n1466.799: Cube all right so let me clear the\n1468.919: screen so what I would do is I would do\n1471.76: keep\n1472.919: cuddle get\n1475: PS in the namespace Jenkins I&amp;#39;m\n1478.44: basically going to monitor what happens\n1480.84: inside of my cluster whenever I build a\n1482.919: job in my Jenkins UI and I will use Das\n1486.48: dasw to monitor that so press\n1489.88: enter and we will keep this down here\n1493.6: and see what happens whenever we build a\n1496.64: job so back to Jenkins\n1501.159: dashboard create a new\n1503.64: item Now call this Jenkins\n1510.039: Cube this is a freestyle project so\n1512.84: let&amp;#39;s use\n1514.679: FP\n1521.399: restall this is a\n1524.279: junkins bades resty project\n1529.52: gooll all the way\n1531.64: down since it&amp;#39;s freestyle I&amp;#39;m not going\n1533.84: to use git so go all the way down to\n1537.039: build steps add a build step and I&amp;#39;m\n1541.08: going to run a simple shell command\n1544.279: execute\n1545.279: shell the command I run is let&amp;#39;s say get\n1549.52: the host name\n1552.32: right that&amp;#39;s\n1554.12: it apply and Save\n1559.12: I&amp;#39;m going to hit build now so click\n1562.96: build\n1574.279: now and you should see success this is\n1577.919: the host\n1580.679: name now you will observe that when we\n1583.96: did the build job here for the pipeline\n1587.2: nothing moved here no parts were spin up\n1590.48: because this use the system inot\n1593.24: executors so let&amp;#39;s go back to to\n1596.84: dashboard there you see build executed\n1600.52: status click on\n1606.08: this this is what we want to use to\n1609.08: build our jobs so I&amp;#39;m going to disable\n1612.039: the\n1613.559: default\n1615.36: configure and for the number of\n1617.2: executors I&amp;#39;ll keep it at\n1620.159: zero and this is for the builing node or\n1623.24: the building executed so save\n1626.24: this so any job will automatically route\n1630.24: to our Cloud which is the kuun clust\n1633.24: that we set\n1634.52: up this is our Cloud we set\n1637.6: up let&amp;#39;s go to Port templates this is\n1641.399: our Port\n1642.72: templates now in\n1645.24: here I&amp;#39;m going to change this usage to\n1648.76: use this node as much as\n1651.48: possible so I&amp;#39;ll select that everything\n1654.96: else will remain the\n1656.1: [Music]\n1657.279: same\n1659.72: sake okay let&amp;#39;s go back and try one more\n1664.32: time\n1675.559: now so you can see down here went from\n1679.24: pending to container\n1681.519: creating to now it&amp;#39;s\n1684.32: running at the name of the port is going\n1686.799: to be the port templates name appended\n1690.919: with some random hash which in this case\n1693.6: is tf9 S4 so the container is running\n1700.399: currently so what I would do\n1703.24: is go back to\n1706.44: dashboard this is our executor click on\n1709.799: it and when you go to\n1712.6: logs or part logs you see that this is\n1717.44: our container right that&amp;#39;s a jnlp\n1721.039: container go to\n1724.039: events and you see it assigned the\n1727.32: Jenkin CI agent to mini Cube and then it\n1730.08: pulled the image for the Jenkins slave\n1734: which is inbound agents latest\n1738.279: now after successfully pulling the\n1739.72: docker image it created a container and\n1742.88: started it which is exactly what\n1745.519: happened on the terminal\n1748.24: here I&amp;#39;m going to go back to\n1752.36: dashboard and then for the time being I\n1754.919: will stop this contrl\n1759.64: C I&amp;#39;m going to clear the\n1762.159: screen and the next job is going to be a\n1765.12: pipeline job you&amp;#39;re still going to watch\n1767.84: it so go to new\n1771.2: item at this time I&amp;#39;m going to\n1775.48: create jkin Cube freestyle project\n1779.799: Pipeline and I will choose\n1782.08: pipeline\n1784.76: okay so this is Jenkins kubernetes\n1788.36: pipeline job go all the way\n1791.64: down and this is a pipeline job so we\n1794.279: have to find a script here so paste this\n1797.24: script\n1799.039: now this is a simple\n1800.679: script you can also use Jenkins file to\n1803.12: run this just by selecting it\n1807.08: Fromm and checking out the code from\n1809.96: GitHub all right let&amp;#39;s just run it here\n1813.159: so we have pipeline we have agents now\n1817.32: agent is kubernetes remember this\n1820.08: kubernetes is\n1822.44: from open another\n1825: page here\n1829.76: we go to manage\n1832.12: Jenkins go to\n1836.48: Cloud this is the name that&amp;#39;s referenced\n1838.88: in the pipeline that&amp;#39;s kubernetes that&amp;#39;s\n1841.919: our agent and then we have a yo\n1844.6: instruction here for a pod and you use\n1847.559: yo with three ticks and then everything\n1850.799: in between\n1852.679: that now by the way you can see this is\n1854.76: a pod we have multiple containers in\n1857.6: here we have Maven container you have\n1860.679: busy box\n1862.799: container we are given it two\n1866.12: trials and then in the stages we have\n1869.88: stage called run\n1873.399: maving at this stage you&amp;#39;re going to\n1876.12: spin up the container\n1877.639: maving which is this name it&amp;#39;s actually\n1881.24: the name we gave the Ming image this is\n1885.08: the name right here should be the same\n1887.6: so we will call that\n1889.159: container and verify the version of\n1892.2: Maven do same for the buy box container\n1896.08: and this you run the binary for the busy\n1900.32: box do image apply and save for\n1906.24: now then I will click build\n1914.6: now now as this builds you see what&amp;#39;s\n1917.6: happen down here this is the name we\n1920: gave it and it&amp;#39;s appended by some random\n1923.36: hash right so it&amp;#39;s\n1926.159: pending bending and then it starts\n1934.039: creating and you can see now it&amp;#39;s\n1936.32: running so it&amp;#39;s successfully created the\n1942.84: container now an interesting thing about\n1945.36: this actually is let&amp;#39;s go to configure\n1952.24: I&amp;#39;m sure everybody knows that a part is\n1955.48: a smallest element in the kubernetes\n1958.399: cluster even though in most\n1961: instances you run a single container\n1963.36: inside a inside a pod but it&amp;#39;s possible\n1966.76: to run multiple containers inside a pod\n1969.799: which is why we have this containers all\n1973.6: running inside this part right and the\n1976.799: part is hosted on the kubernetes\n1979.799: agent and go back now let go to the\n1985: dashboard or you can also cck click this\n1987.519: to check the\n1990.2: progress this is the part right you can\n1993.12: see the name here is exact same as\n1996.08: this now as soon as it finishes running\n1998.84: the process it will go offline which is\n2003.039: why you see this is offline here if you\n2006.12: want to check the logs you can click on\n2008.32: this and you should see\n2011.24: logs coming from this\n2014: container and go to the logs on the left\n2018.32: side or the part\n2020.88: logs and these are the three containers\n2023.88: you see it&amp;#39;s created three two of them\n2026.519: were in the script which is the maven\n2028: and busy box and this is the dnlp image\n2033.559: if you click on events down here you see\n2036.84: the entire process\n2040.279: it first put the MAV Docker image and\n2044.48: then created the maven\n2046.039: container then this same for busy box\n2049.28: and started it before it actually P the\n2053.76: Jenkins inbound agent container and\n2056.96: started\n2058.2: it I&amp;#39;m going to use contrl C to exit\n2061.96: this terminal the white one now make\n2064.679: this a little bigger so I&amp;#39;ll do keep\n2066.919: cuddle get ports names space\n2072.44: Jenkins right so these are the two ports\n2075.679: that we created for the two processes\n2077.639: that we R let&amp;#39;s do keep\n2080.2: cudle describe let&amp;#39;s say the first\n2085.44: one name space\n2088.879: Jenkins sorry I got a keyword\n2094.8: part all right so this the description\n2097.76: of the um CI agents job that we built\n2105.16: earlier if you look at the event you see\n2108.839: it pulled the\n2110.72: image started running\n2113: it you see where it created the\n2116.079: container we can do same for the other\n2119.32: one the only thing that&amp;#39;s going to\n2121.28: change is the\n2123.04: name going to get rid of\n2126.16: this going to C\n2133.72: Cy copy this paste it in here press\n2138.92: enter and this is the logs or the\n2142: description of the new\n2145.28: container the new part which contains\n2148.04: three\n2149.56: containers scroll down you should see\n2152.24: all the information about\n2156.04: it and you see how cuet was spinning up\n2159.8: all the three containers here\n2164.8: right this is how you\n2167.4: would configure the integration between\n2170: Jenkins and kubernetes cluster such that\n2173.319: use kubernetes port as your Jenkins\n2175.76: build\n2177.16: agent if you have any questions comments\n2179.92: please leave it in this comment section\n2182.2: below like comment and subscribe to my\n2184.64: channel for more videos like this and\n2187.92: I&amp;#39;ll will see you on the next one before\n2191.76: you leave don&amp;#39;t forget to do a\n2195.359: cleanup since we use an E2 instance for\n2199.599: this make sure that your instance is\n2202.96: terminated\n2205.2: also on the black terminal here remember\n2208.319: we use Docker for both Jenkins and mini\n2211.4: Cube so make sure that you\n2214.72: stop both containers for mini Cube and\n2219.04: Cas so\n2221.96: just copy and paste this here press\n2224.319: enter the same for the Jenkin and that\n2226.92: should be done and after that you can\n2229.28: turn off your virtual\n2231.68: server okay thanks once again and I&amp;#39;ll\n2235.119: see you on the next one\n```\n\n\nfrom this youtube link @https://youtu.be/wQxahZUwYoM?si=LIkcfCHts-sVMKtR  insert takeaway notes and give me some instructions to do this project\n\n"}],"id":"5bcad652-a442-40ff-ba8f-a8a51a293b67","mentionables":[{"type":"current-file","file":"Using Kubernetes Pods as Jenkins Pipeline Build Agents (202412051700).md"},{"type":"url","url":"https://youtu.be/wQxahZUwYoM?si=LIkcfCHts-sVMKtR"}]},{"role":"assistant","content":"","id":"652d6f76-7289-4315-b695-d53918679f27","metadata":{}},{"role":"user","content":{"root":{"children":[{"children":[{"detail":0,"format":0,"mode":"normal","style":"","text":"find me some relevant note ","type":"text","version":1}],"direction":"ltr","format":"","indent":0,"type":"paragraph","version":1,"textFormat":0,"textStyle":""}],"direction":"ltr","format":"","indent":0,"type":"root","version":1}},"promptContent":[{"type":"text","text":"\n\nfind me some relevant note \n\n"}],"id":"da8317bd-51d0-44b6-a593-be69dfdf470e","mentionables":[{"type":"current-file","file":"Using Kubernetes Pods as Jenkins Pipeline Build Agents (202412051700).md"}]},{"role":"assistant","content":"","id":"80e62e8b-b0ed-442c-a4eb-773ce9b82441","metadata":{}}]}